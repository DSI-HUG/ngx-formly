{"version":3,"sources":["./src/app/pages/home/home.module.ts","./src/app/pages/home/home-routing.module.ts","./src/app/pages/home/home.page.ts","./src/app/pages/home/home.page.html"],"names":[],"mappings":"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","file":"src-app-pages-home-home-module.c870e3ca1fdea1769eca.js","sourcesContent":["import { CommonModule } from '@angular/common';\nimport { MatIconModule } from '@angular/material/icon';\nimport { FlexLayoutModule } from '@angular/flex-layout';\nimport { TranslocoModule } from '@ngneat/transloco';\nimport { NgModule } from '@angular/core';\n\nimport { RestDataModule } from 'src/app/common/components/rest-data';\nimport { AppCardModule } from 'src/app/common/components/app-card';\nimport { AppUtils } from 'src/app/common/core/app-utils.service';\n\nimport { HomeRoutingModule } from './home-routing.module';\nimport { HomePage } from './home.page';\nimport { MainLayoutModule } from '../main-layout';\n\n@NgModule({\n    declarations: [\n        HomePage\n    ],\n    imports: [\n        HomeRoutingModule,\n        CommonModule,\n        TranslocoModule,\n        FlexLayoutModule,\n        RestDataModule,\n        MatIconModule,\n        AppCardModule,\n        MainLayoutModule\n    ]\n})\nexport class HomeModule {\n}\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { HomePage } from './home.page';\n\nconst routes: Routes = [\n    {\n        path: '',\n        component: HomePage,\n    },\n];\n\n@NgModule({\n    imports: [RouterModule.forChild(routes)],\n    exports: [RouterModule]\n})\nexport class HomeRoutingModule { }\n","import { MainLayoutStore } from './../main-layout/store/main-layout.store';\nimport { Component, OnDestroy, OnInit } from '@angular/core';\nimport { TranslocoService } from '@ngneat/transloco';\n\nimport { finalize, tap } from 'rxjs/operators';\n\nimport { RestData, restDataErrorStrategy } from 'src/app/common/components/rest-data';\nimport { User } from 'src/app/common/models/user.model';\nimport { LayoutPage } from '../main-layout/models/layout-page.model';\nimport { Observable } from 'rxjs';\nimport { UserService } from 'src/app/common/services/epop-api/user.service';\n\n@Component({\n    selector: 'epop-home-page',\n    styleUrls: ['home.page.scss'],\n    templateUrl: 'home.page.html'\n})\nexport class HomePage extends LayoutPage implements OnInit, OnDestroy {\n\n    public usersRestData: RestData<User> = new RestData<User>();\n\n    constructor(\n        private translocoService: TranslocoService,\n        private usersService: UserService,\n        mainLayoutStore: MainLayoutStore\n    ) {\n        super(mainLayoutStore);\n     }\n\n    public ngOnInit(): void {\n        this.refreshUsers();\n        this.subscribePageTitle(this.translocoService.selectTranslate('title', {}, 'home'));\n    }\n\n    public ngOnDestroy(): void {\n\n    }\n\n    // --- LISTENER(s) ---\n\n    public onListener(): void {\n\n    }\n\n    // --- HANDLER(s) ---\n\n    public logout(): void {\n\n    }\n\n    // --- HELPER(s) ---\n\n    private refreshUsers(): void {\n        this.usersRestData.isLoading(true).useRetry(true).setValue(undefined);\n\n        setTimeout(() => {\n            this.usersService\n                .getCurrentUser()\n                .pipe(\n                    restDataErrorStrategy({\n                        restData: this.usersRestData,\n                        message: this.translocoService.translate('dataError', {}, 'home'),\n                    }),\n                    tap((user: User) => this.usersRestData.setValue(user)),\n                    finalize(() => this.usersRestData.isLoading(false))\n                )\n                .subscribe();\n        }, 1500);\n    }\n}\n","\n    <ng-container *transloco=\"let translate; scope: 'home'; read: 'home';\">\n        <ng-template #errorTpl>\n            <rest-data-error [restData]=\"usersRestData\"></rest-data-error>\n        </ng-template>\n\n        <ng-template #loadingTpl>\n            <rest-data-loading></rest-data-loading>\n        </ng-template>\n\n        <ng-template #emptyTpl>\n            {{ translate('noData') }}\n        </ng-template>\n\n        <ng-template #contentTpl>\n            <ng-container *ngIf=\"usersRestData?.value; else emptyTpl\">\n            </ng-container>\n        </ng-template>\n        <epop-page-container>\n        </epop-page-container>\n    </ng-container>"],"sourceRoot":"webpack:///"}