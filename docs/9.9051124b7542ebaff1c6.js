(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{eIfJ:function(e,t,n){"use strict";n.r(t),n.d(t,"PlanningGeneratorModule",function(){return ol});var i=n("3Pt+"),o=n("GU7r"),a=n("fXoL"),r=n("FKr1"),s=n("8LU1"),l=n("R1ws"),c=n("u47x");const d=["thumbContainer"],p=["toggleBar"],h=["input"],u=function(){return{enterDuration:150}},g=["*"],f=new a.r("mat-slide-toggle-default-options",{providedIn:"root",factory:()=>({disableToggleValue:!1})});let m=0;const b={provide:i.m,useExisting:Object(a.W)(()=>y),multi:!0};class C{constructor(e,t){this.source=e,this.checked=t}}class _{constructor(e){this._elementRef=e}}const v=Object(r.x)(Object(r.t)(Object(r.u)(Object(r.v)(_)),"accent"));let y=(()=>{class e extends v{constructor(e,t,n,i,o,r){super(e),this._focusMonitor=t,this._changeDetectorRef=n,this.defaults=o,this._animationMode=r,this._onChange=e=>{},this._onTouched=()=>{},this._uniqueId="mat-slide-toggle-"+ ++m,this._required=!1,this._checked=!1,this.name=null,this.id=this._uniqueId,this.labelPosition="after",this.ariaLabel=null,this.ariaLabelledby=null,this.change=new a.n,this.toggleChange=new a.n,this.tabIndex=parseInt(i)||0}get required(){return this._required}set required(e){this._required=Object(s.b)(e)}get checked(){return this._checked}set checked(e){this._checked=Object(s.b)(e),this._changeDetectorRef.markForCheck()}get inputId(){return`${this.id||this._uniqueId}-input`}ngAfterContentInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{"keyboard"===e||"program"===e?this._inputElement.nativeElement.focus():e||Promise.resolve().then(()=>this._onTouched())})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}_onChangeEvent(e){e.stopPropagation(),this.toggleChange.emit(),this.defaults.disableToggleValue?this._inputElement.nativeElement.checked=this.checked:(this.checked=this._inputElement.nativeElement.checked,this._emitChangeEvent())}_onInputClick(e){e.stopPropagation()}writeValue(e){this.checked=!!e}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck()}focus(e){this._focusMonitor.focusVia(this._inputElement,"keyboard",e)}toggle(){this.checked=!this.checked,this._onChange(this.checked)}_emitChangeEvent(){this._onChange(this.checked),this.change.emit(new C(this,this.checked))}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}}return e.\u0275fac=function(t){return new(t||e)(a.Ob(a.l),a.Ob(c.h),a.Ob(a.h),a.Zb("tabindex"),a.Ob(f),a.Ob(l.a,8))},e.\u0275cmp=a.Ib({type:e,selectors:[["mat-slide-toggle"]],viewQuery:function(e,t){if(1&e&&(a.Rc(d,!0),a.Rc(p,!0),a.Rc(h,!0)),2&e){let e;a.xc(e=a.dc())&&(t._thumbEl=e.first),a.xc(e=a.dc())&&(t._thumbBarEl=e.first),a.xc(e=a.dc())&&(t._inputElement=e.first)}},hostAttrs:[1,"mat-slide-toggle"],hostVars:12,hostBindings:function(e,t){2&e&&(a.Xb("id",t.id),a.Db("tabindex",t.disabled?null:-1)("aria-label",null)("aria-labelledby",null),a.Gb("mat-checked",t.checked)("mat-disabled",t.disabled)("mat-slide-toggle-label-before","before"==t.labelPosition)("_mat-animation-noopable","NoopAnimations"===t._animationMode))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex",name:"name",id:"id",labelPosition:"labelPosition",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],required:"required",checked:"checked"},outputs:{change:"change",toggleChange:"toggleChange"},exportAs:["matSlideToggle"],features:[a.Bb([b]),a.zb],ngContentSelectors:g,decls:16,vars:18,consts:[[1,"mat-slide-toggle-label"],["label",""],[1,"mat-slide-toggle-bar"],["toggleBar",""],["type","checkbox","role","switch",1,"mat-slide-toggle-input","cdk-visually-hidden",3,"id","required","tabIndex","checked","disabled","change","click"],["input",""],[1,"mat-slide-toggle-thumb-container"],["thumbContainer",""],[1,"mat-slide-toggle-thumb"],["mat-ripple","",1,"mat-slide-toggle-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered","matRippleRadius","matRippleAnimation"],[1,"mat-ripple-element","mat-slide-toggle-persistent-ripple"],[1,"mat-slide-toggle-content",3,"cdkObserveContent"],["labelContent",""],[2,"display","none"]],template:function(e,t){if(1&e&&(a.mc(),a.Ub(0,"label",0,1),a.Ub(2,"div",2,3),a.Ub(4,"input",4,5),a.cc("change",function(e){return t._onChangeEvent(e)})("click",function(e){return t._onInputClick(e)}),a.Tb(),a.Ub(6,"div",6,7),a.Pb(8,"div",8),a.Ub(9,"div",9),a.Pb(10,"div",10),a.Tb(),a.Tb(),a.Tb(),a.Ub(11,"span",11,12),a.cc("cdkObserveContent",function(){return t._onLabelTextChange()}),a.Ub(13,"span",13),a.Nc(14,"\xa0"),a.Tb(),a.lc(15),a.Tb(),a.Tb()),2&e){const e=a.yc(1),n=a.yc(12);a.Db("for",t.inputId),a.Cb(2),a.Gb("mat-slide-toggle-bar-no-side-margin",!n.textContent||!n.textContent.trim()),a.Cb(2),a.nc("id",t.inputId)("required",t.required)("tabIndex",t.tabIndex)("checked",t.checked)("disabled",t.disabled),a.Db("name",t.name)("aria-checked",t.checked.toString())("aria-label",t.ariaLabel)("aria-labelledby",t.ariaLabelledby),a.Cb(5),a.nc("matRippleTrigger",e)("matRippleDisabled",t.disableRipple||t.disabled)("matRippleCentered",!0)("matRippleRadius",20)("matRippleAnimation",a.oc(17,u))}},directives:[r.o,o.a],styles:[".mat-slide-toggle{display:inline-block;height:24px;max-width:100%;line-height:24px;white-space:nowrap;outline:none;-webkit-tap-highlight-color:transparent}.mat-slide-toggle.mat-checked .mat-slide-toggle-thumb-container{transform:translate3d(16px, 0, 0)}[dir=rtl] .mat-slide-toggle.mat-checked .mat-slide-toggle-thumb-container{transform:translate3d(-16px, 0, 0)}.mat-slide-toggle.mat-disabled{opacity:.38}.mat-slide-toggle.mat-disabled .mat-slide-toggle-label,.mat-slide-toggle.mat-disabled .mat-slide-toggle-thumb-container{cursor:default}.mat-slide-toggle-label{display:flex;flex:1;flex-direction:row;align-items:center;height:inherit;cursor:pointer}.mat-slide-toggle-content{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-slide-toggle-label-before .mat-slide-toggle-label{order:1}.mat-slide-toggle-label-before .mat-slide-toggle-bar{order:2}[dir=rtl] .mat-slide-toggle-label-before .mat-slide-toggle-bar,.mat-slide-toggle-bar{margin-right:8px;margin-left:0}[dir=rtl] .mat-slide-toggle-bar,.mat-slide-toggle-label-before .mat-slide-toggle-bar{margin-left:8px;margin-right:0}.mat-slide-toggle-bar-no-side-margin{margin-left:0;margin-right:0}.mat-slide-toggle-thumb-container{position:absolute;z-index:1;width:20px;height:20px;top:-3px;left:0;transform:translate3d(0, 0, 0);transition:all 80ms linear;transition-property:transform}._mat-animation-noopable .mat-slide-toggle-thumb-container{transition:none}[dir=rtl] .mat-slide-toggle-thumb-container{left:auto;right:0}.mat-slide-toggle-thumb{height:20px;width:20px;border-radius:50%}.mat-slide-toggle-bar{position:relative;width:36px;height:14px;flex-shrink:0;border-radius:8px}.mat-slide-toggle-input{bottom:0;left:10px}[dir=rtl] .mat-slide-toggle-input{left:auto;right:10px}.mat-slide-toggle-bar,.mat-slide-toggle-thumb{transition:all 80ms linear;transition-property:background-color;transition-delay:50ms}._mat-animation-noopable .mat-slide-toggle-bar,._mat-animation-noopable .mat-slide-toggle-thumb{transition:none}.mat-slide-toggle .mat-slide-toggle-ripple{position:absolute;top:calc(50% - 20px);left:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}.mat-slide-toggle .mat-slide-toggle-ripple .mat-ripple-element:not(.mat-slide-toggle-persistent-ripple){opacity:.12}.mat-slide-toggle-persistent-ripple{width:100%;height:100%;transform:none}.mat-slide-toggle-bar:hover .mat-slide-toggle-persistent-ripple{opacity:.04}.mat-slide-toggle:not(.mat-disabled).cdk-keyboard-focused .mat-slide-toggle-persistent-ripple{opacity:.12}.mat-slide-toggle-persistent-ripple,.mat-slide-toggle.mat-disabled .mat-slide-toggle-bar:hover .mat-slide-toggle-persistent-ripple{opacity:0}@media(hover: none){.mat-slide-toggle-bar:hover .mat-slide-toggle-persistent-ripple{display:none}}.cdk-high-contrast-active .mat-slide-toggle-thumb,.cdk-high-contrast-active .mat-slide-toggle-bar{border:1px solid}.cdk-high-contrast-active .mat-slide-toggle.cdk-keyboard-focused .mat-slide-toggle-bar{outline:2px dotted;outline-offset:5px}\n"],encapsulation:2,changeDetection:0}),e})(),x=(()=>{class e{}return e.\u0275mod=a.Mb({type:e}),e.\u0275inj=a.Lb({factory:function(t){return new(t||e)}}),e})(),O=(()=>{class e{}return e.\u0275mod=a.Mb({type:e}),e.\u0275inj=a.Lb({factory:function(t){return new(t||e)},imports:[[x,r.p,r.h,o.c],x,r.h]}),e})();var w=n("QPBi"),k=n("ofXK");let A=(()=>{class e{}return e.\u0275mod=a.Mb({type:e}),e.\u0275inj=a.Lb({factory:function(t){return new(t||e)},imports:[[k.c,w.h,i.j,O]]}),e})();var P=n("bTqV"),T=n("tYwE"),S=n("XNiG"),I=n("VRyK"),M=n("xgIS"),D=n("JX91"),R=n("1G5W"),L=n("IzEk"),E=n("R0Ic"),j=n("cH1L"),U=n("nLfN");const B=["underline"],V=["connectionContainer"],F=["inputContainer"],N=["label"];function q(e,t){1&e&&(a.Sb(0),a.Ub(1,"div",14),a.Pb(2,"div",15),a.Pb(3,"div",16),a.Pb(4,"div",17),a.Tb(),a.Ub(5,"div",18),a.Pb(6,"div",15),a.Pb(7,"div",16),a.Pb(8,"div",17),a.Tb(),a.Rb())}function z(e,t){1&e&&(a.Ub(0,"div",19),a.lc(1,1),a.Tb())}function G(e,t){if(1&e&&(a.Sb(0),a.lc(1,2),a.Ub(2,"span"),a.Nc(3),a.Tb(),a.Rb()),2&e){const e=a.gc(2);a.Cb(3),a.Oc(e._control.placeholder)}}function H(e,t){1&e&&a.lc(0,3,["*ngSwitchCase","true"])}function Y(e,t){1&e&&(a.Ub(0,"span",23),a.Nc(1," *"),a.Tb())}function K(e,t){if(1&e){const e=a.Vb();a.Ub(0,"label",20,21),a.cc("cdkObserveContent",function(){return a.Bc(e),a.gc().updateOutlineGap()}),a.Lc(2,G,4,1,"ng-container",12),a.Lc(3,H,1,0,"ng-content",12),a.Lc(4,Y,2,0,"span",22),a.Tb()}if(2&e){const e=a.gc();a.Gb("mat-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-form-field-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-accent","accent"==e.color)("mat-warn","warn"==e.color),a.nc("cdkObserveContentDisabled","outline"!=e.appearance)("id",e._labelId)("ngSwitch",e._hasLabel()),a.Db("for",e._control.id)("aria-owns",e._control.id),a.Cb(2),a.nc("ngSwitchCase",!1),a.Cb(1),a.nc("ngSwitchCase",!0),a.Cb(1),a.nc("ngIf",!e.hideRequiredMarker&&e._control.required&&!e._control.disabled)}}function W(e,t){1&e&&(a.Ub(0,"div",24),a.lc(1,4),a.Tb())}function Q(e,t){if(1&e&&(a.Ub(0,"div",25,26),a.Pb(2,"span",27),a.Tb()),2&e){const e=a.gc();a.Cb(2),a.Gb("mat-accent","accent"==e.color)("mat-warn","warn"==e.color)}}function X(e,t){if(1&e&&(a.Ub(0,"div"),a.lc(1,5),a.Tb()),2&e){const e=a.gc();a.nc("@transitionMessages",e._subscriptAnimationState)}}function Z(e,t){if(1&e&&(a.Ub(0,"div",31),a.Nc(1),a.Tb()),2&e){const e=a.gc(2);a.nc("id",e._hintLabelId),a.Cb(1),a.Oc(e.hintLabel)}}function J(e,t){if(1&e&&(a.Ub(0,"div",28),a.Lc(1,Z,2,2,"div",29),a.lc(2,6),a.Pb(3,"div",30),a.lc(4,7),a.Tb()),2&e){const e=a.gc();a.nc("@transitionMessages",e._subscriptAnimationState),a.Cb(1),a.nc("ngIf",e.hintLabel)}}const $=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],ee=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"],te=new a.r("MatError"),ne={transitionMessages:Object(E.m)("transitionMessages",[Object(E.j)("enter",Object(E.k)({opacity:1,transform:"translateY(0%)"})),Object(E.l)("void => enter",[Object(E.k)({opacity:0,transform:"translateY(-100%)"}),Object(E.e)("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let ie=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=a.Jb({type:e}),e})();const oe=new a.r("MatHint");let ae=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=a.Jb({type:e,selectors:[["mat-label"]]}),e})(),re=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=a.Jb({type:e,selectors:[["mat-placeholder"]]}),e})();const se=new a.r("MatPrefix"),le=new a.r("MatSuffix");let ce=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=a.Jb({type:e,selectors:[["","matSuffix",""]],features:[a.Bb([{provide:le,useExisting:e}])]}),e})(),de=0;class pe{constructor(e){this._elementRef=e}}const he=Object(r.t)(pe,"primary"),ue=new a.r("MAT_FORM_FIELD_DEFAULT_OPTIONS"),ge=new a.r("MatFormField");let fe=(()=>{class e extends he{constructor(e,t,n,i,o,a,r,s){super(e),this._elementRef=e,this._changeDetectorRef=t,this._dir=i,this._defaults=o,this._platform=a,this._ngZone=r,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new S.a,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+de++,this._labelId="mat-form-field-label-"+de++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==s,this.appearance=o&&o.appearance?o.appearance:"legacy",this._hideRequiredMarker=!(!o||null==o.hideRequiredMarker)&&o.hideRequiredMarker}get appearance(){return this._appearance}set appearance(e){const t=this._appearance;this._appearance=e||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&t!==e&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=Object(s.b)(e)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(e){this._explicitFormFieldControl=e}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const e=this._control;e.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${e.controlType}`),e.stateChanges.pipe(Object(D.a)(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),e.ngControl&&e.ngControl.valueChanges&&e.ngControl.valueChanges.pipe(Object(R.a)(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Object(R.a)(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),Object(I.a)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(Object(D.a)(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(Object(D.a)(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(Object(R.a)(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(e){const t=this._control?this._control.ngControl:null;return t&&t[e]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,Object(M.a)(this._label.nativeElement,"transitionend").pipe(Object(L.a)(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&e.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const t=this._hintChildren?this._hintChildren.find(e=>"start"===e.align):null,n=this._hintChildren?this._hintChildren.find(e=>"end"===e.align):null;t?e.push(t.id):this._hintLabel&&e.push(this._hintLabelId),n&&e.push(n.id)}else this._errorChildren&&e.push(...this._errorChildren.map(e=>e.id));this._control.setDescribedByIds(e)}}_validateControlChild(){}updateOutlineGap(){const e=this._label?this._label.nativeElement:null;if("outline"!==this.appearance||!e||!e.children.length||!e.textContent.trim())return;if(!this._platform.isBrowser)return;if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let t=0,n=0;const i=this._connectionContainerRef.nativeElement,o=i.querySelectorAll(".mat-form-field-outline-start"),a=i.querySelectorAll(".mat-form-field-outline-gap");if(this._label&&this._label.nativeElement.children.length){const o=i.getBoundingClientRect();if(0===o.width&&0===o.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const a=this._getStartEnd(o),r=e.children,s=this._getStartEnd(r[0].getBoundingClientRect());let l=0;for(let e=0;e<r.length;e++)l+=r[e].offsetWidth;t=Math.abs(s-a)-5,n=l>0?.75*l+10:0}for(let r=0;r<o.length;r++)o[r].style.width=`${t}px`;for(let r=0;r<a.length;r++)a[r].style.width=`${n}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(e){return this._dir&&"rtl"===this._dir.value?e.right:e.left}_isAttachedToDOM(){const e=this._elementRef.nativeElement;if(e.getRootNode){const t=e.getRootNode();return t&&t!==e}return document.documentElement.contains(e)}}return e.\u0275fac=function(t){return new(t||e)(a.Ob(a.l),a.Ob(a.h),a.Ob(a.l),a.Ob(j.b,8),a.Ob(ue,8),a.Ob(U.a),a.Ob(a.A),a.Ob(l.a,8))},e.\u0275cmp=a.Ib({type:e,selectors:[["mat-form-field"]],contentQueries:function(e,t,n){if(1&e&&(a.Hb(n,ie,!0),a.Gc(n,ie,!0),a.Hb(n,ae,!0),a.Gc(n,ae,!0),a.Hb(n,re,!0),a.Hb(n,te,!0),a.Hb(n,oe,!0),a.Hb(n,se,!0),a.Hb(n,le,!0)),2&e){let e;a.xc(e=a.dc())&&(t._controlNonStatic=e.first),a.xc(e=a.dc())&&(t._controlStatic=e.first),a.xc(e=a.dc())&&(t._labelChildNonStatic=e.first),a.xc(e=a.dc())&&(t._labelChildStatic=e.first),a.xc(e=a.dc())&&(t._placeholderChild=e.first),a.xc(e=a.dc())&&(t._errorChildren=e),a.xc(e=a.dc())&&(t._hintChildren=e),a.xc(e=a.dc())&&(t._prefixChildren=e),a.xc(e=a.dc())&&(t._suffixChildren=e)}},viewQuery:function(e,t){if(1&e&&(a.Rc(B,!0),a.Hc(V,!0),a.Rc(F,!0),a.Rc(N,!0)),2&e){let e;a.xc(e=a.dc())&&(t.underlineRef=e.first),a.xc(e=a.dc())&&(t._connectionContainerRef=e.first),a.xc(e=a.dc())&&(t._inputContainerRef=e.first),a.xc(e=a.dc())&&(t._label=e.first)}},hostAttrs:[1,"mat-form-field"],hostVars:44,hostBindings:function(e,t){2&e&&a.Gb("mat-form-field-appearance-standard","standard"==t.appearance)("mat-form-field-appearance-fill","fill"==t.appearance)("mat-form-field-appearance-outline","outline"==t.appearance)("mat-form-field-appearance-legacy","legacy"==t.appearance)("mat-form-field-invalid",t._control.errorState)("mat-form-field-can-float",t._canLabelFloat())("mat-form-field-should-float",t._shouldLabelFloat())("mat-form-field-has-label",t._hasFloatingLabel())("mat-form-field-hide-placeholder",t._hideControlPlaceholder())("mat-form-field-disabled",t._control.disabled)("mat-form-field-autofilled",t._control.autofilled)("mat-focused",t._control.focused)("mat-accent","accent"==t.color)("mat-warn","warn"==t.color)("ng-untouched",t._shouldForward("untouched"))("ng-touched",t._shouldForward("touched"))("ng-pristine",t._shouldForward("pristine"))("ng-dirty",t._shouldForward("dirty"))("ng-valid",t._shouldForward("valid"))("ng-invalid",t._shouldForward("invalid"))("ng-pending",t._shouldForward("pending"))("_mat-animation-noopable",!t._animationsEnabled)},inputs:{color:"color",floatLabel:"floatLabel",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[a.Bb([{provide:ge,useExisting:e}]),a.zb],ngContentSelectors:ee,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],["underline",""],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(e,t){1&e&&(a.mc($),a.Ub(0,"div",0),a.Ub(1,"div",1,2),a.cc("click",function(e){return t._control.onContainerClick&&t._control.onContainerClick(e)}),a.Lc(3,q,9,0,"ng-container",3),a.Lc(4,z,2,0,"div",4),a.Ub(5,"div",5,6),a.lc(7),a.Ub(8,"span",7),a.Lc(9,K,5,16,"label",8),a.Tb(),a.Tb(),a.Lc(10,W,2,0,"div",9),a.Tb(),a.Lc(11,Q,3,4,"div",10),a.Ub(12,"div",11),a.Lc(13,X,2,1,"div",12),a.Lc(14,J,5,2,"div",13),a.Tb(),a.Tb()),2&e&&(a.Cb(3),a.nc("ngIf","outline"==t.appearance),a.Cb(1),a.nc("ngIf",t._prefixChildren.length),a.Cb(5),a.nc("ngIf",t._hasFloatingLabel()),a.Cb(1),a.nc("ngIf",t._suffixChildren.length),a.Cb(1),a.nc("ngIf","outline"!=t.appearance),a.Cb(1),a.nc("ngSwitch",t._getDisplayedMessages()),a.Cb(1),a.nc("ngSwitchCase","error"),a.Cb(1),a.nc("ngSwitchCase","hint"))},directives:[k.l,k.n,k.o,o.a],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:scaleX(1);transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element::-ms-clear,.mat-input-element::-ms-reveal{display:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-moz-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-ms-expand{display:none}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}select.mat-input-element::-ms-value{color:inherit;background:none}.mat-focused .cdk-high-contrast-active select.mat-input-element::-ms-value{color:inherit}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px);-ms-transform:none}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[ne.transitionMessages]},changeDetection:0}),e})(),me=(()=>{class e{}return e.\u0275mod=a.Mb({type:e}),e.\u0275inj=a.Lb({factory:function(t){return new(t||e)},imports:[[k.c,r.h,o.c],r.h]}),e})();var be=n("EY2u");n("3UWI");const Ce=Object(U.f)({passive:!0});let _e=(()=>{class e{constructor(e,t){this._platform=e,this._ngZone=t,this._monitoredElements=new Map}monitor(e){if(!this._platform.isBrowser)return be.a;const t=Object(s.d)(e),n=this._monitoredElements.get(t);if(n)return n.subject;const i=new S.a,o="cdk-text-field-autofilled",a=e=>{"cdk-text-field-autofill-start"!==e.animationName||t.classList.contains(o)?"cdk-text-field-autofill-end"===e.animationName&&t.classList.contains(o)&&(t.classList.remove(o),this._ngZone.run(()=>i.next({target:e.target,isAutofilled:!1}))):(t.classList.add(o),this._ngZone.run(()=>i.next({target:e.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{t.addEventListener("animationstart",a,Ce),t.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(t,{subject:i,unlisten:()=>{t.removeEventListener("animationstart",a,Ce)}}),i}stopMonitoring(e){const t=Object(s.d)(e),n=this._monitoredElements.get(t);n&&(n.unlisten(),n.subject.complete(),t.classList.remove("cdk-text-field-autofill-monitored"),t.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(t))}ngOnDestroy(){this._monitoredElements.forEach((e,t)=>this.stopMonitoring(t))}}return e.\u0275fac=function(t){return new(t||e)(a.Yb(U.a),a.Yb(a.A))},e.\u0275prov=Object(a.Kb)({factory:function(){return new e(Object(a.Yb)(U.a),Object(a.Yb)(a.A))},token:e,providedIn:"root"}),e})(),ve=(()=>{class e{}return e.\u0275mod=a.Mb({type:e}),e.\u0275inj=a.Lb({factory:function(t){return new(t||e)},imports:[[U.b]]}),e})();const ye=new a.r("MAT_INPUT_VALUE_ACCESSOR"),xe=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let Oe=0;class we{constructor(e,t,n,i){this._defaultErrorStateMatcher=e,this._parentForm=t,this._parentFormGroup=n,this.ngControl=i}}const ke=Object(r.w)(we);let Ae=(()=>{class e extends ke{constructor(e,t,n,i,o,a,r,s,l,c){super(a,i,o,n),this._elementRef=e,this._platform=t,this.ngControl=n,this._autofillMonitor=s,this._formField=c,this._uid="mat-input-"+Oe++,this.focused=!1,this.stateChanges=new S.a,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._required=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(e=>Object(U.e)().has(e));const d=this._elementRef.nativeElement,p=d.nodeName.toLowerCase();this._inputValueAccessor=r||d,this._previousNativeValue=this.value,this.id=this.id,t.IOS&&l.runOutsideAngular(()=>{e.nativeElement.addEventListener("keyup",e=>{let t=e.target;t.value||t.selectionStart||t.selectionEnd||(t.setSelectionRange(1,1),t.setSelectionRange(0,0))})}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===p,this._isTextarea="textarea"===p,this._isNativeSelect&&(this.controlType=d.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(e){this._disabled=Object(s.b)(e),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(e){this._id=e||this._uid}get required(){return this._required}set required(e){this._required=Object(s.b)(e)}get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&Object(U.e)().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=Object(s.b)(e)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}_focusChanged(e){e===this.focused||this.readonly&&e||(this.focused=e,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){var e,t;const n=(null===(t=null===(e=this._formField)||void 0===e?void 0:e._hideControlPlaceholder)||void 0===t?void 0:t.call(e))?null:this.placeholder;if(n!==this._previousPlaceholder){const e=this._elementRef.nativeElement;this._previousPlaceholder=n,n?e.setAttribute("placeholder",n):e.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_validateType(){xe.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const e=this._elementRef.nativeElement,t=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&t&&t.label)}return this.focused||!this.empty}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}}return e.\u0275fac=function(t){return new(t||e)(a.Ob(a.l),a.Ob(U.a),a.Ob(i.n,10),a.Ob(i.q,8),a.Ob(i.i,8),a.Ob(r.b),a.Ob(ye,10),a.Ob(_e),a.Ob(a.A),a.Ob(ge,8))},e.\u0275dir=a.Jb({type:e,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:9,hostBindings:function(e,t){1&e&&a.cc("focus",function(){return t._focusChanged(!0)})("blur",function(){return t._focusChanged(!1)})("input",function(){return t._onInput()}),2&e&&(a.Xb("disabled",t.disabled)("required",t.required),a.Db("id",t.id)("data-placeholder",t.placeholder)("readonly",t.readonly&&!t._isNativeSelect||null)("aria-invalid",t.errorState)("aria-required",t.required.toString()),a.Gb("mat-input-server",t._isServer))},inputs:{id:"id",disabled:"disabled",required:"required",type:"type",value:"value",readonly:"readonly",placeholder:"placeholder",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"]},exportAs:["matInput"],features:[a.Bb([{provide:ie,useExisting:e}]),a.zb,a.Ab]}),e})(),Pe=(()=>{class e{}return e.\u0275mod=a.Mb({type:e}),e.\u0275inj=a.Lb({factory:function(t){return new(t||e)},providers:[r.b],imports:[[ve,me,r.h],ve,me]}),e})(),Te=(()=>{class e{}return e.\u0275mod=a.Mb({type:e}),e.\u0275inj=a.Lb({factory:function(t){return new(t||e)},imports:[[k.c,i.j,me,Pe,T.a,P.b]]}),e})();var Se=n("M9ds");let Ie=(()=>{class e{}return e.\u0275mod=a.Mb({type:e}),e.\u0275inj=a.Lb({factory:function(t){return new(t||e)},imports:[[k.c,Se.c]]}),e})();var Me=n("STbY");const De=["dialogPopup"],Re=["hueSlider"],Le=["alphaSlider"];function Ee(e,t){if(1&e&&a.Pb(0,"div"),2&e){const e=a.gc();a.Fb("arrow arrow-",e.cpUsePosition,""),a.Ic("top",e.arrowTop,"px")}}function je(e,t){if(1&e){const e=a.Vb();a.Ub(0,"div",26),a.cc("newValue",function(t){return a.Bc(e),a.gc().onColorChange(t)})("dragStart",function(){return a.Bc(e),a.gc().onDragStart("saturation-lightness")})("dragEnd",function(){return a.Bc(e),a.gc().onDragEnd("saturation-lightness")}),a.Pb(1,"div",13),a.Tb()}if(2&e){const e=a.gc();a.Ic("background-color",e.hueSliderColor),a.nc("rgX",1)("rgY",1),a.Cb(1),a.Ic("top",null==e.slider?null:e.slider.v,"px")("left",null==e.slider?null:e.slider.s,"px")}}function Ue(e,t){if(1&e){const e=a.Vb();a.Ub(0,"button",27),a.cc("click",function(t){a.Bc(e);const n=a.gc();return n.onAddPresetColor(t,n.selectedColor)}),a.Nc(1),a.Tb()}if(2&e){const e=a.gc();a.Eb(e.cpAddColorButtonClass),a.nc("disabled",e.cpPresetColors&&e.cpPresetColors.length>=e.cpMaxPresetColorsLength),a.Cb(1),a.Pc(" ",e.cpAddColorButtonText," ")}}function Be(e,t){1&e&&a.Pb(0,"div",28)}function Ve(e,t){if(1&e){const e=a.Vb();a.Ub(0,"input",34),a.cc("keyup.enter",function(t){return a.Bc(e),a.gc(2).onAcceptColor(t)})("newValue",function(t){return a.Bc(e),a.gc(2).onAlphaInput(t)}),a.Tb()}if(2&e){const e=a.gc(2);a.nc("rg",1)("value",null==e.cmykText?null:e.cmykText.a)}}function Fe(e,t){1&e&&(a.Ub(0,"div"),a.Nc(1,"A"),a.Tb())}function Ne(e,t){if(1&e){const e=a.Vb();a.Ub(0,"div",29),a.Ub(1,"div",30),a.Ub(2,"input",31),a.cc("keyup.enter",function(t){return a.Bc(e),a.gc().onAcceptColor(t)})("newValue",function(t){return a.Bc(e),a.gc().onCyanInput(t)}),a.Tb(),a.Ub(3,"input",31),a.cc("keyup.enter",function(t){return a.Bc(e),a.gc().onAcceptColor(t)})("newValue",function(t){return a.Bc(e),a.gc().onMagentaInput(t)}),a.Tb(),a.Ub(4,"input",31),a.cc("keyup.enter",function(t){return a.Bc(e),a.gc().onAcceptColor(t)})("newValue",function(t){return a.Bc(e),a.gc().onYellowInput(t)}),a.Tb(),a.Ub(5,"input",31),a.cc("keyup.enter",function(t){return a.Bc(e),a.gc().onAcceptColor(t)})("newValue",function(t){return a.Bc(e),a.gc().onBlackInput(t)}),a.Tb(),a.Lc(6,Ve,1,2,"input",32),a.Tb(),a.Ub(7,"div",30),a.Ub(8,"div"),a.Nc(9,"C"),a.Tb(),a.Ub(10,"div"),a.Nc(11,"M"),a.Tb(),a.Ub(12,"div"),a.Nc(13,"Y"),a.Tb(),a.Ub(14,"div"),a.Nc(15,"K"),a.Tb(),a.Lc(16,Fe,2,0,"div",33),a.Tb(),a.Tb()}if(2&e){const e=a.gc();a.Ic("display",3!==e.format?"none":"block"),a.Cb(2),a.nc("rg",100)("value",null==e.cmykText?null:e.cmykText.c),a.Cb(1),a.nc("rg",100)("value",null==e.cmykText?null:e.cmykText.m),a.Cb(1),a.nc("rg",100)("value",null==e.cmykText?null:e.cmykText.y),a.Cb(1),a.nc("rg",100)("value",null==e.cmykText?null:e.cmykText.k),a.Cb(1),a.nc("ngIf","disabled"!==e.cpAlphaChannel),a.Cb(10),a.nc("ngIf","disabled"!==e.cpAlphaChannel)}}function qe(e,t){if(1&e){const e=a.Vb();a.Ub(0,"input",34),a.cc("keyup.enter",function(t){return a.Bc(e),a.gc(2).onAcceptColor(t)})("newValue",function(t){return a.Bc(e),a.gc(2).onAlphaInput(t)}),a.Tb()}if(2&e){const e=a.gc(2);a.nc("rg",1)("value",null==e.hslaText?null:e.hslaText.a)}}function ze(e,t){1&e&&(a.Ub(0,"div"),a.Nc(1,"A"),a.Tb())}function Ge(e,t){if(1&e){const e=a.Vb();a.Ub(0,"div",35),a.Ub(1,"div",30),a.Ub(2,"input",36),a.cc("keyup.enter",function(t){return a.Bc(e),a.gc().onAcceptColor(t)})("newValue",function(t){return a.Bc(e),a.gc().onHueInput(t)}),a.Tb(),a.Ub(3,"input",31),a.cc("keyup.enter",function(t){return a.Bc(e),a.gc().onAcceptColor(t)})("newValue",function(t){return a.Bc(e),a.gc().onSaturationInput(t)}),a.Tb(),a.Ub(4,"input",31),a.cc("keyup.enter",function(t){return a.Bc(e),a.gc().onAcceptColor(t)})("newValue",function(t){return a.Bc(e),a.gc().onLightnessInput(t)}),a.Tb(),a.Lc(5,qe,1,2,"input",32),a.Tb(),a.Ub(6,"div",30),a.Ub(7,"div"),a.Nc(8,"H"),a.Tb(),a.Ub(9,"div"),a.Nc(10,"S"),a.Tb(),a.Ub(11,"div"),a.Nc(12,"L"),a.Tb(),a.Lc(13,ze,2,0,"div",33),a.Tb(),a.Tb()}if(2&e){const e=a.gc();a.Ic("display",2!==e.format?"none":"block"),a.Cb(2),a.nc("rg",360)("value",null==e.hslaText?null:e.hslaText.h),a.Cb(1),a.nc("rg",100)("value",null==e.hslaText?null:e.hslaText.s),a.Cb(1),a.nc("rg",100)("value",null==e.hslaText?null:e.hslaText.l),a.Cb(1),a.nc("ngIf","disabled"!==e.cpAlphaChannel),a.Cb(8),a.nc("ngIf","disabled"!==e.cpAlphaChannel)}}function He(e,t){if(1&e){const e=a.Vb();a.Ub(0,"input",34),a.cc("keyup.enter",function(t){return a.Bc(e),a.gc(2).onAcceptColor(t)})("newValue",function(t){return a.Bc(e),a.gc(2).onAlphaInput(t)}),a.Tb()}if(2&e){const e=a.gc(2);a.nc("rg",1)("value",null==e.rgbaText?null:e.rgbaText.a)}}function Ye(e,t){1&e&&(a.Ub(0,"div"),a.Nc(1,"A"),a.Tb())}function Ke(e,t){if(1&e){const e=a.Vb();a.Ub(0,"div",37),a.Ub(1,"div",30),a.Ub(2,"input",38),a.cc("keyup.enter",function(t){return a.Bc(e),a.gc().onAcceptColor(t)})("newValue",function(t){return a.Bc(e),a.gc().onRedInput(t)}),a.Tb(),a.Ub(3,"input",38),a.cc("keyup.enter",function(t){return a.Bc(e),a.gc().onAcceptColor(t)})("newValue",function(t){return a.Bc(e),a.gc().onGreenInput(t)}),a.Tb(),a.Ub(4,"input",38),a.cc("keyup.enter",function(t){return a.Bc(e),a.gc().onAcceptColor(t)})("newValue",function(t){return a.Bc(e),a.gc().onBlueInput(t)}),a.Tb(),a.Lc(5,He,1,2,"input",32),a.Tb(),a.Ub(6,"div",30),a.Ub(7,"div"),a.Nc(8,"R"),a.Tb(),a.Ub(9,"div"),a.Nc(10,"G"),a.Tb(),a.Ub(11,"div"),a.Nc(12,"B"),a.Tb(),a.Lc(13,Ye,2,0,"div",33),a.Tb(),a.Tb()}if(2&e){const e=a.gc();a.Ic("display",1!==e.format?"none":"block"),a.Cb(2),a.nc("rg",255)("value",null==e.rgbaText?null:e.rgbaText.r),a.Cb(1),a.nc("rg",255)("value",null==e.rgbaText?null:e.rgbaText.g),a.Cb(1),a.nc("rg",255)("value",null==e.rgbaText?null:e.rgbaText.b),a.Cb(1),a.nc("ngIf","disabled"!==e.cpAlphaChannel),a.Cb(8),a.nc("ngIf","disabled"!==e.cpAlphaChannel)}}function We(e,t){if(1&e){const e=a.Vb();a.Ub(0,"input",34),a.cc("keyup.enter",function(t){return a.Bc(e),a.gc(2).onAcceptColor(t)})("newValue",function(t){return a.Bc(e),a.gc(2).onAlphaInput(t)}),a.Tb()}if(2&e){const e=a.gc(2);a.nc("rg",1)("value",e.hexAlpha)}}function Qe(e,t){1&e&&(a.Ub(0,"div"),a.Nc(1,"A"),a.Tb())}function Xe(e,t){if(1&e){const e=a.Vb();a.Ub(0,"div",39),a.Ub(1,"div",30),a.Ub(2,"input",40),a.cc("blur",function(){return a.Bc(e),a.gc().onHexInput(null)})("keyup.enter",function(t){return a.Bc(e),a.gc().onAcceptColor(t)})("newValue",function(t){return a.Bc(e),a.gc().onHexInput(t)}),a.Tb(),a.Lc(3,We,1,2,"input",32),a.Tb(),a.Ub(4,"div",30),a.Ub(5,"div"),a.Nc(6,"Hex"),a.Tb(),a.Lc(7,Qe,2,0,"div",33),a.Tb(),a.Tb()}if(2&e){const e=a.gc();a.Ic("display",0!==e.format?"none":"block"),a.Gb("hex-alpha","forced"===e.cpAlphaChannel),a.Cb(2),a.nc("value",e.hexText),a.Cb(1),a.nc("ngIf","forced"===e.cpAlphaChannel),a.Cb(4),a.nc("ngIf","forced"===e.cpAlphaChannel)}}function Ze(e,t){if(1&e){const e=a.Vb();a.Ub(0,"input",34),a.cc("keyup.enter",function(t){return a.Bc(e),a.gc(2).onAcceptColor(t)})("newValue",function(t){return a.Bc(e),a.gc(2).onAlphaInput(t)}),a.Tb()}if(2&e){const e=a.gc(2);a.nc("rg",1)("value",null==e.hslaText?null:e.hslaText.a)}}function Je(e,t){if(1&e){const e=a.Vb();a.Ub(0,"div",41),a.Ub(1,"div",30),a.Ub(2,"input",31),a.cc("keyup.enter",function(t){return a.Bc(e),a.gc().onAcceptColor(t)})("newValue",function(t){return a.Bc(e),a.gc().onValueInput(t)}),a.Tb(),a.Lc(3,Ze,1,2,"input",32),a.Tb(),a.Ub(4,"div",30),a.Ub(5,"div"),a.Nc(6,"V"),a.Tb(),a.Ub(7,"div"),a.Nc(8,"A"),a.Tb(),a.Tb(),a.Tb()}if(2&e){const e=a.gc();a.Cb(2),a.nc("rg",100)("value",null==e.hslaText?null:e.hslaText.l),a.Cb(1),a.nc("ngIf","disabled"!==e.cpAlphaChannel)}}function $e(e,t){if(1&e){const e=a.Vb();a.Ub(0,"div",42),a.Ub(1,"span",43),a.cc("click",function(){return a.Bc(e),a.gc().onFormatToggle(-1)}),a.Tb(),a.Ub(2,"span",43),a.cc("click",function(){return a.Bc(e),a.gc().onFormatToggle(1)}),a.Tb(),a.Tb()}}function et(e,t){if(1&e){const e=a.Vb();a.Ub(0,"span",50),a.cc("click",function(t){a.Bc(e);const n=a.gc().$implicit;return a.gc(3).onRemovePresetColor(t,n)}),a.Tb()}if(2&e){const e=a.gc(4);a.Eb(e.cpRemoveColorButtonClass)}}function tt(e,t){if(1&e){const e=a.Vb();a.Ub(0,"div",48),a.cc("click",function(){a.Bc(e);const n=t.$implicit;return a.gc(3).setColorFromString(n)}),a.Lc(1,et,1,3,"span",49),a.Tb()}if(2&e){const e=t.$implicit,n=a.gc(3);a.Ic("background-color",e),a.Cb(1),a.nc("ngIf",n.cpAddColorButton)}}function nt(e,t){if(1&e&&(a.Ub(0,"div"),a.Lc(1,tt,2,3,"div",47),a.Tb()),2&e){const e=a.gc(2);a.Eb(e.cpPresetColorsClass),a.Cb(1),a.nc("ngForOf",e.cpPresetColors)}}function it(e,t){if(1&e&&(a.Ub(0,"div"),a.Nc(1),a.Tb()),2&e){const e=a.gc(2);a.Eb(e.cpPresetEmptyMessageClass),a.Cb(1),a.Oc(e.cpPresetEmptyMessage)}}function ot(e,t){if(1&e&&(a.Ub(0,"div",44),a.Pb(1,"hr"),a.Ub(2,"div",45),a.Nc(3),a.Tb(),a.Lc(4,nt,2,4,"div",46),a.Lc(5,it,2,4,"div",46),a.Tb()),2&e){const e=a.gc();a.Cb(3),a.Oc(e.cpPresetLabel),a.Cb(1),a.nc("ngIf",null==e.cpPresetColors?null:e.cpPresetColors.length),a.Cb(1),a.nc("ngIf",!(null!=e.cpPresetColors&&e.cpPresetColors.length)&&e.cpAddColorButton)}}function at(e,t){if(1&e){const e=a.Vb();a.Ub(0,"button",53),a.cc("click",function(t){return a.Bc(e),a.gc(2).onCancelColor(t)}),a.Nc(1),a.Tb()}if(2&e){const e=a.gc(2);a.Eb(e.cpCancelButtonClass),a.Cb(1),a.Oc(e.cpCancelButtonText)}}function rt(e,t){if(1&e){const e=a.Vb();a.Ub(0,"button",53),a.cc("click",function(t){return a.Bc(e),a.gc(2).onAcceptColor(t)}),a.Nc(1),a.Tb()}if(2&e){const e=a.gc(2);a.Eb(e.cpOKButtonClass),a.Cb(1),a.Oc(e.cpOKButtonText)}}function st(e,t){if(1&e&&(a.Ub(0,"div",51),a.Lc(1,at,2,4,"button",52),a.Lc(2,rt,2,4,"button",52),a.Tb()),2&e){const e=a.gc();a.Cb(1),a.nc("ngIf",e.cpCancelButton),a.Cb(1),a.nc("ngIf",e.cpOKButton)}}var lt=function(e){return e[e.HEX=0]="HEX",e[e.RGBA=1]="RGBA",e[e.HSLA=2]="HSLA",e[e.CMYK=3]="CMYK",e}({});class ct{constructor(e,t,n,i){this.r=e,this.g=t,this.b=n,this.a=i}}class dt{constructor(e,t,n,i){this.h=e,this.s=t,this.v=n,this.a=i}}class pt{constructor(e,t,n,i){this.h=e,this.s=t,this.l=n,this.a=i}}class ht{constructor(e,t,n,i,o=1){this.c=e,this.m=t,this.y=n,this.k=i,this.a=o}}let ut=(()=>{class e{constructor(){this.newValue=new a.n}inputChange(e){const t=e.target.value;if(void 0===this.rg)this.newValue.emit(t);else{const e=parseFloat(t);this.newValue.emit({v:e,rg:this.rg})}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=a.Jb({type:e,selectors:[["","text",""]],hostBindings:function(e,t){1&e&&a.cc("input",function(e){return t.inputChange(e)})},inputs:{rg:"rg",text:"text"},outputs:{newValue:"newValue"}}),e})(),gt=(()=>{class e{constructor(e){this.elRef=e,this.dragEnd=new a.n,this.dragStart=new a.n,this.newValue=new a.n,this.listenerMove=e=>this.move(e),this.listenerStop=()=>this.stop()}mouseDown(e){this.start(e)}touchStart(e){this.start(e)}move(e){e.preventDefault(),this.setCursor(e)}start(e){this.setCursor(e),e.stopPropagation(),document.addEventListener("mouseup",this.listenerStop),document.addEventListener("touchend",this.listenerStop),document.addEventListener("mousemove",this.listenerMove),document.addEventListener("touchmove",this.listenerMove),this.dragStart.emit()}stop(){document.removeEventListener("mouseup",this.listenerStop),document.removeEventListener("touchend",this.listenerStop),document.removeEventListener("mousemove",this.listenerMove),document.removeEventListener("touchmove",this.listenerMove),this.dragEnd.emit()}getX(e){const t=this.elRef.nativeElement.getBoundingClientRect();return(void 0!==e.pageX?e.pageX:e.touches[0].pageX)-t.left-window.pageXOffset}getY(e){const t=this.elRef.nativeElement.getBoundingClientRect();return(void 0!==e.pageY?e.pageY:e.touches[0].pageY)-t.top-window.pageYOffset}setCursor(e){const t=this.elRef.nativeElement.offsetWidth,n=this.elRef.nativeElement.offsetHeight,i=Math.max(0,Math.min(this.getX(e),t)),o=Math.max(0,Math.min(this.getY(e),n));void 0!==this.rgX&&void 0!==this.rgY?this.newValue.emit({s:i/t,v:1-o/n,rgX:this.rgX,rgY:this.rgY}):void 0===this.rgX&&void 0!==this.rgY?this.newValue.emit({v:o/n,rgY:this.rgY}):void 0!==this.rgX&&void 0===this.rgY&&this.newValue.emit({v:i/t,rgX:this.rgX})}}return e.\u0275fac=function(t){return new(t||e)(a.Ob(a.l))},e.\u0275dir=a.Jb({type:e,selectors:[["","slider",""]],hostBindings:function(e,t){1&e&&a.cc("mousedown",function(e){return t.mouseDown(e)})("touchstart",function(e){return t.touchStart(e)})},inputs:{rgX:"rgX",rgY:"rgY",slider:"slider"},outputs:{dragEnd:"dragEnd",dragStart:"dragStart",newValue:"newValue"}}),e})();class ft{constructor(e,t,n,i){this.h=e,this.s=t,this.v=n,this.a=i}}class mt{constructor(e,t,n,i){this.h=e,this.s=t,this.v=n,this.a=i}}let bt=(()=>{class e{constructor(){this.active=null}setActive(e){this.active&&this.active!==e&&"inline"!==this.active.cpDialogDisplay&&this.active.closeDialog(),this.active=e}hsva2hsla(e){const t=e.h,n=e.s,i=e.v,o=e.a;if(0===i)return new pt(t,0,0,o);if(0===n&&1===i)return new pt(t,1,1,o);{const e=i*(2-n)/2;return new pt(t,i*n/(1-Math.abs(2*e-1)),e,o)}}hsla2hsva(e){const t=Math.min(e.h,1),n=Math.min(e.s,1),i=Math.min(e.l,1),o=Math.min(e.a,1);if(0===i)return new dt(t,0,0,o);{const e=i+n*(1-Math.abs(2*i-1))/2;return new dt(t,2*(e-i)/e,e,o)}}hsvaToRgba(e){let t,n,i;const o=e.h,a=e.s,r=e.v,s=e.a,l=Math.floor(6*o),c=6*o-l,d=r*(1-a),p=r*(1-c*a),h=r*(1-(1-c)*a);switch(l%6){case 0:t=r,n=h,i=d;break;case 1:t=p,n=r,i=d;break;case 2:t=d,n=r,i=h;break;case 3:t=d,n=p,i=r;break;case 4:t=h,n=d,i=r;break;case 5:t=r,n=d,i=p;break;default:t=0,n=0,i=0}return new ct(t,n,i,s)}cmykToRgb(e){return new ct((1-e.c)*(1-e.k),(1-e.m)*(1-e.k),(1-e.y)*(1-e.k),e.a)}rgbaToCmyk(e){const t=1-Math.max(e.r,e.g,e.b);return 1===t?new ht(0,0,0,1,e.a):new ht((1-e.r-t)/(1-t),(1-e.g-t)/(1-t),(1-e.b-t)/(1-t),t,e.a)}rgbaToHsva(e){let t,n;const i=Math.min(e.r,1),o=Math.min(e.g,1),a=Math.min(e.b,1),r=Math.min(e.a,1),s=Math.max(i,o,a),l=Math.min(i,o,a),c=s,d=s-l;if(n=0===s?0:d/s,s===l)t=0;else{switch(s){case i:t=(o-a)/d+(o<a?6:0);break;case o:t=(a-i)/d+2;break;case a:t=(i-o)/d+4;break;default:t=0}t/=6}return new dt(t,n,c,r)}rgbaToHex(e,t){let n="#"+(1<<24|e.r<<16|e.g<<8|e.b).toString(16).substr(1);return t&&(n+=(256|Math.round(255*e.a)).toString(16).substr(1)),n}normalizeCMYK(e){return new ht(e.c/100,e.m/100,e.y/100,e.k/100,e.a)}denormalizeCMYK(e){return new ht(Math.floor(100*e.c),Math.floor(100*e.m),Math.floor(100*e.y),Math.floor(100*e.k),e.a)}denormalizeRGBA(e){return new ct(Math.round(255*e.r),Math.round(255*e.g),Math.round(255*e.b),e.a)}stringToHsva(e="",t=!1){let n=null;e=(e||"").toLowerCase();const i=[{re:/(rgb)a?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*%?,\s*(\d{1,3})\s*%?(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(e){return new ct(parseInt(e[2],10)/255,parseInt(e[3],10)/255,parseInt(e[4],10)/255,isNaN(parseFloat(e[5]))?1:parseFloat(e[5]))}},{re:/(hsl)a?\(\s*(\d{1,3})\s*,\s*(\d{1,3})%\s*,\s*(\d{1,3})%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(e){return new pt(parseInt(e[2],10)/360,parseInt(e[3],10)/100,parseInt(e[4],10)/100,isNaN(parseFloat(e[5]))?1:parseFloat(e[5]))}}];i.push(t?{re:/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})?$/,parse:function(e){return new ct(parseInt(e[1],16)/255,parseInt(e[2],16)/255,parseInt(e[3],16)/255,parseInt(e[4]||"FF",16)/255)}}:{re:/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})$/,parse:function(e){return new ct(parseInt(e[1],16)/255,parseInt(e[2],16)/255,parseInt(e[3],16)/255,1)}}),i.push({re:/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])$/,parse:function(e){return new ct(parseInt(e[1]+e[1],16)/255,parseInt(e[2]+e[2],16)/255,parseInt(e[3]+e[3],16)/255,1)}});for(const o in i)if(i.hasOwnProperty(o)){const t=i[o],a=t.re.exec(e),r=a&&t.parse(a);if(r)return r instanceof ct?n=this.rgbaToHsva(r):r instanceof pt&&(n=this.hsla2hsva(r)),n}return n}outputFormat(e,t,n){switch("auto"===t&&(t=e.a<1?"rgba":"hex"),t){case"hsla":const t=this.hsva2hsla(e),i=new pt(Math.round(360*t.h),Math.round(100*t.s),Math.round(100*t.l),Math.round(100*t.a)/100);return e.a<1||"always"===n?"hsla("+i.h+","+i.s+"%,"+i.l+"%,"+i.a+")":"hsl("+i.h+","+i.s+"%,"+i.l+"%)";case"rgba":const o=this.denormalizeRGBA(this.hsvaToRgba(e));return e.a<1||"always"===n?"rgba("+o.r+","+o.g+","+o.b+","+Math.round(100*o.a)/100+")":"rgb("+o.r+","+o.g+","+o.b+")";default:const a="always"===n||"forced"===n;return this.rgbaToHex(this.denormalizeRGBA(this.hsvaToRgba(e)),a)}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=a.Kb({token:e,factory:e.\u0275fac}),e})(),Ct=(()=>{class e{constructor(e,t,n){this.elRef=e,this.cdRef=t,this.service=n,this.isIE10=!1,this.dialogArrowSize=10,this.dialogArrowOffset=15,this.dialogInputFields=[lt.HEX,lt.RGBA,lt.HSLA,lt.CMYK],this.useRootViewContainer=!1}handleEsc(e){this.show&&"popup"===this.cpDialogDisplay&&this.onCancelColor(e)}handleEnter(e){this.show&&"popup"===this.cpDialogDisplay&&this.onAcceptColor(e)}ngOnInit(){this.slider=new ft(0,0,0,0),this.sliderDimMax=new mt(this.hueSlider.nativeElement.offsetWidth||140,this.cpWidth,130,this.alphaSlider.nativeElement.offsetWidth||140),this.format=this.cpCmykEnabled?lt.CMYK:"rgba"===this.cpOutputFormat?lt.RGBA:"hsla"===this.cpOutputFormat?lt.HSLA:lt.HEX,this.listenerMouseDown=e=>{this.onMouseDown(e)},this.listenerResize=()=>{this.onResize()},this.openDialog(this.initialColor,!1)}ngOnDestroy(){this.closeDialog()}ngAfterViewInit(){230===this.cpWidth&&"inline"!==this.cpDialogDisplay||(this.sliderDimMax=new mt(this.hueSlider.nativeElement.offsetWidth||140,this.cpWidth,130,this.alphaSlider.nativeElement.offsetWidth||140),this.updateColorPicker(!1),this.cdRef.detectChanges())}openDialog(e,t=!0){this.service.setActive(this),this.width||(this.cpWidth=this.directiveElementRef.nativeElement.offsetWidth),this.height||(this.height=320),this.setInitialColor(e),this.setColorFromString(e,t),this.openColorPicker()}closeDialog(){this.closeColorPicker()}setupDialog(e,t,n,i,o,a,r,s,l,c,d,p,h,u,g,f,m,b,C,_,v,y,x,O,w,k,A,P,T,S,I,M,D,R,L,E){this.setInitialColor(n),this.setColorMode(s),this.isIE10=10===function(){let e="";"undefined"!=typeof navigator&&(e=navigator.userAgent.toLowerCase());const t=e.indexOf("msie ");return t>0&&parseInt(e.substring(t+5,e.indexOf(".",t)),10)}(),this.directiveInstance=e,this.directiveElementRef=t,this.cpDisableInput=p,this.cpCmykEnabled=l,this.cpAlphaChannel=c,this.cpOutputFormat=d,this.cpDialogDisplay=a,this.cpIgnoredElements=h,this.cpSaveClickOutside=u,this.cpCloseClickOutside=g,this.useRootViewContainer=f,this.width=this.cpWidth=parseInt(i,10),this.height=this.cpHeight=parseInt(o,10),this.cpPosition=m,this.cpPositionOffset=parseInt(b,10),this.cpOKButton=k,this.cpOKButtonText=P,this.cpOKButtonClass=A,this.cpCancelButton=T,this.cpCancelButtonText=I,this.cpCancelButtonClass=S,this.fallbackColor=r||"#fff",this.setPresetConfig(_,v),this.cpPresetColorsClass=y,this.cpMaxPresetColorsLength=x,this.cpPresetEmptyMessage=O,this.cpPresetEmptyMessageClass=w,this.cpAddColorButton=M,this.cpAddColorButtonText=R,this.cpAddColorButtonClass=D,this.cpRemoveColorButtonClass=L,this.cpTriggerElement=E,C||(this.dialogArrowOffset=0),"inline"===a&&(this.dialogArrowSize=0,this.dialogArrowOffset=0),"hex"===d&&"always"!==c&&"forced"!==c&&(this.cpAlphaChannel="disabled")}setColorMode(e){switch(e.toString().toUpperCase()){case"1":case"C":case"COLOR":this.cpColorMode=1;break;case"2":case"G":case"GRAYSCALE":this.cpColorMode=2;break;case"3":case"P":case"PRESETS":this.cpColorMode=3;break;default:this.cpColorMode=1}}setInitialColor(e){this.initialColor=e}setPresetConfig(e,t){this.cpPresetLabel=e,this.cpPresetColors=t}setColorFromString(e,t=!0,n=!0){let i;"always"===this.cpAlphaChannel||"forced"===this.cpAlphaChannel?(i=this.service.stringToHsva(e,!0),i||this.hsva||(i=this.service.stringToHsva(e,!1))):i=this.service.stringToHsva(e,!1),i||this.hsva||(i=this.service.stringToHsva(this.fallbackColor,!1)),i&&(this.hsva=i,this.sliderH=this.hsva.h,"hex"===this.cpOutputFormat&&"disabled"===this.cpAlphaChannel&&(this.hsva.a=1),this.updateColorPicker(t,n))}onResize(){"fixed"===this.position?this.setDialogPosition():"inline"!==this.cpDialogDisplay&&this.closeColorPicker()}onDragEnd(e){this.directiveInstance.sliderDragEnd({slider:e,color:this.outputColor})}onDragStart(e){this.directiveInstance.sliderDragStart({slider:e,color:this.outputColor})}onMouseDown(e){!this.show||this.isIE10||"popup"!==this.cpDialogDisplay||e.target===this.directiveElementRef.nativeElement||this.isDescendant(this.elRef.nativeElement,e.target)||this.isDescendant(this.directiveElementRef.nativeElement,e.target)||0!==this.cpIgnoredElements.filter(t=>t===e.target).length||(this.cpSaveClickOutside?this.directiveInstance.colorSelected(this.outputColor):(this.hsva=null,this.setColorFromString(this.initialColor,!1),this.cpCmykEnabled&&this.directiveInstance.cmykChanged(this.cmykColor),this.directiveInstance.colorChanged(this.initialColor),this.directiveInstance.colorCanceled()),this.cpCloseClickOutside&&this.closeColorPicker())}onAcceptColor(e){e.stopPropagation(),this.outputColor&&this.directiveInstance.colorSelected(this.outputColor),"popup"===this.cpDialogDisplay&&this.closeColorPicker()}onCancelColor(e){this.hsva=null,e.stopPropagation(),this.directiveInstance.colorCanceled(),this.setColorFromString(this.initialColor,!0),"popup"===this.cpDialogDisplay&&(this.cpCmykEnabled&&this.directiveInstance.cmykChanged(this.cmykColor),this.directiveInstance.colorChanged(this.initialColor,!0),this.closeColorPicker())}onFormatToggle(e){const t=this.dialogInputFields.length-(this.cpCmykEnabled?0:1),n=((this.dialogInputFields.indexOf(this.format)+e)%t+t)%t;this.format=this.dialogInputFields[n]}onColorChange(e){this.hsva.s=e.s/e.rgX,this.hsva.v=e.v/e.rgY,this.updateColorPicker(),this.directiveInstance.sliderChanged({slider:"lightness",value:this.hsva.v,color:this.outputColor}),this.directiveInstance.sliderChanged({slider:"saturation",value:this.hsva.s,color:this.outputColor})}onHueChange(e){this.hsva.h=e.v/e.rgX,this.sliderH=this.hsva.h,this.updateColorPicker(),this.directiveInstance.sliderChanged({slider:"hue",value:this.hsva.h,color:this.outputColor})}onValueChange(e){this.hsva.v=e.v/e.rgX,this.updateColorPicker(),this.directiveInstance.sliderChanged({slider:"value",value:this.hsva.v,color:this.outputColor})}onAlphaChange(e){this.hsva.a=e.v/e.rgX,this.updateColorPicker(),this.directiveInstance.sliderChanged({slider:"alpha",value:this.hsva.a,color:this.outputColor})}onHexInput(e){if(null===e)this.updateColorPicker();else{e&&"#"!==e[0]&&(e="#"+e);let t=/^#([a-f0-9]{3}|[a-f0-9]{6})$/gi;"always"===this.cpAlphaChannel&&(t=/^#([a-f0-9]{3}|[a-f0-9]{6}|[a-f0-9]{8})$/gi);const n=t.test(e);n&&(e.length<5&&(e="#"+e.substring(1).split("").map(e=>e+e).join("")),"forced"===this.cpAlphaChannel&&(e+=Math.round(255*this.hsva.a).toString(16)),this.setColorFromString(e,!0,!1)),this.directiveInstance.inputChanged({input:"hex",valid:n,value:e,color:this.outputColor})}}onRedInput(e){const t=this.service.hsvaToRgba(this.hsva),n=!isNaN(e.v)&&e.v>=0&&e.v<=e.rg;n&&(t.r=e.v/e.rg,this.hsva=this.service.rgbaToHsva(t),this.sliderH=this.hsva.h,this.updateColorPicker()),this.directiveInstance.inputChanged({input:"red",valid:n,value:t.r,color:this.outputColor})}onBlueInput(e){const t=this.service.hsvaToRgba(this.hsva),n=!isNaN(e.v)&&e.v>=0&&e.v<=e.rg;n&&(t.b=e.v/e.rg,this.hsva=this.service.rgbaToHsva(t),this.sliderH=this.hsva.h,this.updateColorPicker()),this.directiveInstance.inputChanged({input:"blue",valid:n,value:t.b,color:this.outputColor})}onGreenInput(e){const t=this.service.hsvaToRgba(this.hsva),n=!isNaN(e.v)&&e.v>=0&&e.v<=e.rg;n&&(t.g=e.v/e.rg,this.hsva=this.service.rgbaToHsva(t),this.sliderH=this.hsva.h,this.updateColorPicker()),this.directiveInstance.inputChanged({input:"green",valid:n,value:t.g,color:this.outputColor})}onHueInput(e){const t=!isNaN(e.v)&&e.v>=0&&e.v<=e.rg;t&&(this.hsva.h=e.v/e.rg,this.sliderH=this.hsva.h,this.updateColorPicker()),this.directiveInstance.inputChanged({input:"hue",valid:t,value:this.hsva.h,color:this.outputColor})}onValueInput(e){const t=!isNaN(e.v)&&e.v>=0&&e.v<=e.rg;t&&(this.hsva.v=e.v/e.rg,this.updateColorPicker()),this.directiveInstance.inputChanged({input:"value",valid:t,value:this.hsva.v,color:this.outputColor})}onAlphaInput(e){const t=!isNaN(e.v)&&e.v>=0&&e.v<=e.rg;t&&(this.hsva.a=e.v/e.rg,this.updateColorPicker()),this.directiveInstance.inputChanged({input:"alpha",valid:t,value:this.hsva.a,color:this.outputColor})}onLightnessInput(e){const t=this.service.hsva2hsla(this.hsva),n=!isNaN(e.v)&&e.v>=0&&e.v<=e.rg;n&&(t.l=e.v/e.rg,this.hsva=this.service.hsla2hsva(t),this.sliderH=this.hsva.h,this.updateColorPicker()),this.directiveInstance.inputChanged({input:"lightness",valid:n,value:t.l,color:this.outputColor})}onSaturationInput(e){const t=this.service.hsva2hsla(this.hsva),n=!isNaN(e.v)&&e.v>=0&&e.v<=e.rg;n&&(t.s=e.v/e.rg,this.hsva=this.service.hsla2hsva(t),this.sliderH=this.hsva.h,this.updateColorPicker()),this.directiveInstance.inputChanged({input:"saturation",valid:n,value:t.s,color:this.outputColor})}onCyanInput(e){!isNaN(e.v)&&e.v>=0&&e.v<=e.rg&&(this.cmyk.c=e.v,this.updateColorPicker(!1,!0,!0)),this.directiveInstance.inputChanged({input:"cyan",valid:!0,value:this.cmyk.c,color:this.outputColor})}onMagentaInput(e){!isNaN(e.v)&&e.v>=0&&e.v<=e.rg&&(this.cmyk.m=e.v,this.updateColorPicker(!1,!0,!0)),this.directiveInstance.inputChanged({input:"magenta",valid:!0,value:this.cmyk.m,color:this.outputColor})}onYellowInput(e){!isNaN(e.v)&&e.v>=0&&e.v<=e.rg&&(this.cmyk.y=e.v,this.updateColorPicker(!1,!0,!0)),this.directiveInstance.inputChanged({input:"yellow",valid:!0,value:this.cmyk.y,color:this.outputColor})}onBlackInput(e){!isNaN(e.v)&&e.v>=0&&e.v<=e.rg&&(this.cmyk.k=e.v,this.updateColorPicker(!1,!0,!0)),this.directiveInstance.inputChanged({input:"black",valid:!0,value:this.cmyk.k,color:this.outputColor})}onAddPresetColor(e,t){e.stopPropagation(),this.cpPresetColors.filter(e=>e===t).length||(this.cpPresetColors=this.cpPresetColors.concat(t),this.directiveInstance.presetColorsChanged(this.cpPresetColors))}onRemovePresetColor(e,t){e.stopPropagation(),this.cpPresetColors=this.cpPresetColors.filter(e=>e!==t),this.directiveInstance.presetColorsChanged(this.cpPresetColors)}openColorPicker(){this.show||(this.show=!0,this.hidden=!0,setTimeout(()=>{this.hidden=!1,this.setDialogPosition(),this.cdRef.detectChanges()},0),this.directiveInstance.stateChanged(!0),this.isIE10||(document.addEventListener("mousedown",this.listenerMouseDown),document.addEventListener("touchstart",this.listenerMouseDown)),window.addEventListener("resize",this.listenerResize))}closeColorPicker(){this.show&&(this.show=!1,this.directiveInstance.stateChanged(!1),this.isIE10||(document.removeEventListener("mousedown",this.listenerMouseDown),document.removeEventListener("touchstart",this.listenerMouseDown)),window.removeEventListener("resize",this.listenerResize),this.cdRef.destroyed||this.cdRef.detectChanges())}updateColorPicker(e=!0,t=!0,n=!1){if(this.sliderDimMax){let i,o,a;2===this.cpColorMode&&(this.hsva.s=0);const r=this.outputColor;if(o=this.service.hsva2hsla(this.hsva),this.cpCmykEnabled?(n?(a=this.service.cmykToRgb(this.service.normalizeCMYK(this.cmyk)),this.hsva=this.service.rgbaToHsva(a)):(a=this.service.hsvaToRgba(this.hsva),this.cmyk=this.service.denormalizeCMYK(this.service.rgbaToCmyk(a))),a=this.service.denormalizeRGBA(a),this.sliderH=this.hsva.h):a=this.service.denormalizeRGBA(this.service.hsvaToRgba(this.hsva)),i=this.service.denormalizeRGBA(this.service.hsvaToRgba(new dt(this.sliderH||this.hsva.h,1,1,1))),t&&(this.hslaText=new pt(Math.round(360*o.h),Math.round(100*o.s),Math.round(100*o.l),Math.round(100*o.a)/100),this.rgbaText=new ct(a.r,a.g,a.b,Math.round(100*a.a)/100),this.cpCmykEnabled&&(this.cmykText=new ht(this.cmyk.c,this.cmyk.m,this.cmyk.y,this.cmyk.k,Math.round(100*this.cmyk.a)/100)),this.hexText=this.service.rgbaToHex(a,"always"===this.cpAlphaChannel),this.hexAlpha=this.rgbaText.a),"auto"===this.cpOutputFormat&&this.format!==lt.RGBA&&this.format!==lt.CMYK&&this.hsva.a<1&&(this.format=this.hsva.a<1?lt.RGBA:lt.HEX),this.hueSliderColor="rgb("+i.r+","+i.g+","+i.b+")",this.alphaSliderColor="rgb("+a.r+","+a.g+","+a.b+")",this.outputColor=this.service.outputFormat(this.hsva,this.cpOutputFormat,this.cpAlphaChannel),this.selectedColor=this.service.outputFormat(this.hsva,"rgba",null),this.format!==lt.CMYK)this.cmykColor="";else if("always"===this.cpAlphaChannel||"enabled"===this.cpAlphaChannel||"forced"===this.cpAlphaChannel){const e=Math.round(100*this.cmyk.a)/100;this.cmykColor=`cmyka(${this.cmyk.c},${this.cmyk.m},${this.cmyk.y},${this.cmyk.k},${e})`}else this.cmykColor=`cmyk(${this.cmyk.c},${this.cmyk.m},${this.cmyk.y},${this.cmyk.k})`;this.slider=new ft((this.sliderH||this.hsva.h)*this.sliderDimMax.h-8,this.hsva.s*this.sliderDimMax.s-8,(1-this.hsva.v)*this.sliderDimMax.v-8,this.hsva.a*this.sliderDimMax.a-8),e&&r!==this.outputColor&&(this.cpCmykEnabled&&this.directiveInstance.cmykChanged(this.cmykColor),this.directiveInstance.colorChanged(this.outputColor))}}setDialogPosition(){if("inline"===this.cpDialogDisplay)this.position="relative";else{let e,t="static",n="",i=null,o=null,a=this.directiveElementRef.nativeElement.parentNode;const r=this.dialogElement.nativeElement.offsetHeight;for(;null!==a&&"HTML"!==a.tagName;){if(e=window.getComputedStyle(a),t=e.getPropertyValue("position"),n=e.getPropertyValue("transform"),"static"!==t&&null===i&&(i=a),n&&"none"!==n&&null===o&&(o=a),"fixed"===t){i=o;break}a=a.parentNode}const s=this.createDialogBox(this.directiveElementRef.nativeElement,"fixed"!==t);if(this.useRootViewContainer||"fixed"===t&&(!i||i instanceof HTMLUnknownElement))this.top=s.top,this.left=s.left;else{null===i&&(i=a);const e=this.createDialogBox(i,"fixed"!==t);this.top=s.top-e.top,this.left=s.left-e.left}"fixed"===t&&(this.position="fixed");let l=this.cpPosition;"auto"===this.cpPosition&&(l=function(e,t){let n="right",i="bottom";const{height:o,width:a}=e,{top:r,left:s}=t,l=r+t.height,c=s+t.width,d=r-o<0,p=l+o>(window.innerHeight||document.documentElement.clientHeight),h=s-a<0,u=c+a>(window.innerWidth||document.documentElement.clientWidth);return p&&(i="top"),d&&(i="bottom"),h&&(n="right"),u&&(n="left"),d&&p&&h&&u?["left","right","top","bottom"].reduce((t,n)=>e[t]>e[n]?t:n):h&&u?d?"bottom":p||r>l?"top":"bottom":d&&p?h?"right":u||s>c?"left":"right":`${i}-${n}`}(this.dialogElement.nativeElement.getBoundingClientRect(),this.cpTriggerElement.nativeElement.getBoundingClientRect())),"top"===l?(this.arrowTop=r-1,this.top-=r+this.dialogArrowSize,this.left+=this.cpPositionOffset/100*s.width-this.dialogArrowOffset):"bottom"===l?(this.top+=s.height+this.dialogArrowSize,this.left+=this.cpPositionOffset/100*s.width-this.dialogArrowOffset):"top-left"===l||"left-top"===l?(this.top-=r-s.height+s.height*this.cpPositionOffset/100,this.left-=this.cpWidth+this.dialogArrowSize-2-this.dialogArrowOffset):"top-right"===l||"right-top"===l?(this.top-=r-s.height+s.height*this.cpPositionOffset/100,this.left+=s.width+this.dialogArrowSize-2-this.dialogArrowOffset):"left"===l||"bottom-left"===l||"left-bottom"===l?(this.top+=s.height*this.cpPositionOffset/100-this.dialogArrowOffset,this.left-=this.cpWidth+this.dialogArrowSize-2):(this.top+=s.height*this.cpPositionOffset/100-this.dialogArrowOffset,this.left+=s.width+this.dialogArrowSize-2),this.cpUsePosition=l}}isDescendant(e,t){let n=t.parentNode;for(;null!==n;){if(n===e)return!0;n=n.parentNode}return!1}createDialogBox(e,t){return{top:e.getBoundingClientRect().top+(t?window.pageYOffset:0),left:e.getBoundingClientRect().left+(t?window.pageXOffset:0),width:e.offsetWidth,height:e.offsetHeight}}}return e.\u0275fac=function(t){return new(t||e)(a.Ob(a.l),a.Ob(a.h),a.Ob(bt))},e.\u0275cmp=a.Ib({type:e,selectors:[["color-picker"]],viewQuery:function(e,t){if(1&e&&(a.Hc(De,!0),a.Hc(Re,!0),a.Hc(Le,!0)),2&e){let e;a.xc(e=a.dc())&&(t.dialogElement=e.first),a.xc(e=a.dc())&&(t.hueSlider=e.first),a.xc(e=a.dc())&&(t.alphaSlider=e.first)}},hostBindings:function(e,t){1&e&&a.cc("keyup.esc",function(e){return t.handleEsc(e)},!1,a.Ac)("keyup.enter",function(e){return t.handleEnter(e)},!1,a.Ac)},decls:28,vars:47,consts:[[1,"color-picker",3,"click"],["dialogPopup",""],[3,"class","top",4,"ngIf"],["class","saturation-lightness",3,"slider","rgX","rgY","background-color","newValue","dragStart","dragEnd",4,"ngIf"],[1,"hue-alpha","box"],[1,"left"],[1,"selected-color-background"],[1,"selected-color"],["type","button",3,"class","disabled","click",4,"ngIf"],[1,"right"],["style","height: 16px;",4,"ngIf"],[1,"hue",3,"slider","rgX","newValue","dragStart","dragEnd"],["hueSlider",""],[1,"cursor"],[1,"value",3,"slider","rgX","newValue","dragStart","dragEnd"],["valueSlider",""],[1,"alpha",3,"slider","rgX","newValue","dragStart","dragEnd"],["alphaSlider",""],["class","cmyk-text",3,"display",4,"ngIf"],["class","hsla-text",3,"display",4,"ngIf"],["class","rgba-text",3,"display",4,"ngIf"],["class","hex-text",3,"hex-alpha","display",4,"ngIf"],["class","value-text",4,"ngIf"],["class","type-policy",4,"ngIf"],["class","preset-area",4,"ngIf"],["class","button-area",4,"ngIf"],[1,"saturation-lightness",3,"slider","rgX","rgY","newValue","dragStart","dragEnd"],["type","button",3,"disabled","click"],[2,"height","16px"],[1,"cmyk-text"],[1,"box"],["type","number","pattern","[0-9]*","min","0","max","100",3,"text","rg","value","keyup.enter","newValue"],["type","number","pattern","[0-9]+([\\.,][0-9]{1,2})?","min","0","max","1","step","0.1",3,"text","rg","value","keyup.enter","newValue",4,"ngIf"],[4,"ngIf"],["type","number","pattern","[0-9]+([\\.,][0-9]{1,2})?","min","0","max","1","step","0.1",3,"text","rg","value","keyup.enter","newValue"],[1,"hsla-text"],["type","number","pattern","[0-9]*","min","0","max","360",3,"text","rg","value","keyup.enter","newValue"],[1,"rgba-text"],["type","number","pattern","[0-9]*","min","0","max","255",3,"text","rg","value","keyup.enter","newValue"],[1,"hex-text"],[3,"text","value","blur","keyup.enter","newValue"],[1,"value-text"],[1,"type-policy"],[1,"type-policy-arrow",3,"click"],[1,"preset-area"],[1,"preset-label"],[3,"class",4,"ngIf"],["class","preset-color",3,"backgroundColor","click",4,"ngFor","ngForOf"],[1,"preset-color",3,"click"],[3,"class","click",4,"ngIf"],[3,"click"],[1,"button-area"],["type","button",3,"class","click",4,"ngIf"],["type","button",3,"click"]],template:function(e,t){1&e&&(a.Ub(0,"div",0,1),a.cc("click",function(e){return e.stopPropagation()}),a.Lc(2,Ee,1,5,"div",2),a.Lc(3,je,2,8,"div",3),a.Ub(4,"div",4),a.Ub(5,"div",5),a.Pb(6,"div",6),a.Pb(7,"div",7),a.Lc(8,Ue,2,5,"button",8),a.Tb(),a.Ub(9,"div",9),a.Lc(10,Be,1,0,"div",10),a.Ub(11,"div",11,12),a.cc("newValue",function(e){return t.onHueChange(e)})("dragStart",function(){return t.onDragStart("hue")})("dragEnd",function(){return t.onDragEnd("hue")}),a.Pb(13,"div",13),a.Tb(),a.Ub(14,"div",14,15),a.cc("newValue",function(e){return t.onValueChange(e)})("dragStart",function(){return t.onDragStart("value")})("dragEnd",function(){return t.onDragEnd("value")}),a.Pb(16,"div",13),a.Tb(),a.Ub(17,"div",16,17),a.cc("newValue",function(e){return t.onAlphaChange(e)})("dragStart",function(){return t.onDragStart("alpha")})("dragEnd",function(){return t.onDragEnd("alpha")}),a.Pb(19,"div",13),a.Tb(),a.Tb(),a.Tb(),a.Lc(20,Ne,17,12,"div",18),a.Lc(21,Ge,14,10,"div",19),a.Lc(22,Ke,14,10,"div",20),a.Lc(23,Xe,8,7,"div",21),a.Lc(24,Je,9,3,"div",22),a.Lc(25,$e,3,0,"div",23),a.Lc(26,ot,6,3,"div",24),a.Lc(27,st,3,2,"div",25),a.Tb()),2&e&&(a.Ic("display",t.show?"block":"none")("visibility",t.hidden?"hidden":"visible")("top",t.top,"px")("left",t.left,"px")("position",t.position)("height",t.cpHeight,"px")("width",t.cpWidth,"px"),a.Gb("open",t.show),a.Cb(2),a.nc("ngIf","popup"==t.cpDialogDisplay),a.Cb(1),a.nc("ngIf",1===(t.cpColorMode||1)),a.Cb(4),a.Ic("background-color",t.selectedColor),a.Cb(1),a.nc("ngIf",t.cpAddColorButton),a.Cb(2),a.nc("ngIf","disabled"===t.cpAlphaChannel),a.Cb(1),a.Ic("display",1===(t.cpColorMode||1)?"block":"none"),a.nc("rgX",1),a.Cb(2),a.Ic("left",null==t.slider?null:t.slider.h,"px"),a.Cb(1),a.Ic("display",2===(t.cpColorMode||1)?"block":"none"),a.nc("rgX",1),a.Cb(2),a.Ic("right",null==t.slider?null:t.slider.v,"px"),a.Cb(1),a.Ic("display","disabled"===t.cpAlphaChannel?"none":"block")("background-color",t.alphaSliderColor),a.nc("rgX",1),a.Cb(2),a.Ic("left",null==t.slider?null:t.slider.a,"px"),a.Cb(1),a.nc("ngIf",!t.cpDisableInput&&1===(t.cpColorMode||1)),a.Cb(1),a.nc("ngIf",!t.cpDisableInput&&1===(t.cpColorMode||1)),a.Cb(1),a.nc("ngIf",!t.cpDisableInput&&1===(t.cpColorMode||1)),a.Cb(1),a.nc("ngIf",!t.cpDisableInput&&1===(t.cpColorMode||1)),a.Cb(1),a.nc("ngIf",!t.cpDisableInput&&2===(t.cpColorMode||1)),a.Cb(1),a.nc("ngIf",!t.cpDisableInput&&1===(t.cpColorMode||1)),a.Cb(1),a.nc("ngIf",(null==t.cpPresetColors?null:t.cpPresetColors.length)||t.cpAddColorButton),a.Cb(1),a.nc("ngIf",t.cpOKButton||t.cpCancelButton))},directives:[k.l,gt,ut,k.k],styles:['.color-picker{-moz-user-select:none;-ms-user-select:none;-webkit-user-select:none;background-color:#fff;border:1px solid #777;cursor:default;height:auto;position:absolute;user-select:none;width:230px;z-index:1000}.color-picker *{box-sizing:border-box;font-size:11px;margin:0}.color-picker input{color:#000;font-size:13px;height:26px;min-width:0;text-align:center;width:0}.color-picker input:-moz-submit-invalid,.color-picker input:-moz-ui-invalid,.color-picker input:invalid{box-shadow:none}.color-picker input::-webkit-inner-spin-button,.color-picker input::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.color-picker .arrow{border-style:solid;height:0;position:absolute;width:0;z-index:999999}.color-picker .arrow.arrow-top{border-color:#777 transparent transparent;border-width:10px 5px;left:8px}.color-picker .arrow.arrow-bottom{border-color:transparent transparent #777;border-width:10px 5px;left:8px;top:-20px}.color-picker .arrow.arrow-left-top,.color-picker .arrow.arrow-top-left{border-color:transparent transparent transparent #777;border-width:5px 10px;bottom:8px;right:-21px}.color-picker .arrow.arrow-right-top,.color-picker .arrow.arrow-top-right{border-color:transparent #777 transparent transparent;border-width:5px 10px;bottom:8px;left:-20px}.color-picker .arrow.arrow-bottom-left,.color-picker .arrow.arrow-left,.color-picker .arrow.arrow-left-bottom{border-color:transparent transparent transparent #777;border-width:5px 10px;right:-21px;top:8px}.color-picker .arrow.arrow-bottom-right,.color-picker .arrow.arrow-right,.color-picker .arrow.arrow-right-bottom{border-color:transparent #777 transparent transparent;border-width:5px 10px;left:-20px;top:8px}.color-picker .cursor{border:2px solid #222;border-radius:50%;cursor:default;height:16px;position:relative;width:16px}.color-picker .box{display:flex;padding:4px 8px}.color-picker .left{padding:16px 8px;position:relative}.color-picker .right{flex:1 1 auto;padding:12px 8px}.color-picker .button-area{padding:0 16px 16px;text-align:right}.color-picker .button-area button{margin-left:8px}.color-picker .preset-area{padding:4px 15px}.color-picker .preset-area .preset-label{color:#555;font-size:11px;overflow:hidden;padding:4px;text-align:left;text-overflow:ellipsis;white-space:nowrap;width:100%}.color-picker .preset-area .preset-color{border:1px solid #a9a9a9;border-radius:25%;cursor:pointer;display:inline-block;height:18px;margin:4px 6px 8px;position:relative;width:18px}.color-picker .preset-area .preset-empty-message{font-style:italic;margin-bottom:8px;margin-top:4px;min-height:18px;text-align:center}.color-picker .hex-text{font-size:11px;padding:4px 8px;width:100%}.color-picker .hex-text .box{padding:0 24px 8px 8px}.color-picker .hex-text .box div{clear:left;color:#555;flex:1 1 auto;float:left;text-align:center}.color-picker .hex-text .box input{border:1px solid #a9a9a9;flex:1 1 auto;padding:1px}.color-picker .hex-alpha .box div:first-child,.color-picker .hex-alpha .box input:first-child{flex-grow:3;margin-right:8px}.color-picker .cmyk-text,.color-picker .hsla-text,.color-picker .rgba-text,.color-picker .value-text{font-size:11px;padding:4px 8px;width:100%}.color-picker .cmyk-text .box,.color-picker .hsla-text .box,.color-picker .rgba-text .box{padding:0 24px 8px 8px}.color-picker .value-text .box{padding:0 8px 8px}.color-picker .cmyk-text .box div,.color-picker .hsla-text .box div,.color-picker .rgba-text .box div,.color-picker .value-text .box div{color:#555;flex:1 1 auto;margin-right:8px;text-align:center}.color-picker .cmyk-text .box div:last-child,.color-picker .hsla-text .box div:last-child,.color-picker .rgba-text .box div:last-child,.color-picker .value-text .box div:last-child{margin-right:0}.color-picker .cmyk-text .box input,.color-picker .hsla-text .box input,.color-picker .rgba-text .box input,.color-picker .value-text .box input{border:1px solid #a9a9a9;flex:1;float:left;margin:0 8px 0 0;padding:1px}.color-picker .cmyk-text .box input:last-child,.color-picker .hsla-text .box input:last-child,.color-picker .rgba-text .box input:last-child,.color-picker .value-text .box input:last-child{margin-right:0}.color-picker .hue-alpha{align-items:center;margin-bottom:3px}.color-picker .hue{background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAAAQCAYAAAD06IYnAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4AIWDwkUFWbCCAAAAFxJREFUaN7t0kEKg0AQAME2x83/n2qu5qCgD1iDhCoYdpnbQC9bbY1qVO/jvc6k3ad91s7/7F1/csgPrujuQ17BDYSFsBAWwgJhISyEBcJCWAgLhIWwEBYIi2f7Ar/1TCgFH2X9AAAAAElFTkSuQmCC");direction:ltr}.color-picker .hue,.color-picker .value{background-size:100% 100%;border:none;cursor:pointer;height:16px;margin-bottom:16px;width:100%}.color-picker .value{background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAAAQCAYAAAD06IYnAAACTklEQVR42u3SYUcrABhA4U2SkmRJMmWSJklKJiWZZpKUJJskKUmaTFImKZOUzMySpGRmliRNJilJSpKSJEtmSpIpmWmSdO736/6D+x7OP3gUCoWCv1cqlSQlJZGcnExKSgqpqamkpaWRnp5ORkYGmZmZqFQqsrKyyM7OJicnh9zcXNRqNXl5eeTn56PRaCgoKKCwsJCioiK0Wi3FxcWUlJRQWlpKWVkZ5eXlVFRUUFlZiU6no6qqiurqampqaqitraWurg69Xk99fT0GgwGj0UhDQwONjY00NTXR3NxMS0sLra2ttLW10d7ejslkwmw209HRQWdnJ11dXXR3d9PT00Nvby99fX309/czMDDA4OAgFouFoaEhrFYrw8PDjIyMMDo6ytjYGDabjfHxcSYmJpicnGRqagq73c709DQzMzPMzs4yNzfH/Pw8DocDp9OJy+XC7XazsLDA4uIiS0tLLC8vs7KywurqKmtra3g8HrxeLz6fD7/fz/r6OhsbG2xubrK1tcX29jaBQICdnR2CwSC7u7vs7e2xv7/PwcEBh4eHHB0dcXx8zMnJCaenp5ydnXF+fs7FxQWXl5dcXV1xfX3Nzc0Nt7e33N3dEQqFuL+/5+HhgXA4TCQS4fHxkaenJ56fn3l5eeH19ZVoNMrb2xvv7+98fHwQi8WIx+N8fn6SSCT4+vri+/ubn58ffn9/+VcKgSWwBJbAElgCS2AJLIElsASWwBJYAktgCSyBJbAElsASWAJLYAksgSWwBJbAElgCS2AJLIElsP4/WH8AmJ5Z6jHS4h8AAAAASUVORK5CYII=");direction:rtl}.color-picker .alpha{background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAAAQCAYAAAD06IYnAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4AIWDwYQlZMa3gAAAWVJREFUaN7tmEGO6jAQRCsOArHgBpyAJYGjcGocxAm4A2IHpmoWE0eBH+ezmFlNvU06shJ3W6VEelWMUQAIIF9f6qZpimsA1LYtS2uF51/u27YVAFZVRUkEoGHdPV/sIcbIEIIkUdI/9Xa7neyv61+SWFUVAVCSct00TWn2fv6u3+Ecfd3tXzy/0+nEUu+SPjo/kqzrmiQpScN6v98XewfA8/lMkiLJ2WxGSUopcT6fM6U0NX9/frfbjev1WtfrlZfLhYfDQQHG/AIOlnGwjINlHCxjHCzjYJm/TJWdCwquJXseFFzGwDNNeiKMOJTO8xQdDQaeB29+K9efeLaBo9J7vdvtJj1RjFFjfiv7qv95tjx/7leSQgh93e1ffMeIp6O+YQjho/N791t1XVOSSI7N//K+4/GoxWLBx+PB5/Op5XLJ+/3OlJJWqxU3m83ovv5iGf8KjYNlHCxjHCzjYBkHy5gf5gusvQU7U37jTAAAAABJRU5ErkJggg==");background-size:100% 100%;border:none;cursor:pointer;direction:ltr;height:16px;width:100%}.color-picker .type-policy{background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAAgCAYAAAAffCjxAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAACewAAAnsB01CO3AAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAIASURBVEiJ7ZY9axRRFIafsxMStrLQJpAgpBFhi+C9w1YSo00I6RZ/g9vZpBf/QOr4GyRgkSKNSrAadsZqQGwCkuAWyRZJsySwvhZ7N/vhzrgbLH3Ld8597jlzz50zJokyxXH8DqDVar0qi6v8BbItqSGpEcfxdlmsFWXkvX8AfAVWg3UKPEnT9GKujMzsAFgZsVaCN1VTQd77XUnrgE1kv+6935268WRpzrnHZvYRWC7YvC3pRZZl3wozqtVqiyH9IgjAspkd1Gq1xUJQtVrdB9ZKIAOthdg/Qc65LUk7wNIMoCVJO865rYFhkqjX6/d7vV4GPJwBMqofURS5JEk6FYBer/eeYb/Mo9WwFnPOvQbeAvfuAAK4BN4sAJtAG/gJIElmNuiJyba3EGNmZiPeZuEVmVell/Y/6N+CzDn3AXhEOOo7Hv/3BeAz8IzQkMPnJbuPx1wC+yYJ7/0nYIP5S/0FHKdp+rwCEEXRS/rf5Hl1Gtb2M0iSpCOpCZzPATmX1EySpHMLAsiy7MjMDoHrGSDXZnaYZdnRwBh7J91utwmczAA6CbG3GgPleX4jqUH/a1CktqRGnuc3hSCAMB32gKspkCtgb3KCQMmkjeP4WNJThrNNZval1WptTIsv7JtQ4tmIdRa8qSoEpWl6YWZNoAN0zKxZNPehpLSBZv2t+Q0CJ9lLnARQLAAAAABJRU5ErkJggg==");background-position:50%;background-repeat:no-repeat;background-size:8px 16px;height:24px;position:absolute;right:12px;top:218px;width:16px}.color-picker .type-policy .type-policy-arrow{display:block;height:50%;width:100%}.color-picker .selected-color{border:1px solid #a9a9a9;border-radius:50%;height:40px;left:8px;position:absolute;top:16px;width:40px}.color-picker .selected-color-background{background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAh0lEQVRYR+2W0QlAMQgD60zdfwOdqa8TmI/wQMr5K0I5bZLIzLOa2nt37VVVbd+dDx5obgCC3KBLwJ2ff4PnVidkf+ucIhw80HQaCLo3DMH3CRK3iFsmAWVl6hPNDwt8EvNE5q+YuEXcMgkonVM6SdyCoEvAnZ8v1Hjx817MilmxSUB5rdLJDycZgUAZUch/AAAAAElFTkSuQmCC");border-radius:50%;height:40px;width:40px}.color-picker .saturation-lightness{background-image:url("data:image/png;base64,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");background-size:100% 100%;border:none;cursor:pointer;direction:ltr;height:130px;touch-action:manipulation;width:100%}.color-picker .cp-add-color-button-class{background:transparent;border:0;cursor:pointer;display:inline;margin:3px -3px;padding:0;position:absolute}.color-picker .cp-add-color-button-class:hover{text-decoration:underline}.color-picker .cp-add-color-button-class:disabled{color:#999;cursor:not-allowed}.color-picker .cp-add-color-button-class:disabled:hover{text-decoration:none}.color-picker .cp-remove-color-button-class{background:#fff;border-radius:50%;box-shadow:1px 1px 5px #333;cursor:pointer;display:block;height:10px;position:absolute;right:-5px;text-align:center;top:-5px;width:10px}.color-picker .cp-remove-color-button-class:before{bottom:3.5px;content:"x";display:inline-block;font-size:10px;position:relative}'],encapsulation:2}),e})(),_t=(()=>{class e{constructor(e,t,n,i,o,r){this.injector=e,this.cfr=t,this.appRef=n,this.vcRef=i,this.elRef=o,this._service=r,this.dialogCreated=!1,this.ignoreChanges=!1,this.viewAttachedToAppRef=!1,this.cpWidth="230px",this.cpHeight="auto",this.cpToggle=!1,this.cpDisabled=!1,this.cpIgnoredElements=[],this.cpFallbackColor="",this.cpColorMode="color",this.cpCmykEnabled=!1,this.cpOutputFormat="auto",this.cpAlphaChannel="enabled",this.cpDisableInput=!1,this.cpDialogDisplay="popup",this.cpSaveClickOutside=!0,this.cpCloseClickOutside=!0,this.cpUseRootViewContainer=!1,this.cpPosition="auto",this.cpPositionOffset="0%",this.cpPositionRelativeToArrow=!1,this.cpOKButton=!1,this.cpOKButtonText="OK",this.cpOKButtonClass="cp-ok-button-class",this.cpCancelButton=!1,this.cpCancelButtonText="Cancel",this.cpCancelButtonClass="cp-cancel-button-class",this.cpPresetLabel="Preset colors",this.cpPresetColorsClass="cp-preset-colors-class",this.cpMaxPresetColorsLength=6,this.cpPresetEmptyMessage="No colors added",this.cpPresetEmptyMessageClass="preset-empty-message",this.cpAddColorButton=!1,this.cpAddColorButtonText="Add color",this.cpAddColorButtonClass="cp-add-color-button-class",this.cpRemoveColorButtonClass="cp-remove-color-button-class",this.cpInputChange=new a.n(!0),this.cpToggleChange=new a.n(!0),this.cpSliderChange=new a.n(!0),this.cpSliderDragEnd=new a.n(!0),this.cpSliderDragStart=new a.n(!0),this.colorPickerOpen=new a.n(!0),this.colorPickerClose=new a.n(!0),this.colorPickerCancel=new a.n(!0),this.colorPickerSelect=new a.n(!0),this.colorPickerChange=new a.n(!1),this.cpCmykColorChange=new a.n(!0),this.cpPresetColorsChange=new a.n(!0)}handleClick(){this.inputFocus()}handleFocus(){this.inputFocus()}handleInput(e){this.inputChange(e)}ngOnDestroy(){null!=this.cmpRef&&(this.viewAttachedToAppRef&&this.appRef.detachView(this.cmpRef.hostView),this.cmpRef.destroy(),this.cmpRef=null,this.dialog=null)}ngOnChanges(e){e.cpToggle&&!this.cpDisabled&&(e.cpToggle.currentValue?this.openDialog():e.cpToggle.currentValue||this.closeDialog()),e.colorPicker&&(this.dialog&&!this.ignoreChanges&&("inline"===this.cpDialogDisplay&&this.dialog.setInitialColor(e.colorPicker.currentValue),this.dialog.setColorFromString(e.colorPicker.currentValue,!1),this.cpUseRootViewContainer&&"inline"!==this.cpDialogDisplay&&this.cmpRef.changeDetectorRef.detectChanges()),this.ignoreChanges=!1),(e.cpPresetLabel||e.cpPresetColors)&&this.dialog&&this.dialog.setPresetConfig(this.cpPresetLabel,this.cpPresetColors)}openDialog(){if(this.dialogCreated)this.dialog&&this.dialog.openDialog(this.colorPicker);else{let e=this.vcRef;if(this.dialogCreated=!0,this.viewAttachedToAppRef=!1,this.cpUseRootViewContainer&&"inline"!==this.cpDialogDisplay){const t=this.injector.get(this.appRef.componentTypes[0],a.s.NULL);t!==a.s.NULL?(e=t.vcRef||t.viewContainerRef||this.vcRef,e===this.vcRef&&console.warn("You are using cpUseRootViewContainer, but the root component is not exposing viewContainerRef!Please expose it by adding 'public vcRef: ViewContainerRef' to the constructor.")):this.viewAttachedToAppRef=!0}const t=this.cfr.resolveComponentFactory(Ct);if(this.viewAttachedToAppRef)this.cmpRef=t.create(this.injector),this.appRef.attachView(this.cmpRef.hostView),document.body.appendChild(this.cmpRef.hostView.rootNodes[0]);else{const n=a.F.fromResolvedProviders([],e.parentInjector);this.cmpRef=e.createComponent(t,0,n,[])}this.cmpRef.instance.setupDialog(this,this.elRef,this.colorPicker,this.cpWidth,this.cpHeight,this.cpDialogDisplay,this.cpFallbackColor,this.cpColorMode,this.cpCmykEnabled,this.cpAlphaChannel,this.cpOutputFormat,this.cpDisableInput,this.cpIgnoredElements,this.cpSaveClickOutside,this.cpCloseClickOutside,this.cpUseRootViewContainer,this.cpPosition,this.cpPositionOffset,this.cpPositionRelativeToArrow,this.cpPresetLabel,this.cpPresetColors,this.cpPresetColorsClass,this.cpMaxPresetColorsLength,this.cpPresetEmptyMessage,this.cpPresetEmptyMessageClass,this.cpOKButton,this.cpOKButtonClass,this.cpOKButtonText,this.cpCancelButton,this.cpCancelButtonClass,this.cpCancelButtonText,this.cpAddColorButton,this.cpAddColorButtonClass,this.cpAddColorButtonText,this.cpRemoveColorButtonClass,this.elRef),this.dialog=this.cmpRef.instance,this.vcRef!==e&&this.cmpRef.changeDetectorRef.detectChanges()}}closeDialog(){this.dialog&&"popup"===this.cpDialogDisplay&&this.dialog.closeDialog()}cmykChanged(e){this.cpCmykColorChange.emit(e)}stateChanged(e){this.cpToggleChange.emit(e),e?this.colorPickerOpen.emit(this.colorPicker):this.colorPickerClose.emit(this.colorPicker)}colorChanged(e,t=!0){this.ignoreChanges=t,this.colorPickerChange.emit(e)}colorSelected(e){this.colorPickerSelect.emit(e)}colorCanceled(){this.colorPickerCancel.emit()}inputFocus(){const e=this.elRef.nativeElement,t=this.cpIgnoredElements.filter(t=>t===e);this.cpDisabled||t.length||("undefined"!=typeof document&&e===document.activeElement?this.openDialog():this.dialog&&this.dialog.show?this.closeDialog():this.openDialog())}inputChange(e){this.dialog?this.dialog.setColorFromString(e.target.value,!0):(this.colorPicker=e.target.value,this.colorPickerChange.emit(this.colorPicker))}inputChanged(e){this.cpInputChange.emit(e)}sliderChanged(e){this.cpSliderChange.emit(e)}sliderDragEnd(e){this.cpSliderDragEnd.emit(e)}sliderDragStart(e){this.cpSliderDragStart.emit(e)}presetColorsChanged(e){this.cpPresetColorsChange.emit(e)}}return e.\u0275fac=function(t){return new(t||e)(a.Ob(a.s),a.Ob(a.j),a.Ob(a.g),a.Ob(a.R),a.Ob(a.l),a.Ob(bt))},e.\u0275dir=a.Jb({type:e,selectors:[["","colorPicker",""]],hostBindings:function(e,t){1&e&&a.cc("click",function(){return t.handleClick()})("focus",function(){return t.handleFocus()})("input",function(e){return t.handleInput(e)})},inputs:{cpWidth:"cpWidth",cpHeight:"cpHeight",cpToggle:"cpToggle",cpDisabled:"cpDisabled",cpIgnoredElements:"cpIgnoredElements",cpFallbackColor:"cpFallbackColor",cpColorMode:"cpColorMode",cpCmykEnabled:"cpCmykEnabled",cpOutputFormat:"cpOutputFormat",cpAlphaChannel:"cpAlphaChannel",cpDisableInput:"cpDisableInput",cpDialogDisplay:"cpDialogDisplay",cpSaveClickOutside:"cpSaveClickOutside",cpCloseClickOutside:"cpCloseClickOutside",cpUseRootViewContainer:"cpUseRootViewContainer",cpPosition:"cpPosition",cpPositionOffset:"cpPositionOffset",cpPositionRelativeToArrow:"cpPositionRelativeToArrow",cpOKButton:"cpOKButton",cpOKButtonText:"cpOKButtonText",cpOKButtonClass:"cpOKButtonClass",cpCancelButton:"cpCancelButton",cpCancelButtonText:"cpCancelButtonText",cpCancelButtonClass:"cpCancelButtonClass",cpPresetLabel:"cpPresetLabel",cpPresetColorsClass:"cpPresetColorsClass",cpMaxPresetColorsLength:"cpMaxPresetColorsLength",cpPresetEmptyMessage:"cpPresetEmptyMessage",cpPresetEmptyMessageClass:"cpPresetEmptyMessageClass",cpAddColorButton:"cpAddColorButton",cpAddColorButtonText:"cpAddColorButtonText",cpAddColorButtonClass:"cpAddColorButtonClass",cpRemoveColorButtonClass:"cpRemoveColorButtonClass",colorPicker:"colorPicker",cpPresetColors:"cpPresetColors"},outputs:{cpInputChange:"cpInputChange",cpToggleChange:"cpToggleChange",cpSliderChange:"cpSliderChange",cpSliderDragEnd:"cpSliderDragEnd",cpSliderDragStart:"cpSliderDragStart",colorPickerOpen:"colorPickerOpen",colorPickerClose:"colorPickerClose",colorPickerCancel:"colorPickerCancel",colorPickerSelect:"colorPickerSelect",colorPickerChange:"colorPickerChange",cpCmykColorChange:"cpCmykColorChange",cpPresetColorsChange:"cpPresetColorsChange"},exportAs:["ngxColorPicker"],features:[a.Ab]}),e})(),vt=(()=>{class e{}return e.\u0275mod=a.Mb({type:e}),e.\u0275inj=a.Lb({factory:function(t){return new(t||e)},providers:[bt],imports:[[k.c]]}),e})(),yt=(()=>{class e{}return e.\u0275mod=a.Mb({type:e}),e.\u0275inj=a.Lb({factory:function(t){return new(t||e)},imports:[[k.c,i.j,vt,Me.d,w.h]]}),e})();var xt=n("cWTo");let Ot=(()=>{class e{}return e.\u0275mod=a.Mb({type:e}),e.\u0275inj=a.Lb({factory:function(t){return new(t||e)},imports:[[k.c,yt,i.j,xt.b,T.a]]}),e})();var wt=n("XiUz"),kt=n("rDax"),At=n("+rOU"),Pt=n("NXyV"),Tt=n("LRne"),St=n("pLZG"),It=n("FtGj");function Mt(e,t){}class Dt{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus=!0,this.restoreFocus=!0,this.closeOnNavigation=!0}}const Rt={dialogContainer:Object(E.m)("dialogContainer",[Object(E.j)("void, exit",Object(E.k)({opacity:0,transform:"scale(0.7)"})),Object(E.j)("enter",Object(E.k)({transform:"none"})),Object(E.l)("* => enter",Object(E.e)("150ms cubic-bezier(0, 0, 0.2, 1)",Object(E.k)({transform:"none",opacity:1}))),Object(E.l)("* => void, * => exit",Object(E.e)("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",Object(E.k)({opacity:0})))])};let Lt=(()=>{class e extends At.a{constructor(e,t,n,i,o,r){super(),this._elementRef=e,this._focusTrapFactory=t,this._changeDetectorRef=n,this._config=o,this._focusMonitor=r,this._animationStateChanged=new a.n,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=e=>(this._portalOutlet.hasAttached(),this._portalOutlet.attachDomPortal(e)),this._ariaLabelledBy=o.ariaLabelledBy||null,this._document=i}_initializeWithAttachedContent(){this._setupFocusTrap(),this._capturePreviouslyFocusedElement(),this._focusDialogContainer()}attachComponentPortal(e){return this._portalOutlet.hasAttached(),this._portalOutlet.attachComponentPortal(e)}attachTemplatePortal(e){return this._portalOutlet.hasAttached(),this._portalOutlet.attachTemplatePortal(e)}_recaptureFocus(){this._containsFocus()||(!this._config.autoFocus||!this._focusTrap.focusInitialElement())&&this._elementRef.nativeElement.focus()}_trapFocus(){this._config.autoFocus?this._focusTrap.focusInitialElementWhenReady():this._containsFocus()||this._elementRef.nativeElement.focus()}_restoreFocus(){const e=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&e&&"function"==typeof e.focus){const t=this._document.activeElement,n=this._elementRef.nativeElement;t&&t!==this._document.body&&t!==n&&!n.contains(t)||(this._focusMonitor?(this._focusMonitor.focusVia(e,this._closeInteractionType),this._closeInteractionType=null):e.focus())}this._focusTrap&&this._focusTrap.destroy()}_setupFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement)}_capturePreviouslyFocusedElement(){this._document&&(this._elementFocusedBeforeDialogWasOpened=this._document.activeElement)}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const e=this._elementRef.nativeElement,t=this._document.activeElement;return e===t||e.contains(t)}}return e.\u0275fac=function(t){return new(t||e)(a.Ob(a.l),a.Ob(c.i),a.Ob(a.h),a.Ob(k.d,8),a.Ob(Dt),a.Ob(c.h))},e.\u0275dir=a.Jb({type:e,viewQuery:function(e,t){if(1&e&&a.Hc(At.c,!0),2&e){let e;a.xc(e=a.dc())&&(t._portalOutlet=e.first)}},features:[a.zb]}),e})(),Et=(()=>{class e extends Lt{constructor(){super(...arguments),this._state="enter"}_onAnimationDone({toState:e,totalTime:t}){"enter"===e?(this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:t})):"exit"===e&&(this._restoreFocus(),this._animationStateChanged.next({state:"closed",totalTime:t}))}_onAnimationStart({toState:e,totalTime:t}){"enter"===e?this._animationStateChanged.next({state:"opening",totalTime:t}):"exit"!==e&&"void"!==e||this._animationStateChanged.next({state:"closing",totalTime:t})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}}return e.\u0275fac=function(t){return jt(t||e)},e.\u0275cmp=a.Ib({type:e,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(e,t){1&e&&a.Jc("@dialogContainer.start",function(e){return t._onAnimationStart(e)})("@dialogContainer.done",function(e){return t._onAnimationDone(e)}),2&e&&(a.Xb("id",t._id),a.Db("role",t._config.role)("aria-labelledby",t._config.ariaLabel?null:t._ariaLabelledBy)("aria-label",t._config.ariaLabel)("aria-describedby",t._config.ariaDescribedBy||null),a.Kc("@dialogContainer",t._state))},features:[a.zb],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,t){1&e&&a.Lc(0,Mt,0,0,"ng-template",0)},directives:[At.c],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[Rt.dialogContainer]}}),e})();const jt=a.Wb(Et);let Ut=0;class Bt{constructor(e,t,n="mat-dialog-"+Ut++){this._overlayRef=e,this._containerInstance=t,this.id=n,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new S.a,this._afterClosed=new S.a,this._beforeClosed=new S.a,this._state=0,t._id=n,t._animationStateChanged.pipe(Object(St.a)(e=>"opened"===e.state),Object(L.a)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),t._animationStateChanged.pipe(Object(St.a)(e=>"closed"===e.state),Object(L.a)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),e.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),e.keydownEvents().pipe(Object(St.a)(e=>e.keyCode===It.f&&!this.disableClose&&!Object(It.r)(e))).subscribe(e=>{e.preventDefault(),Vt(this,"keyboard")}),e.backdropClick().subscribe(()=>{this.disableClose?this._containerInstance._recaptureFocus():Vt(this,"mouse")})}close(e){this._result=e,this._containerInstance._animationStateChanged.pipe(Object(St.a)(e=>"closing"===e.state),Object(L.a)(1)).subscribe(t=>{this._beforeClosed.next(e),this._beforeClosed.complete(),this._overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),t.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._afterClosed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(e){let t=this._getPositionStrategy();return e&&(e.left||e.right)?e.left?t.left(e.left):t.right(e.right):t.centerHorizontally(),e&&(e.top||e.bottom)?e.top?t.top(e.top):t.bottom(e.bottom):t.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(e="",t=""){return this._getPositionStrategy().width(e).height(t),this._overlayRef.updatePosition(),this}addPanelClass(e){return this._overlayRef.addPanelClass(e),this}removePanelClass(e){return this._overlayRef.removePanelClass(e),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._overlayRef.dispose()}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}function Vt(e,t,n){return void 0!==e._containerInstance&&(e._containerInstance._closeInteractionType=t),e.close(n)}const Ft=new a.r("MatDialogData"),Nt=new a.r("mat-dialog-default-options"),qt=new a.r("mat-dialog-scroll-strategy"),zt={provide:qt,deps:[kt.c],useFactory:function(e){return()=>e.scrollStrategies.block()}};let Gt=(()=>{class e{constructor(e,t,n,i,o,a,r,s,l){this._overlay=e,this._injector=t,this._defaultOptions=n,this._parentDialog=i,this._overlayContainer=o,this._dialogRefConstructor=r,this._dialogContainerType=s,this._dialogDataToken=l,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new S.a,this._afterOpenedAtThisLevel=new S.a,this._ariaHiddenElements=new Map,this.afterAllClosed=Object(Pt.a)(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Object(D.a)(void 0))),this._scrollStrategy=a}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(e,t){(t=function(e,t){return Object.assign(Object.assign({},t),e)}(t,this._defaultOptions||new Dt)).id&&this.getDialogById(t.id);const n=this._createOverlay(t),i=this._attachDialogContainer(n,t),o=this._attachDialogContent(e,i,n,t);return this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(o),o.afterClosed().subscribe(()=>this._removeOpenDialog(o)),this.afterOpened.next(o),i._initializeWithAttachedContent(),o}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(t=>t.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_createOverlay(e){const t=this._getOverlayConfig(e);return this._overlay.create(t)}_getOverlayConfig(e){const t=new kt.d({positionStrategy:this._overlay.position().global(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(t.backdropClass=e.backdropClass),t}_attachDialogContainer(e,t){const n=a.s.create({parent:t&&t.viewContainerRef&&t.viewContainerRef.injector||this._injector,providers:[{provide:Dt,useValue:t}]}),i=new At.d(this._dialogContainerType,t.viewContainerRef,n,t.componentFactoryResolver);return e.attach(i).instance}_attachDialogContent(e,t,n,i){const o=new this._dialogRefConstructor(n,t,i.id);if(e instanceof a.N)t.attachTemplatePortal(new At.h(e,null,{$implicit:i.data,dialogRef:o}));else{const n=this._createInjector(i,o,t),a=t.attachComponentPortal(new At.d(e,i.viewContainerRef,n));o.componentInstance=a.instance}return o.updateSize(i.width,i.height).updatePosition(i.position),o}_createInjector(e,t,n){const i=e&&e.viewContainerRef&&e.viewContainerRef.injector,o=[{provide:this._dialogContainerType,useValue:n},{provide:this._dialogDataToken,useValue:e.data},{provide:this._dialogRefConstructor,useValue:t}];return!e.direction||i&&i.get(j.b,null)||o.push({provide:j.b,useValue:{value:e.direction,change:Object(Tt.a)()}}),a.s.create({parent:i||this._injector,providers:o})}_removeOpenDialog(e){const t=this.openDialogs.indexOf(e);t>-1&&(this.openDialogs.splice(t,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((e,t)=>{e?t.setAttribute("aria-hidden",e):t.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const e=this._overlayContainer.getContainerElement();if(e.parentElement){const t=e.parentElement.children;for(let n=t.length-1;n>-1;n--){let i=t[n];i===e||"SCRIPT"===i.nodeName||"STYLE"===i.nodeName||i.hasAttribute("aria-live")||(this._ariaHiddenElements.set(i,i.getAttribute("aria-hidden")),i.setAttribute("aria-hidden","true"))}}}_closeDialogs(e){let t=e.length;for(;t--;)e[t].close()}}return e.\u0275fac=function(t){return new(t||e)(a.Ob(kt.c),a.Ob(a.s),a.Ob(void 0),a.Ob(void 0),a.Ob(kt.e),a.Ob(void 0),a.Ob(a.P),a.Ob(a.P),a.Ob(a.r))},e.\u0275dir=a.Jb({type:e}),e})(),Ht=(()=>{class e extends Gt{constructor(e,t,n,i,o,a,r){super(e,t,i,a,r,o,Bt,Et,Ft)}}return e.\u0275fac=function(t){return new(t||e)(a.Yb(kt.c),a.Yb(a.s),a.Yb(k.h,8),a.Yb(Nt,8),a.Yb(qt),a.Yb(e,12),a.Yb(kt.e))},e.\u0275prov=a.Kb({token:e,factory:e.\u0275fac}),e})(),Yt=(()=>{class e{constructor(e,t,n){this.dialogRef=e,this._elementRef=t,this._dialog=n,this.type="button"}ngOnInit(){this.dialogRef||(this.dialogRef=function(e,t){let n=e.nativeElement.parentElement;for(;n&&!n.classList.contains("mat-dialog-container");)n=n.parentElement;return n?t.find(e=>e.id===n.id):null}(this._elementRef,this._dialog.openDialogs))}ngOnChanges(e){const t=e._matDialogClose||e._matDialogCloseResult;t&&(this.dialogResult=t.currentValue)}_onButtonClick(e){Vt(this.dialogRef,0===e.screenX&&0===e.screenY?"keyboard":"mouse",this.dialogResult)}}return e.\u0275fac=function(t){return new(t||e)(a.Ob(Bt,8),a.Ob(a.l),a.Ob(Ht))},e.\u0275dir=a.Jb({type:e,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(e,t){1&e&&a.cc("click",function(e){return t._onButtonClick(e)}),2&e&&a.Db("aria-label",t.ariaLabel||null)("type",t.type)},inputs:{type:"type",dialogResult:["mat-dialog-close","dialogResult"],ariaLabel:["aria-label","ariaLabel"],_matDialogClose:["matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],features:[a.Ab]}),e})(),Kt=(()=>{class e{}return e.\u0275mod=a.Mb({type:e}),e.\u0275inj=a.Lb({factory:function(t){return new(t||e)},providers:[Ht,zt],imports:[[kt.f,At.g,r.h],r.h]}),e})();var Wt=n("YUcS");let Qt=(()=>{class e{}return e.\u0275mod=a.Mb({type:e}),e.\u0275inj=a.Lb({factory:function(t){return new(t||e)},imports:[[k.c,Wt.a,Kt]]}),e})(),Xt=(()=>{class e{}return e.\u0275mod=a.Mb({type:e}),e.\u0275inj=a.Lb({factory:function(t){return new(t||e)},imports:[[k.c,i.j,w.h,Qt,P.b,T.a,wt.e,xt.b,Ot,Se.c,Ie,Te]]}),e})();var Zt=n("vxfF"),Jt=n("quSY"),$t=n("Kj3r"),en=n("NFeN");function tn(e,t){if(1&e){const e=a.Vb();a.Ub(0,"td"),a.Ub(1,"button",10),a.cc("click",function(){return a.Bc(e),a.gc(2).change("second",!0)}),a.Ub(2,"mat-icon"),a.Nc(3,"expand_less"),a.Tb(),a.Tb(),a.Tb()}if(2&e){const e=a.gc(2);a.Cb(1),a.nc("disabled",e.disabled||e.disableMinute)}}function nn(e,t){1&e&&a.Pb(0,"td",6)}function on(e,t){1&e&&a.Pb(0,"td")}function an(e,t){if(1&e){const e=a.Vb();a.Ub(0,"tr"),a.Ub(1,"td"),a.Ub(2,"button",10),a.cc("click",function(){return a.Bc(e),a.gc().change("hour",!0)}),a.Ub(3,"mat-icon"),a.Nc(4,"expand_less"),a.Tb(),a.Tb(),a.Tb(),a.Pb(5,"td"),a.Ub(6,"td"),a.Ub(7,"button",10),a.cc("click",function(){return a.Bc(e),a.gc().change("minute",!0)}),a.Ub(8,"mat-icon"),a.Nc(9,"expand_less"),a.Tb(),a.Tb(),a.Tb(),a.Pb(10,"td"),a.Lc(11,tn,4,1,"td",3),a.Lc(12,nn,1,0,"td",8),a.Lc(13,on,1,0,"td",3),a.Tb()}if(2&e){const e=a.gc();a.Cb(2),a.nc("disabled",e.disabled),a.Cb(5),a.nc("disabled",e.disabled||e.disableMinute),a.Cb(4),a.nc("ngIf",e.showSeconds),a.Cb(1),a.nc("ngIf",e.enableMeridian),a.Cb(1),a.nc("ngIf",e.enableMeridian)}}function rn(e,t){1&e&&(a.Ub(0,"td",6),a.Nc(1,":"),a.Tb())}function sn(e,t){if(1&e){const e=a.Vb();a.Ub(0,"td"),a.Ub(1,"mat-form-field",4),a.Ub(2,"input",11),a.cc("input",function(t){return a.Bc(e),a.gc().formatInput(t.target)})("keydown.ArrowUp",function(t){return a.Bc(e),a.gc().change("second",!0),t.preventDefault()})("keydown.ArrowDown",function(t){return a.Bc(e),a.gc().change("second",!1),t.preventDefault()})("blur",function(){return a.Bc(e),a.gc().change("second")}),a.Tb(),a.Tb(),a.Tb()}}function ln(e,t){1&e&&a.Pb(0,"td",6)}function cn(e,t){if(1&e){const e=a.Vb();a.Ub(0,"td",12),a.Ub(1,"button",13),a.cc("click",function(){return a.Bc(e),a.gc().toggleMeridian()}),a.Nc(2),a.Tb(),a.Tb()}if(2&e){const e=a.gc();a.Cb(1),a.nc("color",e.color)("disabled",e.disabled),a.Cb(1),a.Pc(" ",e.meridian," ")}}function dn(e,t){1&e&&a.Pb(0,"td")}function pn(e,t){if(1&e){const e=a.Vb();a.Ub(0,"td"),a.Ub(1,"button",14),a.cc("click",function(){return a.Bc(e),a.gc(2).change("second",!1)}),a.Ub(2,"mat-icon"),a.Nc(3,"expand_more"),a.Tb(),a.Tb(),a.Tb()}if(2&e){const e=a.gc(2);a.Cb(1),a.nc("disabled",e.disabled||e.disableMinute)}}function hn(e,t){1&e&&a.Pb(0,"td",6)}function un(e,t){1&e&&a.Pb(0,"td")}function gn(e,t){if(1&e){const e=a.Vb();a.Ub(0,"tr"),a.Ub(1,"td"),a.Ub(2,"button",14),a.cc("click",function(){return a.Bc(e),a.gc().change("hour",!1)}),a.Ub(3,"mat-icon"),a.Nc(4,"expand_more"),a.Tb(),a.Tb(),a.Tb(),a.Pb(5,"td"),a.Ub(6,"td"),a.Ub(7,"button",14),a.cc("click",function(){return a.Bc(e),a.gc().change("minute",!1)}),a.Ub(8,"mat-icon"),a.Nc(9,"expand_more"),a.Tb(),a.Tb(),a.Tb(),a.Lc(10,dn,1,0,"td",3),a.Lc(11,pn,4,1,"td",3),a.Lc(12,hn,1,0,"td",8),a.Lc(13,un,1,0,"td",3),a.Tb()}if(2&e){const e=a.gc();a.Cb(2),a.nc("disabled",e.disabled),a.Cb(5),a.nc("disabled",e.disabled||e.disableMinute),a.Cb(3),a.nc("ngIf",e.showSeconds),a.Cb(1),a.nc("ngIf",e.showSeconds),a.Cb(1),a.nc("ngIf",e.enableMeridian),a.Cb(1),a.nc("ngIf",e.enableMeridian)}}class fn extends r.a{isSameTime(e,t){return null==e||null==t||this.getHour(e)===this.getHour(t)&&this.getMinute(e)===this.getMinute(t)&&this.getSecond(e)===this.getSecond(t)}copyTime(e,t){this.setHour(e,this.getHour(t)),this.setMinute(e,this.getMinute(t)),this.setSecond(e,this.getSecond(t))}compareDateWithTime(e,t,n){let i=super.compareDate(e,t)||this.getHour(e)-this.getHour(t)||this.getMinute(e)-this.getMinute(t);return n&&(i=i||this.getSecond(e)-this.getSecond(t)),i}setTimeByDefaultValues(e,t){if(!Array.isArray(t))throw Error("@Input DefaultTime should be an array");this.setHour(e,t[0]||0),this.setMinute(e,t[1]||0),this.setSecond(e,t[2]||0)}}const mn=new a.r("ngx-mat-date-formats");new a.r("NGX_MAT_DATE_RANGE_SELECTION_STRATEGY");const bn={minHour:0,maxHour:24,minMinute:0,maxMinute:60,minSecond:0,maxSecond:60,meridian:12},Cn="AM",_n="PM",vn=/[^0-9]/g,yn=/^(2[0-3]|[0-1][0-9]|[0-9])$/,xn=/^([0-5][0-9]|[0-9])$/,On=/^([0-5][0-9]|[0-9])$/;function wn(e){const t=e.toString();return t.length>1?t:`0${t}`}function kn(e){return Error(`NgxMatDatepicker: No provider found for ${e}. You must import one of the following modules at your application root: NgxMatNativeDateModule, NgxMatMomentModule, or provide a custom implementation.`)}let An=(()=>{class e{constructor(e,t,n){if(this._dateAdapter=e,this.cd=t,this.formBuilder=n,this.disabled=!1,this.showSpinners=!0,this.stepHour=1,this.stepMinute=1,this.stepSecond=1,this.showSeconds=!1,this.disableMinute=!1,this.enableMeridian=!1,this.color="primary",this.meridian=Cn,this._onChange=()=>{},this._onTouched=()=>{},this._destroyed=new S.a,this.pattern=yn,!this._dateAdapter)throw kn("NgxMatDateAdapter");this.form=this.formBuilder.group({hour:[{value:null,disabled:this.disabled},[i.t.required,i.t.pattern(yn)]],minute:[{value:null,disabled:this.disabled},[i.t.required,i.t.pattern(xn)]],second:[{value:null,disabled:this.disabled},[i.t.required,i.t.pattern(On)]]})}get hour(){let e=Number(this.form.controls.hour.value);return isNaN(e)?0:e}get minute(){let e=Number(this.form.controls.minute.value);return isNaN(e)?0:e}get second(){let e=Number(this.form.controls.second.value);return isNaN(e)?0:e}get valid(){return this.form.valid}ngOnInit(){this.form.valueChanges.pipe(Object(R.a)(this._destroyed),Object($t.a)(400)).subscribe(e=>{this._updateModel()})}ngOnChanges(e){(e.disabled||e.disableMinute)&&this._setDisableStates()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}writeValue(e){null!=e?this._model=e:(this._model=this._dateAdapter.today(),null!=this.defaultTime&&this._dateAdapter.setTimeByDefaultValues(this._model,this.defaultTime)),this._updateHourMinuteSecond()}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this._disabled=e,this.cd.markForCheck()}formatInput(e){e.value=e.value.replace(vn,"")}toggleMeridian(){this.meridian=this.meridian===Cn?_n:Cn,this.change("hour")}change(e,t){const n=this._getNextValueByProp(e,t);this.form.controls[e].setValue(wn(n),{onlySelf:!1,emitEvent:!1}),this._updateModel()}_updateHourMinuteSecond(){let e=this._dateAdapter.getHour(this._model);const t=this._dateAdapter.getMinute(this._model),n=this._dateAdapter.getSecond(this._model);this.enableMeridian&&(e>bn.meridian?(e-=bn.meridian,this.meridian=_n):this.meridian=Cn),this.form.controls.hour.setValue(wn(e)),this.form.controls.minute.setValue(wn(t)),this.form.controls.second.setValue(wn(n))}_updateModel(){let e=this.hour;this.enableMeridian&&this.meridian===_n&&e!==bn.meridian&&(e+=bn.meridian),this._dateAdapter.setHour(this._model,e),this._dateAdapter.setMinute(this._model,this.minute),this._dateAdapter.setSecond(this._model,this.second),this._onChange(this._model)}_getNextValueByProp(e,t){const n=e[0].toUpperCase()+e.slice(1),i=bn[`min${n}`];let o,a=bn[`max${n}`];return"hour"===e&&this.enableMeridian&&(a=bn.meridian),null==t?o=this[e]%a:(o=t?this[e]+this[`step${n}`]:this[e]-this[`step${n}`],"hour"===e&&this.enableMeridian?(o%=a+1,0===o&&(o=t?1:a)):o%=a,o=t?o>a?o-a+i:o:o<i?o-i+a:o),o}_setDisableStates(){this.disabled?this.form.disable():(this.form.enable(),this.disableMinute&&(this.form.get("minute").disable(),this.showSeconds&&this.form.get("second").disable()))}}return e.\u0275fac=function(t){return new(t||e)(a.Ob(fn,8),a.Ob(a.h),a.Ob(i.e))},e.\u0275cmp=a.Ib({type:e,selectors:[["ngx-mat-timepicker"]],hostAttrs:[1,"ngx-mat-timepicker"],inputs:{disabled:"disabled",showSpinners:"showSpinners",stepHour:"stepHour",stepMinute:"stepMinute",stepSecond:"stepSecond",showSeconds:"showSeconds",disableMinute:"disableMinute",enableMeridian:"enableMeridian",color:"color",defaultTime:"defaultTime"},exportAs:["ngxMatTimepicker"],features:[a.Bb([{provide:i.m,useExisting:Object(a.W)(()=>e),multi:!0}]),a.Ab],decls:18,vars:7,consts:[[3,"formGroup"],[1,"ngx-mat-timepicker-table"],[1,"ngx-mat-timepicker-tbody"],[4,"ngIf"],["appearance","legacy"],["type","text","matInput","","maxlength","2","formControlName","hour",3,"input","keydown.ArrowUp","keydown.ArrowDown","blur"],[1,"ngx-mat-timepicker-spacer"],["type","text","matInput","","maxlength","2","formControlName","minute",3,"input","keydown.ArrowUp","keydown.ArrowDown","blur"],["class","ngx-mat-timepicker-spacer",4,"ngIf"],["class","ngx-mat-timepicker-meridian",4,"ngIf"],["type","button","mat-icon-button","","aria-label","expand_less icon",3,"disabled","click"],["type","text","matInput","","maxlength","2","formControlName","second",3,"input","keydown.ArrowUp","keydown.ArrowDown","blur"],[1,"ngx-mat-timepicker-meridian"],["mat-button","","mat-stroked-button","",3,"color","disabled","click"],["type","button","mat-icon-button","","aria-label","expand_more icon",3,"disabled","click"]],template:function(e,t){1&e&&(a.Ub(0,"form",0),a.Ub(1,"table",1),a.Ub(2,"tbody",2),a.Lc(3,an,14,5,"tr",3),a.Ub(4,"tr"),a.Ub(5,"td"),a.Ub(6,"mat-form-field",4),a.Ub(7,"input",5),a.cc("input",function(e){return t.formatInput(e.target)})("keydown.ArrowUp",function(e){return t.change("hour",!0),e.preventDefault()})("keydown.ArrowDown",function(e){return t.change("hour",!1),e.preventDefault()})("blur",function(){return t.change("hour")}),a.Tb(),a.Tb(),a.Tb(),a.Ub(8,"td",6),a.Nc(9,":"),a.Tb(),a.Ub(10,"td"),a.Ub(11,"mat-form-field",4),a.Ub(12,"input",7),a.cc("input",function(e){return t.formatInput(e.target)})("keydown.ArrowUp",function(e){return t.change("minute",!0),e.preventDefault()})("keydown.ArrowDown",function(e){return t.change("minute",!1),e.preventDefault()})("blur",function(){return t.change("minute")}),a.Tb(),a.Tb(),a.Tb(),a.Lc(13,rn,2,0,"td",8),a.Lc(14,sn,3,0,"td",3),a.Lc(15,ln,1,0,"td",8),a.Lc(16,cn,3,3,"td",9),a.Tb(),a.Lc(17,gn,14,6,"tr",3),a.Tb(),a.Tb(),a.Tb()),2&e&&(a.nc("formGroup",t.form),a.Cb(3),a.nc("ngIf",t.showSpinners),a.Cb(10),a.nc("ngIf",t.showSeconds),a.Cb(1),a.nc("ngIf",t.showSeconds),a.Cb(1),a.nc("ngIf",t.enableMeridian),a.Cb(1),a.nc("ngIf",t.enableMeridian),a.Cb(1),a.nc("ngIf",t.showSpinners))},directives:[i.u,i.p,i.i,k.l,fe,Ae,i.d,i.k,i.o,i.g,P.a,en.a],styles:[".ngx-mat-timepicker{font-size:13px}.ngx-mat-timepicker form{min-width:90px}.ngx-mat-timepicker form .ngx-mat-timepicker-table .ngx-mat-timepicker-tbody tr td{text-align:center}.ngx-mat-timepicker form .ngx-mat-timepicker-table .ngx-mat-timepicker-tbody tr td.ngx-mat-timepicker-spacer{font-weight:700}.ngx-mat-timepicker form .ngx-mat-timepicker-table .ngx-mat-timepicker-tbody tr td.ngx-mat-timepicker-meridian .mat-button{border-radius:4px;border-radius:50%;flex-shrink:0;height:36px;line-height:36px;min-width:64px;min-width:0;padding:0;width:36px}.ngx-mat-timepicker form .ngx-mat-timepicker-table .ngx-mat-timepicker-tbody tr td .mat-icon-button{height:24px;line-height:24px;width:24px}.ngx-mat-timepicker form .ngx-mat-timepicker-table .ngx-mat-timepicker-tbody tr td .mat-icon-button .mat-icon{font-size:24px}.ngx-mat-timepicker form .ngx-mat-timepicker-table .ngx-mat-timepicker-tbody tr td .mat-form-field{max-width:20px;text-align:center;width:20px}"],encapsulation:2}),e})();Object(r.t)(class{constructor(e){this._elementRef=e}});const Pn={provide:i.m,useExisting:Object(a.W)(()=>Mn),multi:!0},Tn={provide:i.l,useExisting:Object(a.W)(()=>Mn),multi:!0};class Sn{constructor(e,t){this.target=e,this.targetElement=t,this.value=this.target.value}}let In,Mn=(()=>{class e{constructor(e,t,n,o){if(this._elementRef=e,this._dateAdapter=t,this._dateFormats=n,this._formField=o,this.dateChange=new a.n,this.dateInput=new a.n,this._valueChange=new a.n,this.stateChanges=new a.n,this._onTouched=()=>{},this._cvaOnChange=()=>{},this._validatorOnChange=()=>{},this._datepickerSubscription=Jt.a.EMPTY,this._localeSubscription=Jt.a.EMPTY,this._parseValidator=()=>this._lastValueValid?null:{matDatetimePickerParse:{text:this._elementRef.nativeElement.value}},this._minValidator=e=>{const t=this._getValidDateOrNull(this._dateAdapter.deserialize(e.value));return!this.min||!t||this._dateAdapter.compareDateWithTime(this.min,t,this._datepicker.showSeconds)<=0?null:{matDatetimePickerMin:{min:this.min,actual:t}}},this._maxValidator=e=>{const t=this._getValidDateOrNull(this._dateAdapter.deserialize(e.value));return!this.max||!t||this._dateAdapter.compareDateWithTime(this.max,t,this._datepicker.showSeconds)>=0?null:{matDatetimePickerMax:{max:this.max,actual:t}}},this._filterValidator=e=>{const t=this._getValidDateOrNull(this._dateAdapter.deserialize(e.value));return this._dateFilter&&t&&!this._dateFilter(t)?{matDatetimePickerFilter:!0}:null},this._validator=i.t.compose([this._parseValidator,this._minValidator,this._maxValidator,this._filterValidator]),this._lastValueValid=!1,!this._dateAdapter)throw kn("NgxMatDateAdapter");if(!this._dateFormats)throw kn("NGX_MAT_DATE_FORMATS");this._localeSubscription=t.localeChanges.subscribe(()=>{this.value=this.value})}set ngxMatDatetimePicker(e){e&&(this._datepicker=e,this._datepicker._registerInput(this),this._datepickerSubscription.unsubscribe(),this._datepickerSubscription=this._datepicker._selectedChanged.subscribe(e=>{this.value=e,this._cvaOnChange(e),this._onTouched(),this.dateInput.emit(new Sn(this,this._elementRef.nativeElement)),this.dateChange.emit(new Sn(this,this._elementRef.nativeElement))}))}set ngxMatDatetimePickerFilter(e){this._dateFilter=e,this._validatorOnChange()}get value(){return this._value}set value(e){e=this._dateAdapter.deserialize(e),this._lastValueValid=!e||this._dateAdapter.isValid(e),e=this._getValidDateOrNull(e);const t=this.value;this._value=e,this._formatValue(e),this._dateAdapter.sameDate(t,e)||this._valueChange.emit(e)}get min(){return this._min}set min(e){this._min=this._getValidDateOrNull(this._dateAdapter.deserialize(e)),this._validatorOnChange()}get max(){return this._max}set max(e){this._max=this._getValidDateOrNull(this._dateAdapter.deserialize(e)),this._validatorOnChange()}get disabled(){return!!this._disabled}set disabled(e){const t=null!=e&&"false"!=`${e}`,n=this._elementRef.nativeElement;this._disabled!==t&&(this._disabled=t,this.stateChanges.emit(void 0)),t&&n.blur&&n.blur()}ngOnDestroy(){this._datepickerSubscription.unsubscribe(),this._localeSubscription.unsubscribe(),this._valueChange.complete(),this.stateChanges.complete()}registerOnValidatorChange(e){this._validatorOnChange=e}validate(e){return this._validator?this._validator(e):null}getPopupConnectionElementRef(){return this.getConnectedOverlayOrigin()}getConnectedOverlayOrigin(){return this._formField?this._formField.getConnectedOverlayOrigin():this._elementRef}writeValue(e){this.value=e}registerOnChange(e){this._cvaOnChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e}_onKeydown(e){this._datepicker&&e.altKey&&e.keyCode===It.c&&!this._elementRef.nativeElement.readOnly&&(this._datepicker.open(),e.preventDefault())}_onInput(e){const t=this._lastValueValid;let n=this._dateAdapter.parse(e,this._dateFormats.parse.dateInput);this._lastValueValid=!n||this._dateAdapter.isValid(n),n=this._getValidDateOrNull(n);const i=this._dateAdapter.isSameTime(n,this._value);null!=n&&(!i||!this._dateAdapter.sameDate(n,this._value))||null==n&&null!=this._value?(this._value=n,this._cvaOnChange(n),this._valueChange.emit(n),this.dateInput.emit(new Sn(this,this._elementRef.nativeElement))):t!==this._lastValueValid&&this._validatorOnChange()}_onChange(){this.dateChange.emit(new Sn(this,this._elementRef.nativeElement))}_getThemePalette(){return this._formField?this._formField.color:void 0}_onBlur(){this.value&&this._formatValue(this.value),this._onTouched()}_onFocus(){this._datepicker&&this._datepicker.opened&&this._datepicker.cancel()}_formatValue(e){this._elementRef.nativeElement.value=e?this._dateAdapter.format(e,this._dateFormats.display.dateInput):""}_getValidDateOrNull(e){return this._dateAdapter.isDateInstance(e)&&this._dateAdapter.isValid(e)?e:null}}return e.\u0275fac=function(t){return new(t||e)(a.Ob(a.l),a.Ob(fn,8),a.Ob(mn,8),a.Ob(fe,8))},e.\u0275dir=a.Jb({type:e,selectors:[["input","ngxMatDatetimePicker",""]],hostVars:5,hostBindings:function(e,t){1&e&&a.cc("input",function(e){return t._onInput(e.target.value)})("change",function(){return t._onChange()})("blur",function(){return t._onBlur()})("focus",function(){return t._onFocus()})("keydown",function(e){return t._onKeydown(e)}),2&e&&(a.Xb("disabled",t.disabled),a.Db("aria-haspopup",t._datepicker?"dialog":null)("aria-owns",(null==t._datepicker?null:t._datepicker.opened)&&t._datepicker.id||null)("min",t.min?t._dateAdapter.toIso8601(t.min):null)("max",t.max?t._dateAdapter.toIso8601(t.max):null))},inputs:{value:"value",ngxMatDatetimePicker:"ngxMatDatetimePicker",ngxMatDatetimePickerFilter:"ngxMatDatetimePickerFilter",min:"min",max:"max",disabled:"disabled"},outputs:{dateChange:"dateChange",dateInput:"dateInput"},exportAs:["ngxMatDatetimePickerInput"],features:[a.Bb([Pn,Tn,{provide:ye,useExisting:e}])]}),e})(),Dn=(()=>{class e{}return e.\u0275mod=a.Mb({type:e}),e.\u0275inj=a.Lb({factory:function(t){return new(t||e)},imports:[[k.c,Pe,i.s,i.j,en.b,P.b]]}),e})();try{In="undefined"!=typeof Intl}catch(al){In=!1}const Rn={long:["January","February","March","April","May","June","July","August","September","October","November","December"],short:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],narrow:["J","F","M","A","M","J","J","A","S","O","N","D"]},Ln=Un(31,e=>String(e+1)),En={long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],narrow:["S","M","T","W","T","F","S"]},jn=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function Un(e,t){const n=Array(e);for(let i=0;i<e;i++)n[i]=t(i);return n}let Bn=(()=>{class e extends fn{constructor(e,t){super(),this.useUtcForDisplay=!0,super.setLocale(e),this.useUtcForDisplay=!t.TRIDENT,this._clampDate=t.TRIDENT||t.EDGE}getYear(e){return e.getFullYear()}getMonth(e){return e.getMonth()}getDate(e){return e.getDate()}getDayOfWeek(e){return e.getDay()}getMonthNames(e){if(In){const t=new Intl.DateTimeFormat(this.locale,{month:e,timeZone:"utc"});return Un(12,e=>this._stripDirectionalityCharacters(this._format(t,new Date(2017,e,1))))}return Rn[e]}getDateNames(){if(In){const e=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return Un(31,t=>this._stripDirectionalityCharacters(this._format(e,new Date(2017,0,t+1))))}return Ln}getDayOfWeekNames(e){if(In){const t=new Intl.DateTimeFormat(this.locale,{weekday:e,timeZone:"utc"});return Un(7,e=>this._stripDirectionalityCharacters(this._format(t,new Date(2017,0,e+1))))}return En[e]}getYearName(e){if(In){const t=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._stripDirectionalityCharacters(this._format(t,e))}return String(this.getYear(e))}getFirstDayOfWeek(){return 0}getNumDaysInMonth(e){return this.getDate(this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+1,0))}clone(e){return new Date(e.getTime())}createDate(e,t,n){if(t<0||t>11)throw Error(`Invalid month index "${t}". Month index has to be between 0 and 11.`);if(n<1)throw Error(`Invalid date "${n}". Date has to be greater than 0.`);let i=this._createDateWithOverflow(e,t,n);if(i.getMonth()!=t)throw Error(`Invalid date "${n}" for month with index "${t}".`);return i}today(){return new Date}parse(e){return"number"==typeof e?new Date(e):e?new Date(Date.parse(e)):null}format(e,t){if(!this.isValid(e))throw Error("NativeDateAdapter: Cannot format invalid date.");if(In){this._clampDate&&(e.getFullYear()<1||e.getFullYear()>9999)&&(e=this.clone(e)).setFullYear(Math.max(1,Math.min(9999,e.getFullYear()))),t=Object.assign(Object.assign({},t),{timeZone:"utc"});const n=new Intl.DateTimeFormat(this.locale,t);return this._stripDirectionalityCharacters(this._format(n,e))}return this._stripDirectionalityCharacters(e.toDateString())}addCalendarYears(e,t){return this.addCalendarMonths(e,12*t)}addCalendarMonths(e,t){let n=this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+t,this.getDate(e));return this.getMonth(n)!=((this.getMonth(e)+t)%12+12)%12&&(n=this._createDateWithOverflow(this.getYear(n),this.getMonth(n),0)),n}addCalendarDays(e,t){return this._createDateWithOverflow(this.getYear(e),this.getMonth(e),this.getDate(e)+t)}toIso8601(e){return[e.getUTCFullYear(),this._2digit(e.getUTCMonth()+1),this._2digit(e.getUTCDate())].join("-")}deserialize(e){if("string"==typeof e){if(!e)return null;if(jn.test(e)){let t=new Date(e);if(this.isValid(t))return t}}return super.deserialize(e)}isDateInstance(e){return e instanceof Date}isValid(e){return!isNaN(e.getTime())}invalid(){return new Date(NaN)}getHour(e){return e.getHours()}getMinute(e){return e.getMinutes()}getSecond(e){return e.getSeconds()}setHour(e,t){e.setHours(t)}setMinute(e,t){e.setMinutes(t)}setSecond(e,t){e.setSeconds(t)}_createDateWithOverflow(e,t,n){const i=new Date(e,t,n);return e>=0&&e<100&&i.setFullYear(this.getYear(i)-1900),i}_2digit(e){return("00"+e).slice(-2)}_stripDirectionalityCharacters(e){return e.replace(/[\u200e\u200f]/g,"")}_format(e,t){const n=new Date;return n.setUTCFullYear(t.getFullYear(),t.getMonth(),t.getDate()),n.setUTCHours(t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()),e.format(n)}}return e.\u0275fac=function(t){return new(t||e)(a.Yb(r.d,8),a.Yb(U.a))},e.\u0275prov=a.Kb({token:e,factory:e.\u0275fac}),e})();const Vn={year:"numeric",month:"numeric",day:"numeric",hour12:!1,hour:"2-digit",minute:"2-digit",second:"2-digit"},Fn={parse:{dateInput:Vn},display:{dateInput:Vn,monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}};let Nn=(()=>{class e{}return e.\u0275mod=a.Mb({type:e}),e.\u0275inj=a.Lb({factory:function(t){return new(t||e)},providers:[{provide:fn,useClass:Bn}],imports:[[U.b]]}),e})();const qn=Fn;let zn=(()=>{class e{}return e.\u0275mod=a.Mb({type:e}),e.\u0275inj=a.Lb({factory:function(t){return new(t||e)},providers:[{provide:mn,useValue:qn}],imports:[[Nn]]}),e})();var Gn=n("0EQZ"),Hn=n("eIep"),Yn=n("lJxs"),Kn=n("/uUt");const Wn=["trigger"],Qn=["panel"];function Xn(e,t){if(1&e&&(a.Ub(0,"span",8),a.Nc(1),a.Tb()),2&e){const e=a.gc();a.Cb(1),a.Oc(e.placeholder||"\xa0")}}function Zn(e,t){if(1&e&&(a.Ub(0,"span"),a.Nc(1),a.Tb()),2&e){const e=a.gc(2);a.Cb(1),a.Oc(e.triggerValue||"\xa0")}}function Jn(e,t){1&e&&a.lc(0,0,["*ngSwitchCase","true"])}function $n(e,t){if(1&e&&(a.Ub(0,"span",9),a.Lc(1,Zn,2,1,"span",10),a.Lc(2,Jn,1,0,"ng-content",11),a.Tb()),2&e){const e=a.gc();a.nc("ngSwitch",!!e.customTrigger),a.Cb(2),a.nc("ngSwitchCase",!0)}}function ei(e,t){if(1&e){const e=a.Vb();a.Ub(0,"div",12),a.Ub(1,"div",13,14),a.cc("@transformPanel.done",function(t){return a.Bc(e),a.gc()._panelDoneAnimatingStream.next(t.toState)})("keydown",function(t){return a.Bc(e),a.gc()._handleKeydown(t)}),a.lc(3,1),a.Tb(),a.Tb()}if(2&e){const e=a.gc();a.nc("@transformPanelWrap",void 0),a.Cb(1),a.Fb("mat-select-panel ",e._getPanelTheme(),""),a.Ic("transform-origin",e._transformOrigin)("font-size",e._triggerFontSize,"px"),a.nc("ngClass",e.panelClass)("@transformPanel",e.multiple?"showing-multiple":"showing"),a.Db("id",e.id+"-panel")("aria-multiselectable",e.multiple)("aria-label",e.ariaLabel||null)("aria-labelledby",e._getPanelAriaLabelledby())}}const ti=[[["mat-select-trigger"]],"*"],ni=["mat-select-trigger","*"],ii={transformPanelWrap:Object(E.m)("transformPanelWrap",[Object(E.l)("* => void",Object(E.h)("@transformPanel",[Object(E.f)()],{optional:!0}))]),transformPanel:Object(E.m)("transformPanel",[Object(E.j)("void",Object(E.k)({transform:"scaleY(0.8)",minWidth:"100%",opacity:0})),Object(E.j)("showing",Object(E.k)({opacity:1,minWidth:"calc(100% + 32px)",transform:"scaleY(1)"})),Object(E.j)("showing-multiple",Object(E.k)({opacity:1,minWidth:"calc(100% + 64px)",transform:"scaleY(1)"})),Object(E.l)("void => *",Object(E.e)("120ms cubic-bezier(0, 0, 0.2, 1)")),Object(E.l)("* => void",Object(E.e)("100ms 25ms linear",Object(E.k)({opacity:0})))])};let oi=0;const ai=256,ri=new a.r("mat-select-scroll-strategy"),si=new a.r("MAT_SELECT_CONFIG"),li={provide:ri,deps:[kt.c],useFactory:function(e){return()=>e.scrollStrategies.reposition()}};class ci{constructor(e,t){this.source=e,this.value=t}}class di{constructor(e,t,n,i,o){this._elementRef=e,this._defaultErrorStateMatcher=t,this._parentForm=n,this._parentFormGroup=i,this.ngControl=o}}const pi=Object(r.u)(Object(r.x)(Object(r.v)(Object(r.w)(di)))),hi=new a.r("MatSelectTrigger");let ui=(()=>{class e extends pi{constructor(e,t,n,i,o,r,s,l,c,d,p,h,u,g){var f,m,b;super(o,i,s,l,d),this._viewportRuler=e,this._changeDetectorRef=t,this._ngZone=n,this._dir=r,this._parentFormField=c,this.ngControl=d,this._liveAnnouncer=u,this._defaultOptions=g,this._panelOpen=!1,this._compareWith=(e,t)=>e===t,this._uid="mat-select-"+oi++,this._triggerAriaLabelledBy=null,this._destroy=new S.a,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+oi++,this._panelDoneAnimatingStream=new S.a,this._overlayPanelClass=(null===(f=this._defaultOptions)||void 0===f?void 0:f.overlayPanelClass)||"",this._focused=!1,this.controlType="mat-select",this._required=!1,this._multiple=!1,this._disableOptionCentering=null!==(b=null===(m=this._defaultOptions)||void 0===m?void 0:m.disableOptionCentering)&&void 0!==b&&b,this.ariaLabel="",this.optionSelectionChanges=Object(Pt.a)(()=>{const e=this.options;return e?e.changes.pipe(Object(D.a)(e),Object(Hn.a)(()=>Object(I.a)(...e.map(e=>e.onSelectionChange)))):this._ngZone.onStable.pipe(Object(L.a)(1),Object(Hn.a)(()=>this.optionSelectionChanges))}),this.openedChange=new a.n,this._openedStream=this.openedChange.pipe(Object(St.a)(e=>e),Object(Yn.a)(()=>{})),this._closedStream=this.openedChange.pipe(Object(St.a)(e=>!e),Object(Yn.a)(()=>{})),this.selectionChange=new a.n,this.valueChange=new a.n,this.ngControl&&(this.ngControl.valueAccessor=this),null!=(null==g?void 0:g.typeaheadDebounceInterval)&&(this._typeaheadDebounceInterval=g.typeaheadDebounceInterval),this._scrollStrategyFactory=h,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(p)||0,this.id=this.id}get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(e){this._placeholder=e,this.stateChanges.next()}get required(){return this._required}set required(e){this._required=Object(s.b)(e),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(e){this._multiple=Object(s.b)(e)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(e){this._disableOptionCentering=Object(s.b)(e)}get compareWith(){return this._compareWith}set compareWith(e){this._compareWith=e,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(e){e!==this._value&&(this.options&&this._setSelectionByValue(e),this._value=e)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(e){this._typeaheadDebounceInterval=Object(s.e)(e)}get id(){return this._id}set id(e){this._id=e||this._uid,this.stateChanges.next()}ngOnInit(){this._selectionModel=new Gn.b(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(Object(Kn.a)(),Object(R.a)(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe(Object(R.a)(this._destroy)).subscribe(e=>{e.added.forEach(e=>e.select()),e.removed.forEach(e=>e.deselect())}),this.options.changes.pipe(Object(D.a)(null),Object(R.a)(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const e=this._getTriggerAriaLabelledby();if(e!==this._triggerAriaLabelledBy){const t=this._elementRef.nativeElement;this._triggerAriaLabelledBy=e,e?t.setAttribute("aria-labelledby",e):t.removeAttribute("aria-labelledby")}this.ngControl&&this.updateErrorState()}ngOnChanges(e){e.disabled&&this.stateChanges.next(),e.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._destroy.next(),this._destroy.complete(),this.stateChanges.complete()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(e){this.value=e}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel.selected:this._selectionModel.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const e=this._selectionModel.selected.map(e=>e.viewValue);return this._isRtl()&&e.reverse(),e.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(e){this.disabled||(this.panelOpen?this._handleOpenKeydown(e):this._handleClosedKeydown(e))}_handleClosedKeydown(e){const t=e.keyCode,n=t===It.c||t===It.o||t===It.h||t===It.l,i=t===It.e||t===It.m,o=this._keyManager;if(!o.isTyping()&&i&&!Object(It.r)(e)||(this.multiple||e.altKey)&&n)e.preventDefault(),this.open();else if(!this.multiple){const t=this.selected;o.onKeydown(e);const n=this.selected;n&&t!==n&&this._liveAnnouncer.announce(n.viewValue,1e4)}}_handleOpenKeydown(e){const t=this._keyManager,n=e.keyCode,i=n===It.c||n===It.o,o=t.isTyping();if(i&&e.altKey)e.preventDefault(),this.close();else if(o||n!==It.e&&n!==It.m||!t.activeItem||Object(It.r)(e))if(!o&&this._multiple&&n===It.a&&e.ctrlKey){e.preventDefault();const t=this.options.some(e=>!e.disabled&&!e.selected);this.options.forEach(e=>{e.disabled||(t?e.select():e.deselect())})}else{const n=t.activeItemIndex;t.onKeydown(e),this._multiple&&i&&e.shiftKey&&t.activeItem&&t.activeItemIndex!==n&&t.activeItem._selectViaInteraction()}else e.preventDefault(),t.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this.disabled||this.panelOpen||(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this.overlayDir.positionChange.pipe(Object(L.a)(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this._setSelectionByValue(this.ngControl?this.ngControl.value:this._value),this.stateChanges.next()})}_setSelectionByValue(e){if(this._selectionModel.selected.forEach(e=>e.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&e)Array.isArray(e),e.forEach(e=>this._selectValue(e)),this._sortValues();else{const t=this._selectValue(e);t?this._keyManager.updateActiveItem(t):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectValue(e){const t=this.options.find(t=>{try{return null!=t.value&&this._compareWith(t.value,e)}catch(n){return!1}});return t&&this._selectionModel.select(t),t}_initKeyManager(){this._keyManager=new c.b(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withAllowedModifierKeys(["shiftKey"]),this._keyManager.tabOut.pipe(Object(R.a)(this._destroy)).subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.pipe(Object(R.a)(this._destroy)).subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):this._panelOpen||this.multiple||!this._keyManager.activeItem||this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const e=Object(I.a)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(Object(R.a)(e)).subscribe(e=>{this._onSelect(e.source,e.isUserInput),e.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),Object(I.a)(...this.options.map(e=>e._stateChanges)).pipe(Object(R.a)(e)).subscribe(()=>{this._changeDetectorRef.markForCheck(),this.stateChanges.next()})}_onSelect(e,t){const n=this._selectionModel.isSelected(e);null!=e.value||this._multiple?(n!==e.selected&&(e.selected?this._selectionModel.select(e):this._selectionModel.deselect(e)),t&&this._keyManager.setActiveItem(e),this.multiple&&(this._sortValues(),t&&this.focus())):(e.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(e.value)),n!==this._selectionModel.isSelected(e)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const e=this.options.toArray();this._selectionModel.sort((t,n)=>this.sortComparator?this.sortComparator(t,n,e):e.indexOf(t)-e.indexOf(n)),this.stateChanges.next()}}_propagateChanges(e){let t=null;t=this.multiple?this.selected.map(e=>e.value):this.selected?this.selected.value:e,this._value=t,this.valueChange.emit(t),this._onChange(t),this.selectionChange.emit(this._getChangeEvent(t)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){this._keyManager&&(this.empty?this._keyManager.setFirstItemActive():this._keyManager.setActiveItem(this._selectionModel.selected[0]))}_canOpen(){var e;return!this._panelOpen&&!this.disabled&&(null===(e=this.options)||void 0===e?void 0:e.length)>0}focus(e){this._elementRef.nativeElement.focus(e)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;const e=this._getLabelId();return this.ariaLabelledby?e+" "+this.ariaLabelledby:e}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getLabelId(){var e;return(null===(e=this._parentFormField)||void 0===e?void 0:e.getLabelId())||""}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;let e=this._getLabelId()+" "+this._valueId;return this.ariaLabelledby&&(e+=" "+this.ariaLabelledby),e}_panelDoneAnimating(e){this.openedChange.emit(e)}setDescribedByIds(e){this._ariaDescribedby=e.join(" ")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty}}return e.\u0275fac=function(t){return new(t||e)(a.Ob(Zt.e),a.Ob(a.h),a.Ob(a.A),a.Ob(r.b),a.Ob(a.l),a.Ob(j.b,8),a.Ob(i.q,8),a.Ob(i.i,8),a.Ob(ge,8),a.Ob(i.n,10),a.Zb("tabindex"),a.Ob(ri),a.Ob(c.k),a.Ob(si,8))},e.\u0275dir=a.Jb({type:e,viewQuery:function(e,t){if(1&e&&(a.Rc(Wn,!0),a.Rc(Qn,!0),a.Rc(kt.a,!0)),2&e){let e;a.xc(e=a.dc())&&(t.trigger=e.first),a.xc(e=a.dc())&&(t.panel=e.first),a.xc(e=a.dc())&&(t.overlayDir=e.first)}},inputs:{ariaLabel:["aria-label","ariaLabel"],id:"id",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",typeaheadDebounceInterval:"typeaheadDebounceInterval",panelClass:"panelClass",ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",sortComparator:"sortComparator"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[a.zb,a.Ab]}),e})(),gi=(()=>{class e extends ui{constructor(){super(...arguments),this._scrollTop=0,this._triggerFontSize=0,this._transformOrigin="top",this._offsetY=0,this._positions=[{originX:"start",originY:"top",overlayX:"start",overlayY:"top"},{originX:"start",originY:"bottom",overlayX:"start",overlayY:"bottom"}]}_calculateOverlayScroll(e,t,n){const i=this._getItemHeight();return Math.min(Math.max(0,i*e-t+i/2),n)}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe(Object(R.a)(this._destroy)).subscribe(()=>{this.panelOpen&&(this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._changeDetectorRef.markForCheck())})}open(){super._canOpen()&&(super.open(),this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._triggerFontSize=parseInt(getComputedStyle(this.trigger.nativeElement).fontSize||"0"),this._calculateOverlayPosition(),this._ngZone.onStable.pipe(Object(L.a)(1)).subscribe(()=>{this._triggerFontSize&&this.overlayDir.overlayRef&&this.overlayDir.overlayRef.overlayElement&&(this.overlayDir.overlayRef.overlayElement.style.fontSize=`${this._triggerFontSize}px`)}))}_scrollOptionIntoView(e){const t=Object(r.r)(e,this.options,this.optionGroups),n=this._getItemHeight();this.panel.nativeElement.scrollTop=Object(r.s)((e+t)*n,n,this.panel.nativeElement.scrollTop,ai)}_positioningSettled(){this._calculateOverlayOffsetX(),this.panel.nativeElement.scrollTop=this._scrollTop}_panelDoneAnimating(e){this.panelOpen?this._scrollTop=0:(this.overlayDir.offsetX=0,this._changeDetectorRef.markForCheck()),super._panelDoneAnimating(e)}_getChangeEvent(e){return new ci(this,e)}_calculateOverlayOffsetX(){const e=this.overlayDir.overlayRef.overlayElement.getBoundingClientRect(),t=this._viewportRuler.getViewportSize(),n=this._isRtl(),i=this.multiple?56:32;let o;if(this.multiple)o=40;else{let e=this._selectionModel.selected[0]||this.options.first;o=e&&e.group?32:16}n||(o*=-1);const a=0-(e.left+o-(n?i:0)),r=e.right+o-t.width+(n?0:i);a>0?o+=a+8:r>0&&(o-=r+8),this.overlayDir.offsetX=Math.round(o),this.overlayDir.overlayRef.updatePosition()}_calculateOverlayOffsetY(e,t,n){const i=this._getItemHeight(),o=(i-this._triggerRect.height)/2,a=Math.floor(ai/i);let r;return this.disableOptionCentering?0:(r=0===this._scrollTop?e*i:this._scrollTop===n?(e-(this._getItemCount()-a))*i+(i-(this._getItemCount()*i-ai)%i):t-i/2,Math.round(-1*r-o))}_checkOverlayWithinViewport(e){const t=this._getItemHeight(),n=this._viewportRuler.getViewportSize(),i=this._triggerRect.top-8,o=n.height-this._triggerRect.bottom-8,a=Math.abs(this._offsetY),r=Math.min(this._getItemCount()*t,ai)-a-this._triggerRect.height;r>o?this._adjustPanelUp(r,o):a>i?this._adjustPanelDown(a,i,e):this._transformOrigin=this._getOriginBasedOnOption()}_adjustPanelUp(e,t){const n=Math.round(e-t);this._scrollTop-=n,this._offsetY-=n,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop<=0&&(this._scrollTop=0,this._offsetY=0,this._transformOrigin="50% bottom 0px")}_adjustPanelDown(e,t,n){const i=Math.round(e-t);if(this._scrollTop+=i,this._offsetY+=i,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop>=n)return this._scrollTop=n,this._offsetY=0,void(this._transformOrigin="50% top 0px")}_calculateOverlayPosition(){const e=this._getItemHeight(),t=this._getItemCount(),n=Math.min(t*e,ai),i=t*e-n;let o;o=this.empty?0:Math.max(this.options.toArray().indexOf(this._selectionModel.selected[0]),0),o+=Object(r.r)(o,this.options,this.optionGroups);const a=n/2;this._scrollTop=this._calculateOverlayScroll(o,a,i),this._offsetY=this._calculateOverlayOffsetY(o,a,i),this._checkOverlayWithinViewport(i)}_getOriginBasedOnOption(){const e=this._getItemHeight(),t=(e-this._triggerRect.height)/2;return`50% ${Math.abs(this._offsetY)-t+e/2}px 0px`}_getItemHeight(){return 3*this._triggerFontSize}_getItemCount(){return this.options.length+this.optionGroups.length}}return e.\u0275fac=function(t){return fi(t||e)},e.\u0275cmp=a.Ib({type:e,selectors:[["mat-select"]],contentQueries:function(e,t,n){if(1&e&&(a.Hb(n,hi,!0),a.Hb(n,r.k,!0),a.Hb(n,r.e,!0)),2&e){let e;a.xc(e=a.dc())&&(t.customTrigger=e.first),a.xc(e=a.dc())&&(t.options=e),a.xc(e=a.dc())&&(t.optionGroups=e)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","true",1,"mat-select"],hostVars:20,hostBindings:function(e,t){1&e&&a.cc("keydown",function(e){return t._handleKeydown(e)})("focus",function(){return t._onFocus()})("blur",function(){return t._onBlur()}),2&e&&(a.Db("id",t.id)("tabindex",t.tabIndex)("aria-controls",t.panelOpen?t.id+"-panel":null)("aria-expanded",t.panelOpen)("aria-label",t.ariaLabel||null)("aria-required",t.required.toString())("aria-disabled",t.disabled.toString())("aria-invalid",t.errorState)("aria-describedby",t._ariaDescribedby||null)("aria-activedescendant",t._getAriaActiveDescendant()),a.Gb("mat-select-disabled",t.disabled)("mat-select-invalid",t.errorState)("mat-select-required",t.required)("mat-select-empty",t.empty)("mat-select-multiple",t.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matSelect"],features:[a.Bb([{provide:ie,useExisting:e},{provide:r.f,useExisting:e}]),a.zb],ngContentSelectors:ni,decls:9,vars:12,consts:[["cdk-overlay-origin","",1,"mat-select-trigger",3,"click"],["origin","cdkOverlayOrigin","trigger",""],[1,"mat-select-value",3,"ngSwitch"],["class","mat-select-placeholder",4,"ngSwitchCase"],["class","mat-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-select-arrow-wrapper"],[1,"mat-select-arrow"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayMinWidth","cdkConnectedOverlayOffsetY","backdropClick","attach","detach"],[1,"mat-select-placeholder"],[1,"mat-select-value-text",3,"ngSwitch"],[4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-select-panel-wrap"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(e,t){if(1&e&&(a.mc(ti),a.Ub(0,"div",0,1),a.cc("click",function(){return t.toggle()}),a.Ub(3,"div",2),a.Lc(4,Xn,2,1,"span",3),a.Lc(5,$n,3,2,"span",4),a.Tb(),a.Ub(6,"div",5),a.Pb(7,"div",6),a.Tb(),a.Tb(),a.Lc(8,ei,4,14,"ng-template",7),a.cc("backdropClick",function(){return t.close()})("attach",function(){return t._onAttached()})("detach",function(){return t.close()})),2&e){const e=a.yc(1);a.Db("aria-owns",t.panelOpen?t.id+"-panel":null),a.Cb(3),a.nc("ngSwitch",t.empty),a.Db("id",t._valueId),a.Cb(1),a.nc("ngSwitchCase",!0),a.Cb(1),a.nc("ngSwitchCase",!1),a.Cb(3),a.nc("cdkConnectedOverlayPanelClass",t._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",t._scrollStrategy)("cdkConnectedOverlayOrigin",e)("cdkConnectedOverlayOpen",t.panelOpen)("cdkConnectedOverlayPositions",t._positions)("cdkConnectedOverlayMinWidth",null==t._triggerRect?null:t._triggerRect.width)("cdkConnectedOverlayOffsetY",t._offsetY)}},directives:[kt.b,k.n,k.o,kt.a,k.p,k.j],styles:[".mat-select{display:inline-block;width:100%;outline:none}.mat-select-trigger{display:inline-table;cursor:pointer;position:relative;box-sizing:border-box}.mat-select-disabled .mat-select-trigger{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.mat-select-value{display:table-cell;max-width:0;width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-select-arrow-wrapper{display:table-cell;vertical-align:middle}.mat-form-field-appearance-fill .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-outline .mat-select-arrow-wrapper{transform:translateY(-25%)}.mat-form-field-appearance-standard.mat-form-field-has-label .mat-select:not(.mat-select-empty) .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:none}.mat-select-arrow{width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;margin:0 4px}.mat-select-panel-wrap{flex-basis:100%}.mat-select-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;padding-top:0;padding-bottom:0;max-height:256px;min-width:100%;border-radius:4px;outline:0}.cdk-high-contrast-active .mat-select-panel{outline:solid 1px}.mat-select-panel .mat-optgroup-label,.mat-select-panel .mat-option{font-size:inherit;line-height:3em;height:3em}.mat-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-form-field-flex{cursor:pointer}.mat-form-field-type-mat-select .mat-form-field-label{width:calc(100% - 18px)}.mat-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable .mat-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-select-placeholder{color:transparent;-webkit-text-fill-color:transparent;transition:none;display:block}\n"],encapsulation:2,data:{animation:[ii.transformPanelWrap,ii.transformPanel]},changeDetection:0}),e})();const fi=a.Wb(gi);let mi=(()=>{class e{}return e.\u0275mod=a.Mb({type:e}),e.\u0275inj=a.Lb({factory:function(t){return new(t||e)},providers:[li],imports:[[k.c,kt.f,r.l,r.h],Zt.b,me,r.l,r.h]}),e})(),bi=(()=>{class e{}return e.\u0275mod=a.Mb({type:e}),e.\u0275inj=a.Lb({factory:function(t){return new(t||e)},imports:[[k.c,i.j,w.h,yt,me,Pe,Dn,zn,T.a,mi]]}),e})();var Ci=n("xSkH"),_i=n("hd+v"),vi=n("oSZn"),yi=n("PumH");function xi(e,t){if(1&e){const e=a.Vb();a.Sb(0),a.Ub(1,"epop-app-dialog",1),a.Ub(2,"epop-app-dialog-content",2),a.Ub(3,"div",3),a.Ub(4,"epop-shift-grid",4),a.cc("shiftBackgroundColorChanged",function(t){return a.Bc(e),a.gc().onShiftColorChanged(t,"background")})("shiftDeleted",function(t){return a.Bc(e),a.gc().onShiftDeleted(t)})("shiftTextColorChanged",function(t){return a.Bc(e),a.gc().onShiftColorChanged(t,"text")}),a.Tb(),a.Tb(),a.Ub(5,"div",5),a.Ub(6,"epop-inline-shift-form",6),a.cc("shiftCreated",function(t){return a.Bc(e),a.gc().onShiftAdded(t)}),a.Tb(),a.Tb(),a.Tb(),a.Ub(7,"epop-app-dialog-actions"),a.Ub(8,"button",7),a.cc("click",function(){return a.Bc(e),a.gc().dialogRef.close()}),a.Nc(9),a.Tb(),a.Ub(10,"button",8),a.cc("click",function(){return a.Bc(e),a.gc().onSaveExit()}),a.Nc(11),a.Tb(),a.Tb(),a.Tb(),a.Rb()}if(2&e){const e=t.$implicit,n=a.gc();a.Cb(1),a.nc("dialogTitle","Codes Horaires"),a.Cb(3),a.nc("additionalColumnDefs",n.additionalColumnDefs)("showActionCell",!0)("shiftList",n.shiftList)("showShiftBackgroundColorColumn",!0),a.Cb(5),a.Oc(e("common.cancel")),a.Cb(2),a.Oc(e("common.save"))}}let Oi=(()=>{class e{constructor(e,t,n,i,o,a){this.dialogRef=e,this.data=t,this.translocoService=n,this.shiftsStore=i,this.unitDetailsStore=o,this.unitDetailsQuery=a,this.subscriptions=[],this.shiftToDelete=[],this.shiftToAdd=[],this.shiftToUpdate={},this.additionalColumnDefs=[{headerName:this.translocoService.translate("shift.shiftType.label"),field:"shiftType",width:75,valueFormatter:e=>this.translocoService.translate("shift.shiftType."+e.value)},{headerName:this.translocoService.translate("shift.startTime"),field:"startTime",width:75},{headerName:this.translocoService.translate("shift.endTime"),field:"endTime",width:75},{headerName:this.translocoService.translate("shift.nbMinutesBreakDuration"),field:"nbMinutesBreakDuration",valueFormatter:e=>Ci.a.durationToString(0,e.value),width:75},{headerName:this.translocoService.translate("shift.nbHoursShiftDuration"),field:"nbHoursShiftDuration",valueFormatter:e=>Ci.a.durationToString(e.value,0),width:75}]}ngOnInit(){this.subscriptions.push(this.unitDetailsQuery.getFavoriteShiftList(this.data.unitId).subscribe(e=>this.shiftList=e))}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}onShiftDeleted(e){this.shiftToDelete.push(e),this.shiftList=this.shiftList.filter(t=>t.getId()!==e),this.shiftToAdd=this.shiftToAdd.filter(t=>t.getId()!==e),delete this.shiftToUpdate[e]}onSaveExit(){this.unitDetailsStore.addNewFavoriteShift(this.data.unitId,this.shiftToAdd),Object.keys(this.shiftToUpdate).forEach(e=>{const t=Number(e),n=this.shiftToUpdate[t];this.shiftsStore.updateShift(t,n.backgroundColor,n.textColor)}),this.unitDetailsStore.removeFavoriteShift(this.data.unitId,this.shiftToDelete),this.dialogRef.close()}onShiftColorChanged(e,t){var n;const i=null!==(n=this.shiftToUpdate[e.id])&&void 0!==n?n:{};"text"===t?i.textColor=e.color:i.backgroundColor=e.color,this.shiftToUpdate[e.id]=i}onShiftAdded(e){this.shiftList=[...this.shiftList,e],this.shiftToAdd.push(e)}}return e.\u0275fac=function(t){return new(t||e)(a.Ob(Bt),a.Ob(Ft),a.Ob(w.i),a.Ob(_i.a),a.Ob(vi.a),a.Ob(yi.a))},e.\u0275cmp=a.Ib({type:e,selectors:[["epop-shift-list-dialog"]],decls:1,vars:0,consts:[[4,"transloco"],["dialogSize","big",1,"epop-shift-list-dialog",3,"dialogTitle"],["fxLayout","column",1,"epop-shift-list-dialog__content"],[1,"epop-shift-list-dialog__content__list"],[1,"ag-theme-alpine","epop-shift-list-dialog__content__grid",3,"additionalColumnDefs","showActionCell","shiftList","showShiftBackgroundColorColumn","shiftBackgroundColorChanged","shiftDeleted","shiftTextColorChanged"],[1,"epop-shift-list-dialog__content__form"],[3,"shiftCreated"],["mat-stroked-button","",3,"click"],["mat-flat-button","","color","primary",3,"click"]],template:function(e,t){1&e&&a.Lc(0,xi,12,7,"ng-container",0)},styles:[".epop-shift-list-dialog__content[_ngcontent-%COMP%]{width:100%;overflow:hidden;flex:1}.epop-shift-list-dialog__content__list[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column}"]}),e})();function wi(e,t){if(1&e&&(a.Ub(0,"div",5),a.Ub(1,"span",6),a.Nc(2),a.Tb(),a.Tb()),2&e){const e=a.gc();a.Cb(2),a.Oc(e.dialogTitle)}}const ki=[[["epop-app-dialog-content"]],[["epop-app-dialog-actions"]]],Ai=["epop-app-dialog-content","epop-app-dialog-actions"];let Pi=(()=>{class e{constructor(){this.dialogSize="auto"}ngOnInit(){}getDialogClass(){return`epop-app-dialog epop-app-dialog--${this.dialogSize}`}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=a.Ib({type:e,selectors:[["epop-app-dialog"]],inputs:{dialogTitle:"dialogTitle",dialogSize:"dialogSize"},ngContentSelectors:Ai,decls:7,vars:3,consts:[["fxLayout","column"],["class","epop-app-dialog__header","fxLayout","column","fxLayoutAlign","center start",4,"ngIf"],["fxLayout","column","fxLayout","column",1,"epop-app-dialog__body"],["fxLayout","column",1,"epop-app-dialog__content"],["align","end",1,"epop-app-dialog__actions"],["fxLayout","column","fxLayoutAlign","center start",1,"epop-app-dialog__header"],[1,"epop-app-dialog__header__title"]],template:function(e,t){1&e&&(a.mc(ki),a.Ub(0,"div",0),a.Lc(1,wi,3,1,"div",1),a.Ub(2,"div",2),a.Ub(3,"div",3),a.lc(4),a.Tb(),a.Ub(5,"div",4),a.lc(6,1),a.Tb(),a.Tb(),a.Tb()),2&e&&(a.Eb(t.getDialogClass()),a.Cb(1),a.nc("ngIf",void 0!==t.dialogTitle))},directives:[wt.c,k.l,wt.b],styles:[".epop-app-dialog[_ngcontent-%COMP%]{max-height:80vh}.epop-app-dialog--small[_ngcontent-%COMP%]{width:250px}.epop-app-dialog--medium[_ngcontent-%COMP%]{width:610px}.epop-app-dialog--big[_ngcontent-%COMP%]{width:700px}.epop-app-dialog__header[_ngcontent-%COMP%]{height:55px;background-color:#00b2e3;padding:15px 30px}.epop-app-dialog__header__title[_ngcontent-%COMP%]{color:#fff;font-size:1.5rem;font-weight:500;letter-spacing:.1rem;line-height:2.5rem;text-transform:uppercase}.epop-app-dialog__body[_ngcontent-%COMP%]{margin:30px;max-height:100%;overflow:hidden;flex:1}.epop-app-dialog__content[_ngcontent-%COMP%]{margin-bottom:30px;flex:1 1 auto;overflow:auto}.epop-app-dialog__content[_ngcontent-%COMP%]     h2{color:#000;font-size:1.1rem;font-weight:500;letter-spacing:.1rem;line-height:1.5rem;text-transform:uppercase;margin-top:30px}.epop-app-dialog__actions[_ngcontent-%COMP%]     epop-app-dialog-actions{width:100%;height:100%;position:relative;display:flex;justify-content:flex-end;align-items:center}.epop-app-dialog__actions[_ngcontent-%COMP%]     epop-app-dialog-actions>button:not(:last-child){margin-right:15px}"]}),e})(),Ti=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=a.Jb({type:e,selectors:[["epop-app-dialog-content"]]}),e})(),Si=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=a.Jb({type:e,selectors:[["epop-app-dialog-actions"]]}),e})(),Ii=(()=>{class e{agInit(e){this.params=e}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=a.Ib({type:e,selectors:[["epop-icon-column-header"]],decls:2,vars:1,consts:[[1,"icon-column-header"],[1,"icon-column-header__icon",3,"svgIcon"]],template:function(e,t){1&e&&(a.Ub(0,"div",0),a.Pb(1,"mat-icon",1),a.Tb()),2&e&&(a.Cb(1),a.nc("svgIcon",t.params.iconName))},directives:[en.a],styles:["[_nghost-%COMP%]{width:100%}[_nghost-%COMP%]   .icon-column-header[_ngcontent-%COMP%]{display:flex;justify-content:center}[_nghost-%COMP%]   .icon-column-header__icon[_ngcontent-%COMP%]{flex:1;min-width:18px;color:#000}"]}),e})();function Mi(e,t){if(1&e){const e=a.Vb();a.Ub(0,"mat-icon",2),a.cc("click",function(){return a.Bc(e),a.gc().onDelete()}),a.Tb()}}let Di=(()=>{class e{constructor(){}agInit(e){this.params=e}refresh(){return!1}onDelete(){this.params.onDelete(this.params.value)}canDelete(){return!this.params.data.isNotRemovable()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=a.Ib({type:e,selectors:[["epop-shift-actions-cell"]],decls:2,vars:1,consts:[[1,"epop-shift-action-cell"],["class","epop-shift-action-cell__action","svgIcon","mdi/minus-circle-outline",3,"click",4,"ngIf"],["svgIcon","mdi/minus-circle-outline",1,"epop-shift-action-cell__action",3,"click"]],template:function(e,t){1&e&&(a.Ub(0,"div",0),a.Lc(1,Mi,1,0,"mat-icon",1),a.Tb()),2&e&&(a.Cb(1),a.nc("ngIf",t.canDelete()))},directives:[k.l,en.a],styles:["[_nghost-%COMP%]{display:flex;flex:1;height:100%}[_nghost-%COMP%]   .epop-shift-action-cell[_ngcontent-%COMP%]{width:100%;font-size:1rem;text-align:center;display:flex;align-items:center;justify-content:center}[_nghost-%COMP%]   .epop-shift-action-cell__action[_ngcontent-%COMP%]{cursor:pointer;width:16px}[_nghost-%COMP%]   .epop-shift-action-cell__action[_ngcontent-%COMP%]:hover{color:red}"]}),e})();function Ri(e,t){if(1&e){const e=a.Vb();a.Ub(0,"div"),a.Ub(1,"span",7),a.cc("colorPickerSelect",function(t){return a.Bc(e),a.gc(2).onColorSelected(t)}),a.Tb(),a.Tb()}if(2&e){const e=a.gc().$implicit,t=a.gc();a.Cb(1),a.nc("colorPicker",t.value)("cpDialogDisplay","inline")("cpToggle",!0)("cpOKButton",!0)("cpOKButtonText",e("common.ok"))("cpCancelButton",!0)("cpCancelButtonText",e("common.reinit"))("cpPresetEmptyMessage",e("common.colorPicker.presetColorsEmpty"))("cpPresetLabel",e("common.colorPicker.presetColors"))("cpPresetColors",t.presetColors)}}function Li(e,t){if(1&e&&(a.Sb(0),a.Ub(1,"div",1),a.Pb(2,"div",2,3),a.Ub(4,"mat-menu",4,5),a.Lc(6,Ri,2,10,"ng-template",6),a.Tb(),a.Tb(),a.Rb()),2&e){const e=a.yc(5),t=a.gc();a.Cb(2),a.Ic("background",t.value),a.Gb("epop-color-picker__trigger--disabled",t.isDisabled),a.nc("matMenuTriggerFor",e)}}let Ei=(()=>{class e{constructor(){this.presetColors=["#8a2be2","#d2691f","#fb7f50","#6495ed","#8fbc8f"],this.isDisabled=!1,this.onChange=e=>{},this.onTouched=()=>{}}get value(){return this.controlValue}set value(e){e!==this.controlValue&&(this.controlValue=e,this.onChange(e))}ngOnInit(){}getDefaultColorValue(){return this.value}writeValue(e){this.value=e}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.isDisabled=e}onColorSelected(e){this.value=e,this.trigger.closeMenu()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=a.Ib({type:e,selectors:[["epop-color-picker"]],viewQuery:function(e,t){if(1&e&&a.Rc(Me.e,!0),2&e){let e;a.xc(e=a.dc())&&(t.trigger=e.first)}},features:[a.Bb([{provide:i.m,useExisting:Object(a.W)(()=>e),multi:!0}])],decls:1,vars:0,consts:[[4,"transloco"],[1,"epop-color-picker"],[1,"epop-color-picker__trigger",3,"matMenuTriggerFor"],["cellMenuTrigger","matMenuTrigger"],["yPosition","below","xPosition","after",1,"epop-color-picker__menu"],["menu","matMenu"],["matMenuContent",""],["cpOKButtonClass","mat-flat-button mat-button-base mat-primary","cpCancelButtonClass","mat-stroked-button mat-button-base",3,"colorPicker","cpDialogDisplay","cpToggle","cpOKButton","cpOKButtonText","cpCancelButton","cpCancelButtonText","cpPresetEmptyMessage","cpPresetLabel","cpPresetColors","colorPickerSelect"]],template:function(e,t){1&e&&a.Lc(0,Li,7,5,"ng-container",0)},directives:[w.g,Me.e,Me.a,Me.b,_t],styles:[".epop-color-picker__trigger[_ngcontent-%COMP%]{height:22px;width:22px;border-radius:5px;border:1px solid #555}.epop-color-picker__trigger--disabled[_ngcontent-%COMP%]{pointer-events:none}  .epop-color-picker__menu .mat-menu-content{margin:16px}  .epop-color-picker__menu .color-picker{border:0}  .epop-color-picker__menu .color-picker .hex-text>*,   .epop-color-picker__menu .color-picker .type-policy{display:none}  .epop-color-picker__menu .color-picker .button-area{padding:0}  .epop-color-picker__menu .color-picker .button-area button{line-height:2rem;padding:0 8px;margin-top:8px}"]}),e})(),ji=(()=>{class e{constructor(){}agInit(e){this.params=e,this.currentColor=e.getValue(),this.lastColor=this.currentColor}refresh(){return!1}onColorChanged(){this.currentColor!==this.lastColor&&(this.params.onColorChanged(this.getCurrentShift().getId(),this.currentColor),this.lastColor=this.currentColor)}getCurrentShift(){return this.params.data}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=a.Ib({type:e,selectors:[["epop-shift-color-cell"]],decls:2,vars:2,consts:[[1,"epop-shift-color-cell"],[3,"ngModel","disabled","ngModelChange"]],template:function(e,t){1&e&&(a.Ub(0,"div",0),a.Ub(1,"epop-color-picker",1),a.cc("ngModelChange",function(e){return t.currentColor=e})("ngModelChange",function(){return t.onColorChanged()}),a.Tb(),a.Tb()),2&e&&(a.Cb(1),a.nc("ngModel",t.currentColor)("disabled",t.params.readOnly))},directives:[Ei,i.o,i.r],styles:["[_nghost-%COMP%]{flex:1;height:100%}[_nghost-%COMP%], [_nghost-%COMP%]   .epop-shift-action-cell[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}[_nghost-%COMP%]   .epop-shift-action-cell[_ngcontent-%COMP%]{width:100%;font-size:1rem;text-align:center}[_nghost-%COMP%]   .epop-shift-action-cell__action[_ngcontent-%COMP%]{cursor:pointer;width:16px}[_nghost-%COMP%]   .epop-shift-action-cell__action[_ngcontent-%COMP%]:hover{color:#eb303f}"]}),e})(),Ui=(()=>{class e{constructor(e){this.translocoService=e,this.shiftList=[],this.showShiftBackgroundColorColumn=!0,this.isGridReadOnly=!1,this.additionalColumnDefs=[],this.selectedShifts=[],this.shiftDeleted=new a.n,this.shiftBackgroundColorChanged=new a.n,this.shiftTextColorChanged=new a.n,this.shiftsSelected=new a.n,this.frameworkComponents={ShiftActionsCellComponent:Di,ShiftColorCellComponent:ji,IconColumHeaderComponent:Ii},this.gridOptions={onGridReady:e=>this.onGridReady(e),isRowSelectable:e=>!e.data.isNotRemovable()},this.columnDefs=[],this.actionCell={field:"id",headerName:"",cellRenderer:"ShiftActionsCellComponent",width:45,cellRendererParams:{onDelete:e=>this.shiftDeleted.next(e)}},this.selectionCell={headerCheckboxSelection:!0,checkboxSelection:!0,headerCheckboxSelectionFilteredOnly:!0,cellClass:"epop-shift-list__cell__selection",headerClass:"epop-shift-list__col__selection",width:20}}get defaultColumnDefs(){return[{field:"rgbTextColor",headerComponent:"IconColumHeaderComponent",headerComponentParams:{iconName:"mdi/format-color-text"},cellRenderer:"ShiftColorCellComponent",width:45,cellRendererParams:{onColorChanged:(e,t)=>this.shiftTextColorChanged.next({id:e,color:t}),readOnly:this.isGridReadOnly}},{headerName:this.translocoService.translate("shift.code"),field:"code",flex:1,sortable:!0,cellClass:"epop-shift-list__cell__code"}]}get backgroundColorCol(){return{field:"rgbBackgroundColor",headerComponent:"IconColumHeaderComponent",headerComponentParams:{iconName:"mdi/format-color-fill"},cellRenderer:"ShiftColorCellComponent",width:45,cellRendererParams:{onColorChanged:(e,t)=>this.shiftBackgroundColorChanged.next({id:e,color:t}),readOnly:this.isGridReadOnly}}}ngOnChanges(e){var t;if((e.additionalColumnDefs||e.selectionMode||e.showActionCell)&&(this.columnDefs=[],e.selectionMode&&this.columnDefs.push(this.selectionCell),this.showShiftBackgroundColorColumn&&this.columnDefs.push(this.backgroundColorCol),this.columnDefs.push(...this.defaultColumnDefs.concat(this.additionalColumnDefs)),this.showActionCell&&this.columnDefs.push(this.actionCell)),e.shiftList&&this.gridApi)if(e.shiftList.isFirstChange())this.gridApi.setRowData(e.shiftList.currentValue);else{const n=[],i=[];e.shiftList.currentValue.forEach(t=>{e.shiftList.previousValue.indexOf(t)<0&&n.push(t)}),this.gridApi.forEachNode(e=>{const t=e.data;this.shiftList.indexOf(t)<0&&i.push(t)}),null===(t=this.gridApi)||void 0===t||t.applyTransaction({add:n,update:[],remove:i})}e.selectedShifts&&this.updateSelectedRows()}ngOnInit(){}onGridReady(e){this.gridApi=e.api,this.gridApi.setRowData(this.shiftList),this.updateSelectedRows()}onSelectionChanged(){const e=this.gridApi.getSelectedRows(),t=this.shiftList.filter(e=>e.isNotRemovable()).concat(e);this.shiftsSelected.next(t)}updateSelectedRows(){this.gridApi&&this.gridApi.forEachNode(e=>{void 0!==this.selectedShifts.find(t=>t.getId()===e.data.id)?e.setSelected(!0):e.setSelected(!1)})}}return e.\u0275fac=function(t){return new(t||e)(a.Ob(w.i))},e.\u0275cmp=a.Ib({type:e,selectors:[["epop-shift-grid"]],inputs:{shiftList:"shiftList",showShiftBackgroundColorColumn:"showShiftBackgroundColorColumn",isGridReadOnly:"isGridReadOnly",additionalColumnDefs:"additionalColumnDefs",showActionCell:"showActionCell",selectionMode:"selectionMode",textSearch:"textSearch",selectedShifts:"selectedShifts"},outputs:{shiftDeleted:"shiftDeleted",shiftBackgroundColorChanged:"shiftBackgroundColorChanged",shiftTextColorChanged:"shiftTextColorChanged",shiftsSelected:"shiftsSelected"},features:[a.Ab],decls:1,vars:5,consts:[[1,"ag-theme-alpine","epop-shift-grid",3,"columnDefs","gridOptions","frameworkComponents","quickFilterText","rowSelection","selectionChanged"]],template:function(e,t){1&e&&(a.Ub(0,"ag-grid-angular",0),a.cc("selectionChanged",function(){return t.onSelectionChanged()}),a.Tb()),2&e&&a.nc("columnDefs",t.columnDefs)("gridOptions",t.gridOptions)("frameworkComponents",t.frameworkComponents)("quickFilterText",t.textSearch)("rowSelection",!!t.selectionMode&&"multiple")},directives:[xt.a],styles:[".epop-shift-grid[_ngcontent-%COMP%]{overflow:auto;height:50vh}.epop-shift-grid[_ngcontent-%COMP%]     .ag-header-cell{background:#fff;text-transform:uppercase;font-size:1.1rem;font-weight:300;color:#000}.epop-shift-grid[_ngcontent-%COMP%]     .ag-header-cell.epop-shift-list__col__selection{padding:0;display:flex;justify-content:center;align-items:center}.epop-shift-grid[_ngcontent-%COMP%]     .ag-header-cell.epop-shift-list__col__selection .ag-checkbox{margin-right:0}.epop-shift-grid[_ngcontent-%COMP%]     .ag-header-cell.epop-shift-list__col__selection .ag-cell-label-container{display:none}.epop-shift-grid[_ngcontent-%COMP%]     .ag-cell{padding:0;text-align:center}.epop-shift-grid[_ngcontent-%COMP%]     .ag-cell.epop-shift-list__cell__code{text-align:left;padding-left:16px}.epop-shift-grid[_ngcontent-%COMP%]     .ag-cell.epop-shift-list__cell__selection .ag-selection-checkbox{width:100%;justify-content:center}"]}),e})();var Bi=n("T4Oz"),Vi=n("KAyA"),Fi=n("R1ON");function Ni(e,t){if(1&e&&(a.Ub(0,"mat-option",11),a.Nc(1),a.Tb()),2&e){const e=t.$implicit,n=a.gc().$implicit;a.nc("value",e),a.Cb(1),a.Oc(n("shift.shiftType."+e))}}function qi(e,t){if(1&e){const e=a.Vb();a.Sb(0),a.Ub(1,"div",1),a.Ub(2,"div",2),a.Ub(3,"epop-color-picker",3),a.cc("ngModelChange",function(t){return a.Bc(e),a.gc().backgroundColor=t}),a.Tb(),a.Tb(),a.Ub(4,"div",2),a.Ub(5,"epop-color-picker",3),a.cc("ngModelChange",function(t){return a.Bc(e),a.gc().textColor=t}),a.Tb(),a.Tb(),a.Ub(6,"div",2),a.Ub(7,"mat-form-field",4),a.Ub(8,"input",5),a.cc("ngModelChange",function(t){return a.Bc(e),a.gc().shiftCode=t}),a.Tb(),a.Tb(),a.Tb(),a.Ub(9,"div",2),a.Ub(10,"mat-form-field",4),a.Ub(11,"mat-label"),a.Nc(12),a.Tb(),a.Ub(13,"mat-select",6),a.cc("valueChange",function(t){return a.Bc(e),a.gc().shiftType=t}),a.Lc(14,Ni,2,2,"mat-option",7),a.Tb(),a.Tb(),a.Tb(),a.Ub(15,"div",2),a.Ub(16,"ngx-mat-timepicker",8),a.cc("ngModelChange",function(t){return a.Bc(e),a.gc().startTime=t})("ngModelChange",function(){return a.Bc(e),a.gc().onTimesChanged()}),a.Tb(),a.Tb(),a.Ub(17,"div",2),a.Ub(18,"ngx-mat-timepicker",8),a.cc("ngModelChange",function(t){return a.Bc(e),a.gc().endTime=t})("ngModelChange",function(){return a.Bc(e),a.gc().onTimesChanged()}),a.Tb(),a.Tb(),a.Ub(19,"div",2),a.Ub(20,"ngx-mat-timepicker",8),a.cc("ngModelChange",function(t){return a.Bc(e),a.gc().nbMinutesBreakDuration=t})("ngModelChange",function(){return a.Bc(e),a.gc().onTimesChanged()}),a.Tb(),a.Tb(),a.Ub(21,"div",2),a.Ub(22,"ngx-mat-timepicker",9),a.cc("ngModelChange",function(t){return a.Bc(e),a.gc().nbHoursShiftDuration=t}),a.Tb(),a.Tb(),a.Ub(23,"div",2),a.Ub(24,"mat-icon",10),a.cc("click",function(){return a.Bc(e),a.gc().onAdd()}),a.Tb(),a.Tb(),a.Tb(),a.Rb()}if(2&e){const e=t.$implicit,n=a.gc();a.Cb(2),a.Ic("max-width",n.getColorColumnWidth()),a.Cb(1),a.nc("ngModel",n.backgroundColor),a.Cb(1),a.Ic("max-width",n.getColorColumnWidth()),a.Cb(1),a.nc("ngModel",n.textColor),a.Cb(3),a.nc("placeholder",e("shift.code"))("ngModel",n.shiftCode),a.Cb(1),a.Ic("max-width",n.getShiftTypeColumnWidth()),a.Cb(3),a.Oc(e("shift.shiftType.label")),a.Cb(1),a.nc("value",n.shiftType),a.Cb(1),a.nc("ngForOf",n.shiftTypes),a.Cb(1),a.Ic("max-width",n.getDurationColumnWidth()),a.Cb(1),a.nc("ngModel",n.startTime)("showSpinners",!1)("stepHour",1)("stepMinute",1)("showSeconds",!1),a.Cb(1),a.Ic("max-width",n.getDurationColumnWidth()),a.Cb(1),a.nc("ngModel",n.endTime)("showSpinners",!1)("stepHour",1)("stepMinute",1)("showSeconds",!1),a.Cb(1),a.Ic("max-width",n.getDurationColumnWidth()),a.Cb(1),a.nc("ngModel",n.nbMinutesBreakDuration)("showSpinners",!1)("stepHour",1)("stepMinute",1)("showSeconds",!1),a.Cb(1),a.Ic("max-width",n.getDurationColumnWidth()),a.Cb(1),a.nc("ngModel",n.nbHoursShiftDuration)("disabled",!0)("showSpinners",!1)("stepHour",1)("stepMinute",1)("showSeconds",!1),a.Cb(1),a.Ic("max-width",n.getActionColumnWidth()),a.Gb("epop-inline-shift-form__field--disabled",!n.isFormValid())}}let zi=(()=>{class e{constructor(){this.shiftCreated=new a.n,this.shiftTypes=["morning","day","evening","night","onCallDuty"]}ngOnInit(){this.clearFields()}clearFields(){const e=new Date;e.setHours(0,0,0,0),this.backgroundColor="",this.textColor="",this.shiftCode="",this.startTime=e,this.endTime=new Date(e),this.nbMinutesBreakDuration=new Date(e),this.nbHoursShiftDuration=new Date(e)}getColorColumnWidth(){return"45px"}getDurationColumnWidth(){return"75px"}getShiftTypeColumnWidth(){return"75px"}getActionColumnWidth(){return"45px"}onTimesChanged(){this.nbHoursShiftDuration=Ci.a.getHoursIntervalDuration(this.startTime,this.endTime,this.nbMinutesBreakDuration)}isFormValid(){var e;const t=Ci.a.convertDateTimeToDuration(this.nbHoursShiftDuration);return(null===(e=this.shiftCode)||void 0===e?void 0:e.length)>0&&void 0!==this.shiftType&&(0!==t.minutes||0!==t.hours)}onAdd(){const e=Ci.a.convertDateTimeToDuration(this.startTime),t=Ci.a.convertDateTimeToDuration(this.endTime),n=new Fi.a({id:Vi.a.generateUniqueId(),code:this.shiftCode,rgbBackgroundColor:this.backgroundColor,rgbTextColor:this.textColor,startTime:new Bi.a(e),endTime:new Bi.a(t),shiftType:this.shiftType,nbHoursShiftDuration:Ci.a.convertLocalTimeToHours(this.nbHoursShiftDuration),nbMinutesBreakDuration:Ci.a.convertLocalTimeToMinutes(this.nbMinutesBreakDuration)});this.shiftCreated.next(n),this.clearFields()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=a.Ib({type:e,selectors:[["epop-inline-shift-form"]],outputs:{shiftCreated:"shiftCreated"},decls:1,vars:0,consts:[[4,"transloco"],[1,"epop-inline-shift-form"],[1,"epop-inline-shift-form__field"],[3,"ngModel","ngModelChange"],[1,"epop-inline-shift-form__field__code"],["matInput","","type","text",3,"placeholder","ngModel","ngModelChange"],[3,"value","valueChange"],[3,"value",4,"ngFor","ngForOf"],[3,"ngModel","showSpinners","stepHour","stepMinute","showSeconds","ngModelChange"],[3,"ngModel","disabled","showSpinners","stepHour","stepMinute","showSeconds","ngModelChange"],["svgIcon","mdi/plus-circle-outline",1,"epop-inline-shift-form__field__action",3,"click"],[3,"value"]],template:function(e,t){1&e&&a.Lc(0,qi,25,46,"ng-container",0)},directives:[w.g,Ei,i.o,i.r,fe,Ae,i.d,ae,gi,k.k,An,en.a,r.k],styles:[".epop-inline-shift-form[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center}.epop-inline-shift-form__field[_ngcontent-%COMP%]{flex:1;overflow:hidden;justify-content:center;display:flex}.epop-inline-shift-form__field--disabled[_ngcontent-%COMP%]{opacity:.3;cursor:not-allowed}.epop-inline-shift-form__field--disabled[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{pointer-events:none}.epop-inline-shift-form__field[_ngcontent-%COMP%] > mat-form-field[_ngcontent-%COMP%]{width:100%;margin:0 4px;overflow:hidden}.epop-inline-shift-form__field__action[_ngcontent-%COMP%]{cursor:pointer;width:16px}.epop-inline-shift-form__field__action[_ngcontent-%COMP%]:hover{color:#00b2e3}.epop-inline-shift-form__field[_ngcontent-%COMP%]     .ngx-mat-timepicker form{min-width:auto}.epop-inline-shift-form__field[_ngcontent-%COMP%]     .ngx-mat-timepicker form .ngx-mat-timepicker-table{margin:0 auto}.epop-inline-shift-form__field[_ngcontent-%COMP%]     .ngx-mat-timepicker form .ngx-mat-timepicker-table .mat-form-field{margin-bottom:0}"]}),e})(),Gi=(()=>{class e{}return e.\u0275mod=a.Mb({type:e}),e.\u0275inj=a.Lb({factory:function(t){return new(t||e)},imports:[[k.c,Qt,Ot,bi,w.h,P.b]]}),e})();a.Ec(Oi,[w.g,Pi,Ti,Ui,zi,Si,P.a],[]);let Hi=(()=>{class e{}return e.\u0275mod=a.Mb({type:e}),e.\u0275inj=a.Lb({factory:function(t){return new(t||e)},providers:[{provide:w.e,useValue:{scope:"models/shift",alias:"shift"},multi:!0}],imports:[[k.c,w.h,P.b,Gi,Xt]]}),e})();var Yi=n("aGKO"),Ki=n("tyNb"),Wi=n("BUk2"),Qi=n("DSRs"),Xi=n("4ZtF"),Zi=n("mrSG");let Ji=(()=>{let e=class extends Xi.a{constructor(){super()}setConstraintParamValue(e,t){this.update(e,e=>{const n=Vi.a.copyObjectAttributes(void 0,e,!0);return Object.keys(t).forEach(e=>{n.setParams(e,t[e])}),n})}setConstraintStateValue(e,t){this.update(e,e=>{const n=Vi.a.copyObjectAttributes(void 0,e,!0);return n.setIsEnable(t),n})}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=a.Kb({token:e,factory:e.\u0275fac,providedIn:"root"}),e=Object(Zi.a)([Object(Xi.e)({name:"planning-constraint"})],e),e})(),$i=(()=>{class e extends Xi.c{constructor(e){super(e),this.store=e}}return e.\u0275fac=function(t){return new(t||e)(a.Yb(Ji))},e.\u0275prov=a.Kb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),eo=(()=>{let e=class extends Xi.a{constructor(){super()}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=a.Kb({token:e,factory:e.\u0275fac,providedIn:"root"}),e=Object(Zi.a)([Object(Xi.e)({name:"planning-constraint-categories"})],e),e})(),to=(()=>{class e extends Xi.c{constructor(e,t){super(e),this.store=e,this.planningConstraintsQuery=t}selectAllWithConstaints(){return this.selectAll().pipe(Object(Yn.a)(e=>{const t=this.planningConstraintsQuery.getAll(),n={};return e.forEach(e=>{n[e.getId()]=t.filter(t=>t.getCategoryId()===e.getId())}),n}))}}return e.\u0275fac=function(t){return new(t||e)(a.Yb(eo),a.Yb($i))},e.\u0275prov=a.Kb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function no(e,t){if(1&e){const e=a.Vb();a.Ub(0,"button",4),a.cc("click",function(){return a.Bc(e),a.gc().inputSearchText=""}),a.Pb(1,"mat-icon",5),a.Tb()}}function io(e,t){if(1&e&&(a.Ub(0,"span",6),a.Pb(1,"mat-icon",7),a.Tb()),2&e){const e=a.gc();a.Cb(1),a.nc("svgIcon",e.suffixSvgIcon)}}let oo=(()=>{class e{constructor(){this.isDisabled=!1,this.onChange=e=>{},this.onTouched=()=>{}}get inputSearchText(){return this.controlValue}set inputSearchText(e){e!==this.controlValue&&(this.controlValue=e,this.onChange(e))}ngOnInit(){}writeValue(e){this.inputSearchText=e}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.isDisabled=e}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=a.Ib({type:e,selectors:[["epop-search-input-field"]],inputs:{suffixSvgIcon:"suffixSvgIcon",placeholder:"placeholder"},features:[a.Bb([{provide:i.m,useExisting:Object(a.W)(()=>e),multi:!0}])],decls:4,vars:5,consts:[[1,"inline-search-input"],["matInput","","type","text",3,"ngModel","placeholder","disabled","ngModelChange"],["mat-button","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],["class","inline-search-input__suffix-icon","matSuffix","",4,"ngIf"],["mat-button","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"],["svgIcon","mdi/close"],["matSuffix","",1,"inline-search-input__suffix-icon"],["mat-icon-button","",3,"svgIcon"]],template:function(e,t){1&e&&(a.Ub(0,"mat-form-field",0),a.Ub(1,"input",1),a.cc("ngModelChange",function(e){return t.inputSearchText=e}),a.Tb(),a.Lc(2,no,2,0,"button",2),a.Lc(3,io,2,1,"span",3),a.Tb()),2&e&&(a.Cb(1),a.nc("ngModel",t.inputSearchText)("placeholder",t.placeholder)("disabled",t.isDisabled),a.Cb(1),a.nc("ngIf",t.inputSearchText),a.Cb(1),a.nc("ngIf",void 0!==t.suffixSvgIcon))},directives:[fe,Ae,i.d,i.o,i.r,k.l,P.a,ce,en.a],styles:[".inline-search-input[_ngcontent-%COMP%]{font-size:1.2rem;line-height:2rem;width:100%}.inline-search-input__suffix-icon[_ngcontent-%COMP%]{height:1.5em;width:1.5em;display:inline-block;text-align:center;vertical-align:middle;color:#7c7c7c}.inline-search-input__suffix-icon[_ngcontent-%COMP%] > mat-icon[_ngcontent-%COMP%]{width:100%;height:100%}"]}),e})(),ao=0;const ro=new a.r("CdkAccordion");let so=(()=>{class e{constructor(){this._stateChanges=new S.a,this._openCloseAllActions=new S.a,this.id="cdk-accordion-"+ao++,this._multi=!1}get multi(){return this._multi}set multi(e){this._multi=Object(s.b)(e)}openAll(){this._openCloseAll(!0)}closeAll(){this._openCloseAll(!1)}ngOnChanges(e){this._stateChanges.next(e)}ngOnDestroy(){this._stateChanges.complete()}_openCloseAll(e){this.multi&&this._openCloseAllActions.next(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=a.Jb({type:e,selectors:[["cdk-accordion"],["","cdkAccordion",""]],inputs:{multi:"multi"},exportAs:["cdkAccordion"],features:[a.Bb([{provide:ro,useExisting:e}]),a.Ab]}),e})(),lo=0,co=(()=>{class e{constructor(e,t,n){this.accordion=e,this._changeDetectorRef=t,this._expansionDispatcher=n,this._openCloseAllSubscription=Jt.a.EMPTY,this.closed=new a.n,this.opened=new a.n,this.destroyed=new a.n,this.expandedChange=new a.n,this.id="cdk-accordion-child-"+lo++,this._expanded=!1,this._disabled=!1,this._removeUniqueSelectionListener=()=>{},this._removeUniqueSelectionListener=n.listen((e,t)=>{this.accordion&&!this.accordion.multi&&this.accordion.id===t&&this.id!==e&&(this.expanded=!1)}),this.accordion&&(this._openCloseAllSubscription=this._subscribeToOpenCloseAllActions())}get expanded(){return this._expanded}set expanded(e){e=Object(s.b)(e),this._expanded!==e&&(this._expanded=e,this.expandedChange.emit(e),e?(this.opened.emit(),this._expansionDispatcher.notify(this.id,this.accordion?this.accordion.id:this.id)):this.closed.emit(),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(e){this._disabled=Object(s.b)(e)}ngOnDestroy(){this.opened.complete(),this.closed.complete(),this.destroyed.emit(),this.destroyed.complete(),this._removeUniqueSelectionListener(),this._openCloseAllSubscription.unsubscribe()}toggle(){this.disabled||(this.expanded=!this.expanded)}close(){this.disabled||(this.expanded=!1)}open(){this.disabled||(this.expanded=!0)}_subscribeToOpenCloseAllActions(){return this.accordion._openCloseAllActions.subscribe(e=>{this.disabled||(this.expanded=e)})}}return e.\u0275fac=function(t){return new(t||e)(a.Ob(ro,12),a.Ob(a.h),a.Ob(Gn.c))},e.\u0275dir=a.Jb({type:e,selectors:[["cdk-accordion-item"],["","cdkAccordionItem",""]],inputs:{expanded:"expanded",disabled:"disabled"},outputs:{closed:"closed",opened:"opened",destroyed:"destroyed",expandedChange:"expandedChange"},exportAs:["cdkAccordionItem"],features:[a.Bb([{provide:ro,useValue:void 0}])]}),e})(),po=(()=>{class e{}return e.\u0275mod=a.Mb({type:e}),e.\u0275inj=a.Lb({factory:function(t){return new(t||e)}}),e})();const ho=["body"];function uo(e,t){}const go=[[["mat-expansion-panel-header"]],"*",[["mat-action-row"]]],fo=["mat-expansion-panel-header","*","mat-action-row"];function mo(e,t){if(1&e&&a.Pb(0,"span",2),2&e){const e=a.gc();a.nc("@indicatorRotate",e._getExpandedState())}}const bo=[[["mat-panel-title"]],[["mat-panel-description"]],"*"],Co=["mat-panel-title","mat-panel-description","*"],_o=new a.r("MAT_ACCORDION"),vo="225ms cubic-bezier(0.4,0.0,0.2,1)",yo={indicatorRotate:Object(E.m)("indicatorRotate",[Object(E.j)("collapsed, void",Object(E.k)({transform:"rotate(0deg)"})),Object(E.j)("expanded",Object(E.k)({transform:"rotate(180deg)"})),Object(E.l)("expanded <=> collapsed, void => collapsed",Object(E.e)(vo))]),bodyExpansion:Object(E.m)("bodyExpansion",[Object(E.j)("collapsed, void",Object(E.k)({height:"0px",visibility:"hidden"})),Object(E.j)("expanded",Object(E.k)({height:"*",visibility:"visible"})),Object(E.l)("expanded <=> collapsed, void => collapsed",Object(E.e)(vo))])};let xo=(()=>{class e{constructor(e){this._template=e}}return e.\u0275fac=function(t){return new(t||e)(a.Ob(a.N))},e.\u0275dir=a.Jb({type:e,selectors:[["ng-template","matExpansionPanelContent",""]]}),e})(),Oo=0;const wo=new a.r("MAT_EXPANSION_PANEL_DEFAULT_OPTIONS");let ko=(()=>{class e extends co{constructor(e,t,n,i,o,r,s){super(e,t,n),this._viewContainerRef=i,this._animationMode=r,this._hideToggle=!1,this.afterExpand=new a.n,this.afterCollapse=new a.n,this._inputChanges=new S.a,this._headerId="mat-expansion-panel-header-"+Oo++,this._bodyAnimationDone=new S.a,this.accordion=e,this._document=o,this._bodyAnimationDone.pipe(Object(Kn.a)((e,t)=>e.fromState===t.fromState&&e.toState===t.toState)).subscribe(e=>{"void"!==e.fromState&&("expanded"===e.toState?this.afterExpand.emit():"collapsed"===e.toState&&this.afterCollapse.emit())}),s&&(this.hideToggle=s.hideToggle)}get hideToggle(){return this._hideToggle||this.accordion&&this.accordion.hideToggle}set hideToggle(e){this._hideToggle=Object(s.b)(e)}get togglePosition(){return this._togglePosition||this.accordion&&this.accordion.togglePosition}set togglePosition(e){this._togglePosition=e}_hasSpacing(){return!!this.accordion&&this.expanded&&"default"===this.accordion.displayMode}_getExpandedState(){return this.expanded?"expanded":"collapsed"}toggle(){this.expanded=!this.expanded}close(){this.expanded=!1}open(){this.expanded=!0}ngAfterContentInit(){this._lazyContent&&this.opened.pipe(Object(D.a)(null),Object(St.a)(()=>this.expanded&&!this._portal),Object(L.a)(1)).subscribe(()=>{this._portal=new At.h(this._lazyContent._template,this._viewContainerRef)})}ngOnChanges(e){this._inputChanges.next(e)}ngOnDestroy(){super.ngOnDestroy(),this._bodyAnimationDone.complete(),this._inputChanges.complete()}_containsFocus(){if(this._body){const e=this._document.activeElement,t=this._body.nativeElement;return e===t||t.contains(e)}return!1}}return e.\u0275fac=function(t){return new(t||e)(a.Ob(_o,12),a.Ob(a.h),a.Ob(Gn.c),a.Ob(a.R),a.Ob(k.d),a.Ob(l.a,8),a.Ob(wo,8))},e.\u0275cmp=a.Ib({type:e,selectors:[["mat-expansion-panel"]],contentQueries:function(e,t,n){if(1&e&&a.Hb(n,xo,!0),2&e){let e;a.xc(e=a.dc())&&(t._lazyContent=e.first)}},viewQuery:function(e,t){if(1&e&&a.Rc(ho,!0),2&e){let e;a.xc(e=a.dc())&&(t._body=e.first)}},hostAttrs:[1,"mat-expansion-panel"],hostVars:6,hostBindings:function(e,t){2&e&&a.Gb("mat-expanded",t.expanded)("_mat-animation-noopable","NoopAnimations"===t._animationMode)("mat-expansion-panel-spacing",t._hasSpacing())},inputs:{disabled:"disabled",expanded:"expanded",hideToggle:"hideToggle",togglePosition:"togglePosition"},outputs:{opened:"opened",closed:"closed",expandedChange:"expandedChange",afterExpand:"afterExpand",afterCollapse:"afterCollapse"},exportAs:["matExpansionPanel"],features:[a.Bb([{provide:_o,useValue:void 0}]),a.zb,a.Ab],ngContentSelectors:fo,decls:7,vars:4,consts:[["role","region",1,"mat-expansion-panel-content",3,"id"],["body",""],[1,"mat-expansion-panel-body"],[3,"cdkPortalOutlet"]],template:function(e,t){1&e&&(a.mc(go),a.lc(0),a.Ub(1,"div",0,1),a.cc("@bodyExpansion.done",function(e){return t._bodyAnimationDone.next(e)}),a.Ub(3,"div",2),a.lc(4,1),a.Lc(5,uo,0,0,"ng-template",3),a.Tb(),a.lc(6,2),a.Tb()),2&e&&(a.Cb(1),a.nc("@bodyExpansion",t._getExpandedState())("id",t.id),a.Db("aria-labelledby",t._headerId),a.Cb(4),a.nc("cdkPortalOutlet",t._portal))},directives:[At.c],styles:[".mat-expansion-panel{box-sizing:content-box;display:block;margin:0;border-radius:4px;overflow:hidden;transition:margin 225ms cubic-bezier(0.4, 0, 0.2, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);position:relative}.mat-accordion .mat-expansion-panel:not(.mat-expanded),.mat-accordion .mat-expansion-panel:not(.mat-expansion-panel-spacing){border-radius:0}.mat-accordion .mat-expansion-panel:first-of-type{border-top-right-radius:4px;border-top-left-radius:4px}.mat-accordion .mat-expansion-panel:last-of-type{border-bottom-right-radius:4px;border-bottom-left-radius:4px}.cdk-high-contrast-active .mat-expansion-panel{outline:solid 1px}.mat-expansion-panel.ng-animate-disabled,.ng-animate-disabled .mat-expansion-panel,.mat-expansion-panel._mat-animation-noopable{transition:none}.mat-expansion-panel-content{display:flex;flex-direction:column;overflow:visible}.mat-expansion-panel-body{padding:0 24px 16px}.mat-expansion-panel-spacing{margin:16px 0}.mat-accordion>.mat-expansion-panel-spacing:first-child,.mat-accordion>*:first-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-top:0}.mat-accordion>.mat-expansion-panel-spacing:last-child,.mat-accordion>*:last-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-bottom:0}.mat-action-row{border-top-style:solid;border-top-width:1px;display:flex;flex-direction:row;justify-content:flex-end;padding:16px 8px 16px 24px}.mat-action-row button.mat-button-base,.mat-action-row button.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-action-row button.mat-button-base,[dir=rtl] .mat-action-row button.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[yo.bodyExpansion]},changeDetection:0}),e})(),Ao=(()=>{class e{constructor(e,t,n,i,o,a){this.panel=e,this._element=t,this._focusMonitor=n,this._changeDetectorRef=i,this._animationMode=a,this._parentChangeSubscription=Jt.a.EMPTY;const r=e.accordion?e.accordion._stateChanges.pipe(Object(St.a)(e=>!(!e.hideToggle&&!e.togglePosition))):be.a;this._parentChangeSubscription=Object(I.a)(e.opened,e.closed,r,e._inputChanges.pipe(Object(St.a)(e=>!!(e.hideToggle||e.disabled||e.togglePosition)))).subscribe(()=>this._changeDetectorRef.markForCheck()),e.closed.pipe(Object(St.a)(()=>e._containsFocus())).subscribe(()=>n.focusVia(t,"program")),o&&(this.expandedHeight=o.expandedHeight,this.collapsedHeight=o.collapsedHeight)}get disabled(){return this.panel.disabled}_toggle(){this.disabled||this.panel.toggle()}_isExpanded(){return this.panel.expanded}_getExpandedState(){return this.panel._getExpandedState()}_getPanelId(){return this.panel.id}_getTogglePosition(){return this.panel.togglePosition}_showToggle(){return!this.panel.hideToggle&&!this.panel.disabled}_getHeaderHeight(){const e=this._isExpanded();return e&&this.expandedHeight?this.expandedHeight:!e&&this.collapsedHeight?this.collapsedHeight:null}_keydown(e){switch(e.keyCode){case It.m:case It.e:Object(It.r)(e)||(e.preventDefault(),this._toggle());break;default:return void(this.panel.accordion&&this.panel.accordion._handleHeaderKeydown(e))}}focus(e="program",t){this._focusMonitor.focusVia(this._element,e,t)}ngAfterViewInit(){this._focusMonitor.monitor(this._element).subscribe(e=>{e&&this.panel.accordion&&this.panel.accordion._handleHeaderFocus(this)})}ngOnDestroy(){this._parentChangeSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._element)}}return e.\u0275fac=function(t){return new(t||e)(a.Ob(ko,1),a.Ob(a.l),a.Ob(c.h),a.Ob(a.h),a.Ob(wo,8),a.Ob(l.a,8))},e.\u0275cmp=a.Ib({type:e,selectors:[["mat-expansion-panel-header"]],hostAttrs:["role","button",1,"mat-expansion-panel-header","mat-focus-indicator"],hostVars:15,hostBindings:function(e,t){1&e&&a.cc("click",function(){return t._toggle()})("keydown",function(e){return t._keydown(e)}),2&e&&(a.Db("id",t.panel._headerId)("tabindex",t.disabled?-1:0)("aria-controls",t._getPanelId())("aria-expanded",t._isExpanded())("aria-disabled",t.panel.disabled),a.Ic("height",t._getHeaderHeight()),a.Gb("mat-expanded",t._isExpanded())("mat-expansion-toggle-indicator-after","after"===t._getTogglePosition())("mat-expansion-toggle-indicator-before","before"===t._getTogglePosition())("_mat-animation-noopable","NoopAnimations"===t._animationMode))},inputs:{expandedHeight:"expandedHeight",collapsedHeight:"collapsedHeight"},ngContentSelectors:Co,decls:5,vars:1,consts:[[1,"mat-content"],["class","mat-expansion-indicator",4,"ngIf"],[1,"mat-expansion-indicator"]],template:function(e,t){1&e&&(a.mc(bo),a.Ub(0,"span",0),a.lc(1),a.lc(2,1),a.lc(3,2),a.Tb(),a.Lc(4,mo,1,1,"span",1)),2&e&&(a.Cb(4),a.nc("ngIf",t._showToggle()))},directives:[k.l],styles:['.mat-expansion-panel-header{display:flex;flex-direction:row;align-items:center;padding:0 24px;border-radius:inherit;transition:height 225ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-expansion-panel-header._mat-animation-noopable{transition:none}.mat-expansion-panel-header:focus,.mat-expansion-panel-header:hover{outline:none}.mat-expansion-panel-header.mat-expanded:focus,.mat-expansion-panel-header.mat-expanded:hover{background:inherit}.mat-expansion-panel-header:not([aria-disabled=true]){cursor:pointer}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before{flex-direction:row-reverse}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 16px 0 0}[dir=rtl] .mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 0 0 16px}.mat-content{display:flex;flex:1;flex-direction:row;overflow:hidden}.mat-expansion-panel-header-title,.mat-expansion-panel-header-description{display:flex;flex-grow:1;margin-right:16px}[dir=rtl] .mat-expansion-panel-header-title,[dir=rtl] .mat-expansion-panel-header-description{margin-right:0;margin-left:16px}.mat-expansion-panel-header-description{flex-grow:2}.mat-expansion-indicator::after{border-style:solid;border-width:0 2px 2px 0;content:"";display:inline-block;padding:3px;transform:rotate(45deg);vertical-align:middle}\n'],encapsulation:2,data:{animation:[yo.indicatorRotate]},changeDetection:0}),e})(),Po=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=a.Jb({type:e,selectors:[["mat-panel-title"]],hostAttrs:[1,"mat-expansion-panel-header-title"]}),e})(),To=(()=>{class e extends so{constructor(){super(...arguments),this._ownHeaders=new a.E,this._hideToggle=!1,this.displayMode="default",this.togglePosition="after"}get hideToggle(){return this._hideToggle}set hideToggle(e){this._hideToggle=Object(s.b)(e)}ngAfterContentInit(){this._headers.changes.pipe(Object(D.a)(this._headers)).subscribe(e=>{this._ownHeaders.reset(e.filter(e=>e.panel.accordion===this)),this._ownHeaders.notifyOnChanges()}),this._keyManager=new c.g(this._ownHeaders).withWrap().withHomeAndEnd()}_handleHeaderKeydown(e){this._keyManager.onKeydown(e)}_handleHeaderFocus(e){this._keyManager.updateActiveItem(e)}ngOnDestroy(){super.ngOnDestroy(),this._ownHeaders.destroy()}}return e.\u0275fac=function(t){return So(t||e)},e.\u0275dir=a.Jb({type:e,selectors:[["mat-accordion"]],contentQueries:function(e,t,n){if(1&e&&a.Hb(n,Ao,!0),2&e){let e;a.xc(e=a.dc())&&(t._headers=e)}},hostAttrs:[1,"mat-accordion"],hostVars:2,hostBindings:function(e,t){2&e&&a.Gb("mat-accordion-multi",t.multi)},inputs:{multi:"multi",displayMode:"displayMode",togglePosition:"togglePosition",hideToggle:"hideToggle"},exportAs:["matAccordion"],features:[a.Bb([{provide:_o,useExisting:e}]),a.zb]}),e})();const So=a.Wb(To);let Io=(()=>{class e{}return e.\u0275mod=a.Mb({type:e}),e.\u0275inj=a.Lb({factory:function(t){return new(t||e)},imports:[[k.c,r.h,po,At.g]]}),e})();var Mo=n("MutI");function Do(e,t){if(1&e&&(a.Sb(0),a.Ub(1,"span",3),a.Nc(2),a.Tb(),a.Rb()),2&e){const e=a.gc().$implicit;a.Cb(2),a.Oc(e.key)}}function Ro(e,t){if(1&e){const e=a.Vb();a.Sb(0),a.Ub(1,"mat-form-field",4),a.Ub(2,"input",5),a.cc("input",function(t){a.Bc(e);const n=a.gc().$implicit;return a.gc().onInputChanged(n,t)}),a.Tb(),a.Tb(),a.Rb()}if(2&e){const e=a.gc().$implicit,t=a.gc();a.Cb(2),a.nc("value",t.multiInputparams.defaultValues&&t.multiInputparams.defaultValues[e.key])}}function Lo(e,t){if(1&e&&(a.Sb(0),a.Lc(1,Do,3,1,"ng-container",2),a.Lc(2,Ro,3,1,"ng-container",2),a.Rb()),2&e){const e=t.$implicit;a.Cb(1),a.nc("ngIf","text"===e.type),a.Cb(1),a.nc("ngIf","input"===e.type)}}let Eo=(()=>{class e{constructor(){this.textInputChange=new a.n}ngOnInit(){this.getRenderElements()}getRenderElements(){this.renderElements=[];const e=/{\w*}/g,t=this.multiInputparams.text.split(e),n=this.multiInputparams.text.match(e);for(let i=0;i<t.length;i++)this.renderElements.push({type:"text",key:t[i]}),n&&i<n.length&&this.renderElements.push({type:"input",key:n[i].slice(1,-1)})}onInputChanged(e,t){this.textInputChange.emit({inputKey:e.key,value:Number(t.target.value)})}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=a.Ib({type:e,selectors:[["epop-multi-input-text"]],inputs:{multiInputparams:"multiInputparams"},outputs:{textInputChange:"textInputChange"},decls:2,vars:1,consts:[[1,"multi-input-text"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"multi-input-text__text"],[1,"multi-input-text__input"],["matInput","","type","number",3,"value","input"]],template:function(e,t){1&e&&(a.Ub(0,"div",0),a.Lc(1,Lo,3,2,"ng-container",1),a.Tb()),2&e&&(a.Cb(1),a.nc("ngForOf",t.renderElements))},directives:[k.k,k.l,fe,Ae],styles:[".multi-input-text__text[_ngcontent-%COMP%]{height:12px}.multi-input-text__input[_ngcontent-%COMP%]{width:4rem;text-align:end;height:12px;margin-bottom:0;margin-top:-12px}"]}),e})();var jo=n("f0Cb");function Uo(e,t){if(1&e){const e=a.Vb();a.Ub(0,"div",18),a.Ub(1,"input",19),a.cc("change",function(t){a.Bc(e);const n=a.gc().$implicit;return a.gc(4).onConstraintStateChanged(n,t)}),a.Tb(),a.Tb()}if(2&e){const e=a.gc().$implicit;a.Cb(1),a.nc("checked",e.getIsEnable())}}const Bo=function(e,t){return{text:e,defaultValues:t}};function Vo(e,t){if(1&e){const e=a.Vb();a.Sb(0),a.Ub(1,"epop-multi-input-text",20),a.cc("textInputChange",function(t){a.Bc(e);const n=a.gc().$implicit;return a.gc(4).onTextInputChange(n,t)}),a.Tb(),a.Rb()}if(2&e){const e=a.gc().$implicit;a.Cb(1),a.nc("multiInputparams",a.qc(1,Bo,e.getDescription()+"",e.getParams()))}}function Fo(e,t){if(1&e&&(a.Sb(0),a.Ub(1,"p"),a.Nc(2),a.Tb(),a.Rb()),2&e){const e=a.gc().$implicit;a.Cb(2),a.Pc(" ",e.getDescription()," ")}}function No(e,t){if(1&e&&(a.Sb(0),a.Ub(1,"span",22),a.Nc(2),a.Tb(),a.Ub(3,"span",23),a.Nc(4),a.Tb(),a.Rb()),2&e){const e=a.gc().$implicit;a.Cb(2),a.Pc(" ",e.label," "),a.Cb(2),a.Pc(" ",e.value," ")}}function qo(e,t){if(1&e&&(a.Ub(0,"div",21),a.Lc(1,No,5,2,"ng-container",16),a.Tb()),2&e){const e=t.$implicit;a.Cb(1),a.nc("ngIf",void 0!==e.value)}}function zo(e,t){1&e&&a.Pb(0,"mat-divider")}function Go(e,t){if(1&e&&(a.Ub(0,"mat-list"),a.Ub(1,"mat-list-item"),a.Ub(2,"div",11),a.Lc(3,Uo,2,1,"div",12),a.Ub(4,"div",13),a.Ub(5,"span",14),a.Nc(6),a.Tb(),a.Ub(7,"span",15),a.Lc(8,Vo,2,4,"ng-container",16),a.Lc(9,Fo,3,1,"ng-container",16),a.Tb(),a.Lc(10,qo,2,1,"div",17),a.Tb(),a.Tb(),a.Tb(),a.Lc(11,zo,1,0,"mat-divider",16),a.Tb()),2&e){const e=t.$implicit,n=t.last,i=a.gc(4);a.Cb(2),a.Gb("epop-constraint-list-dialog__content__item--disabled",!i.isItemEnable(e)),a.Cb(1),a.nc("ngIf",!e.getIsMandatory()),a.Cb(3),a.Pc(" ",e.getLabel()," "),a.Cb(2),a.nc("ngIf",e.getParams()),a.Cb(1),a.nc("ngIf",!e.getParams()),a.Cb(1),a.nc("ngForOf",i.getParameterList(e)),a.Cb(1),a.nc("ngIf",!n)}}function Ho(e,t){if(1&e&&(a.Ub(0,"mat-expansion-panel",10),a.Ub(1,"mat-expansion-panel-header"),a.Ub(2,"mat-panel-title"),a.Nc(3),a.Tb(),a.Tb(),a.Lc(4,Go,12,8,"mat-list",6),a.Tb()),2&e){const e=t.$implicit,n=a.gc().$implicit;a.nc("expanded",!0),a.Cb(3),a.Qc(" ",n.getCategoryLabel()," (",e.length,") "),a.Cb(1),a.nc("ngForOf",e)}}function Yo(e,t){if(1&e&&(a.Sb(0),a.Lc(1,Ho,5,4,"mat-expansion-panel",9),a.Rb()),2&e){const e=t.$implicit,n=a.gc(2);a.Cb(1),a.nc("ngIf",n.getConstraintList(e))}}function Ko(e,t){if(1&e){const e=a.Vb();a.Sb(0),a.Ub(1,"epop-app-dialog",1),a.Ub(2,"epop-app-dialog-content",2),a.Ub(3,"epop-search-input-field",3),a.cc("ngModelChange",function(t){return a.Bc(e),a.gc().constraintSearchText=t})("ngModelChange",function(){return a.Bc(e),a.gc().onFilterChanged()}),a.Tb(),a.Ub(4,"div",4),a.Ub(5,"mat-accordion",5),a.Lc(6,Yo,2,1,"ng-container",6),a.Tb(),a.Tb(),a.Tb(),a.Ub(7,"epop-app-dialog-actions"),a.Ub(8,"button",7),a.cc("click",function(){return a.Bc(e),a.gc().dialogRef.close()}),a.Nc(9),a.Tb(),a.Ub(10,"button",8),a.cc("click",function(){return a.Bc(e),a.gc().onSaveExit()}),a.Nc(11),a.Tb(),a.Tb(),a.Tb(),a.Rb()}if(2&e){const e=t.$implicit,n=a.gc();a.Cb(1),a.nc("dialogTitle",e("planningGenerator.planning.model.constraint.title")),a.Cb(2),a.nc("ngModel",n.constraintSearchText)("placeholder",e("planningGenerator.planning.model.constraint.search")),a.Cb(3),a.nc("ngForOf",n.filteredCategoriesList),a.Cb(3),a.Oc(e("common.cancel")),a.Cb(2),a.Oc(e("common.save"))}}let Wo=(()=>{class e{constructor(e,t,n,i,o){this.dialogRef=e,this.planningConstraintsQuery=t,this.planningConstraintCategoriesQuery=n,this.planningConstraintsStore=i,this.translocoService=o,this.constraintSearchText="",this.subscriptions=[],this.constraintsList={},this.constraintCategoriesList=[],this.updatedConstraintParamList=[],this.updatedConstraintStateList=[],this.filteredConstraintsList=[],this.filteredCategoriesList=[]}ngOnInit(){this.subscriptions.push(this.planningConstraintCategoriesQuery.selectAllWithConstaints().subscribe(e=>this.constraintsList=e)),this.subscriptions.push(this.planningConstraintCategoriesQuery.selectAll().subscribe(e=>this.constraintCategoriesList=e))}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}onFilterChanged(){if(this.constraintSearchText&&this.constraintSearchText.length>2){for(const e in this.constraintsList)Object.prototype.hasOwnProperty.call(this.constraintsList,e)&&(this.filteredConstraintsList[e]=this.constraintsList[e].filter(e=>Qi.a.matchTextSearch(e,this.constraintSearchText)));this.filteredCategoriesList=this.constraintCategoriesList.filter(e=>this.filteredConstraintsList[e.getId()].length>0)}else this.filteredConstraintsList=Object.assign({},this.constraintsList),this.filteredCategoriesList=this.constraintCategoriesList}getConstraintList(e){return this.filteredConstraintsList[e.getId()]}getParameterList(e){return[{label:this.translocoService.translate("planningGenerator.planning.model.planningConstrainst.filtre"),value:e.getFiltre()},{label:this.translocoService.translate("planningGenerator.planning.model.planningConstrainst.weight"),value:e.getWeight()},{label:this.translocoService.translate("planningGenerator.planning.model.planningConstrainst.period"),value:this.getPeriodLabel(e)}]}getPeriodLabel(e){const t=e.getPeriod().map(e=>e&&Ci.a.toShortDate(e));return void 0!==t[0]&&void 0!==t[1]?this.translocoService.translate("common.date.period",{startDate:t[0],endDate:t[1]}):void 0}onTextInputChange(e,t){var n;const i=null!==(n=this.updatedConstraintParamList[e.getId()])&&void 0!==n?n:{};i[t.inputKey]=t.value,this.updatedConstraintParamList[e.getId()]=i}isItemEnable(e){const t=this.updatedConstraintStateList[e.getId()];return void 0!==t?t:e.getIsEnable()}onConstraintStateChanged(e,t){const n=t.target;this.updatedConstraintStateList[e.getId()]=n.checked}onSaveExit(){for(const e in this.updatedConstraintParamList)if(this.updatedConstraintParamList.hasOwnProperty(e)){const t=this.updatedConstraintParamList[e];this.planningConstraintsStore.setConstraintParamValue(Number(e),t)}for(const e in this.updatedConstraintStateList)if(this.updatedConstraintStateList.hasOwnProperty(e)){const t=this.updatedConstraintStateList[e];this.planningConstraintsStore.setConstraintStateValue(Number(e),t)}this.dialogRef.close()}}return e.\u0275fac=function(t){return new(t||e)(a.Ob(Bt),a.Ob($i),a.Ob(to),a.Ob(Ji),a.Ob(w.i))},e.\u0275cmp=a.Ib({type:e,selectors:[["epop-constraint-list-dialog"]],decls:1,vars:0,consts:[[4,"transloco"],["dialogSize","medium",1,"epop-constraint-list-dialog",3,"dialogTitle"],["fxLayout","column",1,"epop-constraint-list-dialog__content"],["suffixSvgIcon","mdi/magnify",3,"ngModel","placeholder","ngModelChange"],[1,"epop-constraint-list-dialog__content__list"],["multi","",1,"epop-constraint-list-dialog__content__accordion"],[4,"ngFor","ngForOf"],["mat-stroked-button","",3,"click"],["mat-flat-button","","color","primary",3,"click"],[3,"expanded",4,"ngIf"],[3,"expanded"],[1,"epop-constraint-list-dialog__content__item"],["class","epop-constraint-list-dialog__content__item__left-actions",4,"ngIf"],[1,"epop-constraint-list-dialog__content__item__content-panel"],[1,"epop-constraint-list-dialog__content__accordion__title"],[1,"epop-constraint-list-dialog__content__accordion__desc"],[4,"ngIf"],["class","epop-constraint-list-dialog__content__accordion__params",4,"ngFor","ngForOf"],[1,"epop-constraint-list-dialog__content__item__left-actions"],["type","checkbox",1,"mat-checkbox-input",3,"checked","change"],[3,"multiInputparams","textInputChange"],[1,"epop-constraint-list-dialog__content__accordion__params"],[1,"epop-constraint-list-dialog__content__accordion__params__title"],[1,"epop-constraint-list-dialog__content__accordion__description"]],template:function(e,t){1&e&&a.Lc(0,Ko,12,6,"ng-container",0)},directives:[w.g,Pi,Ti,wt.c,oo,i.o,i.r,To,k.k,Si,P.a,k.l,ko,Ao,Po,Mo.a,Mo.b,Eo,jo.a],styles:[".epop-constraint-list-dialog__content[_ngcontent-%COMP%]{width:100%;overflow:hidden;height:50vh}.epop-constraint-list-dialog__content__list[_ngcontent-%COMP%]{overflow:auto;height:100%}.epop-constraint-list-dialog__content__accordion[_ngcontent-%COMP%]   mat-expansion-panel[_ngcontent-%COMP%]{border-radius:0;box-shadow:none}.epop-constraint-list-dialog__content__accordion[_ngcontent-%COMP%]   mat-expansion-panel[_ngcontent-%COMP%]   mat-expansion-panel-header[_ngcontent-%COMP%]{height:60px;display:flex;justify-content:center;line-height:1.8rem;font-weight:600;background:#f8f8f8}.epop-constraint-list-dialog__content__accordion[_ngcontent-%COMP%]   mat-expansion-panel[_ngcontent-%COMP%]   mat-list-item-content[_ngcontent-%COMP%]{line-height:1.3rem}.epop-constraint-list-dialog__content__accordion[_ngcontent-%COMP%]   mat-expansion-panel[_ngcontent-%COMP%]   mat-list-item[_ngcontent-%COMP%]{height:auto;margin:8px 0}.epop-constraint-list-dialog__content__accordion[_ngcontent-%COMP%]   mat-expansion-panel[_ngcontent-%COMP%]     .mat-list-item-content{display:flex;flex-direction:column;justify-content:flex-start;align-items:baseline}.epop-constraint-list-dialog__content__accordion[_ngcontent-%COMP%]   mat-expansion-panel[_ngcontent-%COMP%]     .mat-list-item-content .epop-constraint-list-dialog__content__accordion__title{display:block;font-size:1.2rem;font-weight:600;margin-bottom:8px}.epop-constraint-list-dialog__content__accordion[_ngcontent-%COMP%]   mat-expansion-panel[_ngcontent-%COMP%]     .mat-list-item-content .epop-constraint-list-dialog__content__accordion__desc{margin-bottom:8px;display:block;line-height:1.8rem}.epop-constraint-list-dialog__content__accordion[_ngcontent-%COMP%]   mat-expansion-panel[_ngcontent-%COMP%]   .epop-constraint-list-dialog__content__accordion__params__title[_ngcontent-%COMP%]{width:90px;display:inline-block;font-weight:600}.epop-constraint-list-dialog__content__item[_ngcontent-%COMP%]{display:flex}.epop-constraint-list-dialog__content__item--disabled[_ngcontent-%COMP%]{opacity:.4}.epop-constraint-list-dialog__content__item__left-actions[_ngcontent-%COMP%]{width:28px}.epop-constraint-list-dialog__content__item__content-panel[_ngcontent-%COMP%]{flex:1}"],changeDetection:0}),e})();var Qo;let Xo=(()=>{let e=Qo=class extends Xi.d{constructor(){super(Qo.createInitialState())}static createInitialState(){return{cellContentType:"shifts",planningType:"planned"}}setCellContentType(e){this.update(t=>Object.assign(Object.assign({},t),{cellContentType:e}))}setPlanningType(e){this.update(t=>Object.assign(Object.assign({},t),{planningType:e}))}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=a.Kb({token:e,factory:e.\u0275fac,providedIn:"root"}),e=Qo=Object(Zi.a)([Object(Xi.e)({name:"planningEditionContextStore"})],e),e})();var Zo=n("5G22");let Jo=(()=>{class e{constructor(e){e&&Vi.a.copyObjectAttributes(this,e)}getDate(){return this.date}getId(){return this.id}getShiftId(){return this.shift}getIsDesired(){return this.isDesired}getIsPriority(){return this.isPriority}getIsFrozen(){return this.isFrozen}setFrozen(e){this.isFrozen=e}setIsDesired(e){this.isDesired=e}setIsPriority(e){this.isPriority=e}setShiftId(e){this.shift=e}}return Object(Zi.a)([Object(Zo.i)(Object(Zo.d)())],e.prototype,"id",void 0),Object(Zi.a)([Object(Zo.i)(Object(Zo.a)())],e.prototype,"date",void 0),Object(Zi.a)([Object(Zo.i)(Object(Zo.g)(Fi.a))],e.prototype,"shift",void 0),Object(Zi.a)([Zo.i],e.prototype,"isDesired",void 0),Object(Zi.a)([Zo.i],e.prototype,"isPriority",void 0),Object(Zi.a)([Zo.i],e.prototype,"isFrozen",void 0),e})(),$o=(()=>{let e=class extends Xi.a{constructor(){super()}setResourceAffectationFreeze(e,t){this.update(e,e=>{const n=new Jo(e);return n.setFrozen(t),n})}setResourceAffectationDesire(e,t){this.update(e,e=>{const n=new Jo(e);return n.setIsDesired(t),n})}setResourceAffectationPriority(e,t){this.update(e,e=>{const n=new Jo(e);return n.setIsPriority(t),n})}removeResourceAffectation(e){this.remove(e)}updateResourceShift(e,t){this.update(e,e=>{const n=new Jo(e);return n.setShiftId(t),n.setFrozen(!1),n.setIsDesired(!1),n})}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=a.Kb({token:e,factory:e.\u0275fac,providedIn:"root"}),e=Object(Zi.a)([Object(Xi.e)({name:"resource-affectations"})],e),e})(),ea=(()=>{class e{constructor(e){e&&Vi.a.copyObjectAttributes(this,e)}getId(){return this.id}getResourceAffectationId(){return"event"===this.dayType?this.dayEvent:this.workAffectation}getDayType(){return this.dayType}setDayAffectation(e,t){switch(this.dayType=e,e){case"event":this.dayEvent=t.getId(),this.workAffectation=void 0;break;case"workAffectation":this.dayEvent=void 0,this.workAffectation=t.getId()}}removeDayAffectation(){this.dayType=void 0,this.dayEvent=void 0,this.workAffectation=void 0}setDayEvent(e){this.dayEvent=e}setDayType(e){this.dayType=e}}return Object(Zi.a)([Object(Zo.i)(Object(Zo.d)())],e.prototype,"id",void 0),Object(Zi.a)([Object(Zo.i)(Object(Zo.g)(Jo))],e.prototype,"workAffectation",void 0),Object(Zi.a)([Object(Zo.i)(Object(Zo.g)(Jo))],e.prototype,"dayEvent",void 0),Object(Zi.a)([Zo.i],e.prototype,"dayType",void 0),e})();var ta=n("4Qvl");let na=(()=>{class e{constructor(e,t=!1){this.planning={},e&&Vi.a.copyObjectAttributes(this,e,t)}getId(){return this.id}getResourceId(){return this.resource}getResourceName(){return this.resource.toString()}getPlanning(){return this.planning}getAllDayAffectationIds(){return Object.values(this.planning)}getResourceDayAffectations(e){return this.planning[Ci.a.toHashString(e)]}setResourceDayAffectations(e,t){this.planning[Ci.a.toHashString(e)]=t}removeResourceDayAffectations(e){this.planning[Ci.a.toHashString(e)]=void 0}setPlanning(e){return this.planning=e}}return Object(Zi.a)([Object(Zo.i)(Object(Zo.d)())],e.prototype,"id",void 0),Object(Zi.a)([Object(Zo.i)(Object(Zo.g)(ta.a))],e.prototype,"resource",void 0),Object(Zi.a)([Object(Zo.i)(Object(Zo.f)(Object(Zo.g)(ea)))],e.prototype,"planning",void 0),e})(),ia=(()=>{let e=class extends Xi.a{constructor(){super()}setAffectation(e,t,n){this.update(e,e=>{const i=new ea(e);return i.setDayAffectation(n,t),i})}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=a.Kb({token:e,factory:e.\u0275fac,providedIn:"root"}),e=Object(Zi.a)([Object(Xi.e)({name:"resource-day-affectations"})],e),e})(),oa=(()=>{class e extends Xi.c{constructor(e){super(e),this.store=e}}return e.\u0275fac=function(t){return new(t||e)(a.Yb($o))},e.\u0275prov=a.Kb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),aa=(()=>{class e extends Xi.c{constructor(e,t){super(e),this.store=e,this.resourceAffectationsQuery=t}selectResourceAffectation(e,t){return this.selectEntity(e).pipe(Object(Hn.a)(e=>{if(e&&e.getDayType()===t){const t=e.getResourceAffectationId();return this.resourceAffectationsQuery.selectEntity(t)}return Object(Tt.a)(void 0)}))}}return e.\u0275fac=function(t){return new(t||e)(a.Yb(ia),a.Yb(oa))},e.\u0275prov=a.Kb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),ra=(()=>{let e=class extends Xi.a{constructor(e,t,n){super(),this.resourceDayAffectationsStore=e,this.resourceAffectationsStore=t,this.resourceDayAffectationsQuery=n}addResourceAffectations(e,t,n,i){this.update(e,e=>{const o=new na(e,!0);let a=o.getResourceDayAffectations(t);if(void 0===a){const e=new ea({id:Vi.a.generateUniqueId()});this.resourceDayAffectationsStore.add(e),o.setResourceDayAffectations(t,e.getId()),a=e.getId()}return this.resourceDayAffectationsStore.setAffectation(a,n,i),o})}removeResourceDayAffectations(e,t){this.update(e,e=>{const n=new na(e,!0),i=n.getResourceDayAffectations(t),o=this.resourceDayAffectationsQuery.getEntity(i).getResourceAffectationId();return this.resourceAffectationsStore.removeResourceAffectation(o),this.resourceDayAffectationsStore.remove(i),n.removeResourceDayAffectations(t),n})}};return e.\u0275fac=function(t){return new(t||e)(a.Yb(ia),a.Yb($o),a.Yb(aa))},e.\u0275prov=a.Kb({token:e,factory:e.\u0275fac,providedIn:"root"}),e=Object(Zi.a)([Object(Xi.e)({name:"resource-plannings"})],e),e})(),sa=(()=>{let e=class extends Xi.a{constructor(e,t){super(),this.resourceAffectationsStore=e,this.resourcePlanningsStore=t}addResourceAffectation(e,t,n,i){this.resourceAffectationsStore.add(n),this.resourcePlanningsStore.addResourceAffectations(e,t,n,i)}removeResourceAffectation(e,t){this.resourcePlanningsStore.removeResourceDayAffectations(e,t)}};return e.\u0275fac=function(t){return new(t||e)(a.Yb($o),a.Yb(ra))},e.\u0275prov=a.Kb({token:e,factory:e.\u0275fac,providedIn:"root"}),e=Object(Zi.a)([Object(Xi.e)({name:"team-plannings"})],e),e})(),la=(()=>{let e=class extends Xi.a{constructor(){super()}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=a.Kb({token:e,factory:e.\u0275fac,providedIn:"root"}),e=Object(Zi.a)([Object(Xi.e)({name:"persons"})],e),e})(),ca=(()=>{class e extends Xi.c{constructor(e){super(e),this.store=e}}return e.\u0275fac=function(t){return new(t||e)(a.Yb(la))},e.\u0275prov=a.Kb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),da=(()=>{class e extends Xi.c{constructor(e,t){super(e),this.store=e,this.personQuery=t}getResource(e){return void 0!==e?this.personQuery.getEntity(e):void 0}selectPlanningResources(e){return this.selectAll({filterBy:t=>e.getResourcePlanningsIds().indexOf(t.getId())>-1})}}return e.\u0275fac=function(t){return new(t||e)(a.Yb(ra),a.Yb(ca))},e.\u0275prov=a.Kb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),pa=(()=>{class e extends Xi.c{constructor(e,t){super(e),this.store=e,this.resourcePlanningQuery=t}selectResourcePlannings(e){return this.selectEntity(e).pipe(Object(Hn.a)(e=>this.resourcePlanningQuery.selectAll({filterBy:t=>(null==e?void 0:e.getResourcePlanningsIds().indexOf(t.getId()))>-1})))}selectActivePlanningPeriodDates(){return this.selectActive().pipe(Object(Yn.a)(e=>null==e?void 0:e.getPeriod()))}}return e.\u0275fac=function(t){return new(t||e)(a.Yb(sa),a.Yb(da))},e.\u0275prov=a.Kb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var ha=n("Xa2L");function ua(e,t){1&e&&(a.Ub(0,"button",2),a.Pb(1,"mat-progress-spinner",3),a.Tb())}function ga(e,t){if(1&e){const e=a.Vb();a.Sb(0),a.Ub(1,"button",16),a.cc("click",function(){return a.Bc(e),a.gc(2).onSaveExit()}),a.Nc(2),a.Tb(),a.Rb()}if(2&e){const e=a.gc().$implicit;a.Cb(2),a.Oc(e("simulate"))}}function fa(e,t){if(1&e){const e=a.Vb();a.Sb(0),a.Ub(1,"epop-app-dialog",4),a.Ub(2,"epop-app-dialog-content",5),a.Ub(3,"h2"),a.Nc(4),a.Tb(),a.Ub(5,"div",6),a.Ub(6,"div"),a.Ub(7,"div",7),a.Ub(8,"mat-label",8),a.Nc(9),a.Tb(),a.Ub(10,"mat-form-field",9),a.Ub(11,"input",10),a.cc("ngModelChange",function(t){return a.Bc(e),a.gc().startDate=t}),a.Tb(),a.Tb(),a.Tb(),a.Ub(12,"div",7),a.Ub(13,"mat-label",8),a.Nc(14),a.Tb(),a.Ub(15,"mat-form-field",9),a.Ub(16,"input",10),a.cc("ngModelChange",function(t){return a.Bc(e),a.gc().endDate=t}),a.Tb(),a.Tb(),a.Tb(),a.Tb(),a.Ub(17,"div",11),a.Ub(18,"input",12),a.cc("ngModelChange",function(t){return a.Bc(e),a.gc().checkBox=t}),a.Tb(),a.Ub(19,"mat-label",13),a.Nc(20),a.Tb(),a.Tb(),a.Tb(),a.Tb(),a.Ub(21,"epop-app-dialog-actions"),a.Ub(22,"button",14),a.cc("click",function(){return a.Bc(e),a.gc().dialogRef.close()}),a.Nc(23),a.Tb(),a.Lc(24,ga,3,1,"ng-container",15),a.Tb(),a.Tb(),a.Rb()}if(2&e){const e=t.$implicit,n=a.gc(),i=a.yc(1);a.Cb(1),a.nc("dialogTitle",e("title")),a.Cb(3),a.Oc(e("period")),a.Cb(5),a.Oc(e("start")),a.Cb(2),a.nc("ngModel",n.startDate),a.Cb(3),a.Oc(e("end")),a.Cb(2),a.nc("ngModel",n.endDate),a.Cb(2),a.nc("checked",n.checkBox)("ngModel",n.checkBox),a.Cb(2),a.Oc(e("alreadyPlanned")),a.Cb(3),a.Oc(e("cancel")),a.Cb(1),a.nc("ngIf",!n.loading)("ngIfElse",i)}}let ma=(()=>{class e{constructor(e,t,n,i,o){this.dialogRef=e,this.translocoService=t,this.planningEditionContextStore=n,this.teamPlanningsQuery=i,this.router=o,this.subscriptions=[]}ngOnInit(){this.checkBox=!1,this.loading=!1,this.subscriptions.push(this.teamPlanningsQuery.selectActivePlanningPeriodDates().subscribe(e=>{e&&e.length>1&&(this.startDate=Ci.a.toInputString(e[0]),this.endDate=Ci.a.toInputString(e[1]))}))}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}onSaveExit(){this.loading=!0,setTimeout(()=>{this.dialogRef.close(),this.loading=!1,this.planningEditionContextStore.setPlanningType("generated")},5e3)}}return e.\u0275fac=function(t){return new(t||e)(a.Ob(Bt),a.Ob(w.i),a.Ob(Xo),a.Ob(pa),a.Ob(Ki.b))},e.\u0275cmp=a.Ib({type:e,selectors:[["epop-planning-generator-dialog"]],decls:3,vars:1,consts:[["loadingButton",""],[4,"transloco","translocoRead"],["mat-flat-button","","color","primary",1,"loading-button"],["mode","indeterminate","diameter","24","strokeWidth","2"],["dialogSize","medium",1,"epop-planning-generator-dialog",3,"dialogTitle"],["fxLayout","column",1,"epop-planning-generator-dialog__content"],["fxLayout","row","fxLayoutAlign","flex-start flex-start",1,"epop-planning-generator-dialog__content__columns"],[1,"form-row"],[1,"form-row__label"],[1,"form-row__input"],["matInput","","type","date",3,"ngModel","ngModelChange"],["fxLayout","row","fxLayoutAlign","flex-start flex-start"],["type","checkbox",1,"mat-checkbox-input",3,"checked","ngModel","ngModelChange"],[1,"labelAfterSlide"],["mat-stroked-button","",3,"click"],[4,"ngIf","ngIfElse"],["mat-flat-button","","color","primary",3,"click"]],template:function(e,t){1&e&&(a.Lc(0,ua,2,0,"ng-template",null,0,a.Mc),a.Lc(2,fa,25,12,"ng-container",1)),2&e&&(a.Cb(2),a.nc("translocoRead","planningGenerator.planning.planningGeneratorDialog"))},directives:[w.g,P.a,ha.a,Pi,Ti,wt.c,wt.b,ae,fe,Ae,i.d,i.o,i.r,i.a,Si,k.l],styles:[".epop-planning-generator-dialog__content[_ngcontent-%COMP%]{width:100%}.epop-planning-generator-dialog__content__columns[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{padding-right:3rem;flex:1}.epop-planning-generator-dialog__content__columns[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:baseline}.epop-planning-generator-dialog__content__columns[_ngcontent-%COMP%]   .form-row__label[_ngcontent-%COMP%]{flex:1}.epop-planning-generator-dialog__content__columns[_ngcontent-%COMP%]   .form-row__input[_ngcontent-%COMP%]{flex:2}.epop-planning-generator-dialog__content__columns[_ngcontent-%COMP%]   .labelAfterSlide[_ngcontent-%COMP%]{padding-left:2rem}.epop-planning-generator-dialog__content__columns[_ngcontent-%COMP%]   .mat-input-element[type=date][_ngcontent-%COMP%]{line-height:1.5rem}.epop-planning-generator-dialog[_ngcontent-%COMP%]   .loading-button[_ngcontent-%COMP%]{height:3.4rem}.epop-planning-generator-dialog[_ngcontent-%COMP%]     .mat-progress-spinner circle{stroke:#fff}"]}),e})();var ba=n("COCr"),Ca=n("32Ea"),_a=n("SxV6"),va=n("vkgz"),ya=n("nYR2"),xa=n("2Vo4");let Oa=(()=>{class e{constructor(e){e&&Vi.a.copyObjectAttributes(this,e)}getId(){return this.id}getCategoryId(){return this.category}getSearchableText(){return this.label+this.description+this.filtre}getPeriod(){return[this.startPeriod,this.endPeriod]}getWeight(){return this.weight}getFiltre(){return this.filtre}getLabel(){return this.label}getDescription(){return this.description}getIsMandatory(){return this.isMandatory}getIsEnable(){return this.isEnable}getParams(){return this.params}setIsEnable(e){this.isEnable=e}setParams(e,t){this.params[e]=t}}return Object(Zi.a)([Zo.i],e.prototype,"id",void 0),Object(Zi.a)([Zo.i],e.prototype,"label",void 0),Object(Zi.a)([Zo.i],e.prototype,"description",void 0),Object(Zi.a)([Zo.i],e.prototype,"category",void 0),Object(Zi.a)([Zo.i],e.prototype,"filtre",void 0),Object(Zi.a)([Zo.i],e.prototype,"weight",void 0),Object(Zi.a)([Object(Zo.i)(Object(Zo.a)())],e.prototype,"startPeriod",void 0),Object(Zi.a)([Object(Zo.i)(Object(Zo.a)())],e.prototype,"endPeriod",void 0),Object(Zi.a)([Object(Zo.i)(Object(Zo.f)(Object(Zo.h)()))],e.prototype,"params",void 0),Object(Zi.a)([Zo.i],e.prototype,"isMandatory",void 0),Object(Zi.a)([Zo.i],e.prototype,"isEnable",void 0),e})();var wa=n("gXqy");let ka=(()=>{class e{constructor(e){e&&Vi.a.copyObjectAttributes(this,e)}toString(e){let t="";return e.valueOf()<0?t="-":e.valueOf()>0&&(t="+"),`${t} ${Ci.a.durationToString(e,0,!0)}`}getPersonId(){return this.personId}getInitialCount(){return this.initialCount}computeShiftHoursCount(e,t,n=7,i=40,o,a){const r=(Object(wa.a)(a,o)+1)/n*i*t/100;let s=this.initialCount+r;return e.forEach(e=>{e&&(s-=e.getNbHoursShiftDuration())}),s}}return Object(Zi.a)([Object(Zo.i)(Object(Zo.d)())],e.prototype,"id",void 0),Object(Zi.a)([Zo.i],e.prototype,"personId",void 0),Object(Zi.a)([Zo.i],e.prototype,"initialCount",void 0),e})();var Aa=n("XiPH");const Pa={processStrategy:e=>e.constructor?new e.constructor(e):Object.assign({},e),mergeStrategy:(e,t)=>e},Ta=new Aa.b.Entity("shifts",{},Pa),Sa=new Aa.b.Entity("persons",{},Pa),Ia=new Aa.b.Entity("resourceAffectations",{shift:Ta},Pa),Ma=new Aa.b.Entity("resourceDayAffectations",{workAffectation:Ia,dayEvent:Ia},Pa),Da=new Aa.b.Values(Ma),Ra=new Aa.b.Entity("resourcePlannings",{planning:Da,resource:Sa},Pa),La={shiftSchema:Ta,personSchema:Sa,resourceAffectationSchema:Ia,resourcePlanningSchema:Ra,teamPlanningSchema:new Aa.b.Entity("teamPlannings",{resourcePlannings:[Ra]},Pa)};var Ea=n("IjAw");let ja=(()=>{class e{constructor(e){this.resourcePlannings=[],e&&Vi.a.copyObjectAttributes(this,e)}getId(){return this.id}getResourcePlanningsIds(){return this.resourcePlannings}getName(){return this.name}getStartDate(){return this.startDate}getEndDate(){return this.endDate}getPeriod(){return[this.getStartDate(),this.getEndDate()]}getPlanningDays(){return Ci.a.getAllDays(this.getStartDate(),Object(Ea.a)(this.getEndDate(),{days:1}))}}return Object(Zi.a)([Object(Zo.i)(Object(Zo.d)())],e.prototype,"id",void 0),Object(Zi.a)([Zo.i],e.prototype,"name",void 0),Object(Zi.a)([Object(Zo.i)(Object(Zo.a)())],e.prototype,"startDate",void 0),Object(Zi.a)([Object(Zo.i)(Object(Zo.a)())],e.prototype,"endDate",void 0),Object(Zi.a)([Object(Zo.i)(Object(Zo.e)(Object(Zo.g)(na)))],e.prototype,"resourcePlannings",void 0),e})();var Ua=n("ryvB");let Ba=(()=>{class e{constructor(e){e&&Vi.a.copyObjectAttributes(this,e)}getId(){return this.id}getMinValue(){return this.minValue}}return Object(Zi.a)([Object(Zo.i)(Object(Zo.d)())],e.prototype,"id",void 0),Object(Zi.a)([Zo.i],e.prototype,"minValue",void 0),e})(),Va=(()=>{class e{constructor(e){e&&Vi.a.copyObjectAttributes(this,e)}getId(){return this.id}getName(){return this.name}setPlanning(e,t){this.planning[e]=t}getRequiredShiftId(){return this.requiredShift}}return Object(Zi.a)([Object(Zo.i)(Object(Zo.d)())],e.prototype,"id",void 0),Object(Zi.a)([Zo.i],e.prototype,"name",void 0),Object(Zi.a)([Zo.i],e.prototype,"requiredShift",void 0),Object(Zi.a)([Object(Zo.i)(Object(Zo.f)(Object(Zo.g)(Ba)))],e.prototype,"planning",void 0),e})(),Fa=(()=>{class e{constructor(e){e&&Vi.a.copyObjectAttributes(this,e)}getId(){return this.id}getCategoryLabel(){return this.categoryLabel}}return Object(Zi.a)([Zo.i],e.prototype,"id",void 0),Object(Zi.a)([Zo.i],e.prototype,"categoryLabel",void 0),e})();var Na=n("tk/3");let qa=(()=>{class e extends Ua.a{constructor(e){super(e)}getResourcePath(){return"teamPlannings"}getPlanning(e){return this.getNormalizedEntity(ja,La.teamPlanningSchema,e.toString())}getPlanningRequirement(e){return this.getEntity(Va,e.toString(),"","planning-requirements")}getPlanningResources(e){return this.getEntity(ta.a,e.toString(),"","planning-resources")}getPlanningCounters(e){return this.getEntity(ka,e.toString(),"","hours-counters")}getPlanningConstraints(e){return this.getEntity(Oa,e.toString(),"","constraints")}getPlanningConstraintCategories(e){return this.getEntity(Fa,e.toString(),"","constraints-categories")}}return e.\u0275fac=function(t){return new(t||e)(a.Yb(Na.a))},e.\u0275prov=a.Kb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var za=n("R3S3");let Ga=(()=>{let e=class extends Xi.a{constructor(){super()}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=a.Kb({token:e,factory:e.\u0275fac,providedIn:"root"}),e=Object(Zi.a)([Object(Xi.e)({name:"planning-requirements"})],e),e})(),Ha=(()=>{let e=class extends Xi.a{constructor(){super()}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=a.Kb({token:e,factory:e.\u0275fac,providedIn:"root"}),e=Object(Zi.a)([Object(Xi.e)({name:"planning-counters"})],e),e})(),Ya=(()=>{class e{constructor(e,t,n,i,o){this.resourceAffectationsStore=e,this.resourceDayAffectationsStore=t,this.resourcePlanningsStore=n,this.teamPlanningsStore=i,this.personsStore=o}setNormalizedData(e){this.resourceAffectationsStore.set(e.entities.resourceAffectations),this.resourceDayAffectationsStore.set(e.entities.resourceDayAffectations),this.resourcePlanningsStore.set(e.entities.resourcePlannings),this.teamPlanningsStore.set(e.entities.teamPlannings),this.personsStore.set(e.entities.persons)}}return e.\u0275fac=function(t){return new(t||e)(a.Yb($o),a.Yb(ia),a.Yb(ra),a.Yb(sa),a.Yb(la))},e.\u0275prov=a.Kb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),Ka=(()=>{class e extends Xi.b{constructor(e){super(e),this.store=e}getCurrentCellContentType(){return this.select("cellContentType")}getCurrentPlanningType(){return this.select("planningType")}isPeriodicPlanning(){return this.getCurrentCellContentType().pipe(Object(Yn.a)(e=>"shifts"===e))}isPlannedPlanning(){return this.getCurrentPlanningType().pipe(Object(Yn.a)(e=>"planned"===e))}}return e.\u0275fac=function(t){return new(t||e)(a.Yb(Xo))},e.\u0275prov=a.Kb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var Wa=n("sP7V");function Qa(e,t){if(1&e&&a.Pb(0,"rest-data-error",5),2&e){const e=a.gc(2);a.nc("restData",e.currentTeamPlanning)}}function Xa(e,t){1&e&&a.Pb(0,"rest-data-loading")}function Za(e,t){if(1&e&&(a.Ub(0,"epop-page-container"),a.Pb(1,"epop-page-container-header",6),a.Ub(2,"div"),a.Pb(3,"epop-shift-list",7),a.Pb(4,"epop-planning-header"),a.Pb(5,"epop-planning-grid",8),a.Tb(),a.Tb()),2&e){const e=a.gc(2);a.Cb(1),a.nc("headerActions",e.pageHeaderActions),a.Cb(2),a.nc("unitId",e.unitId),a.Cb(2),a.nc("unit",e.unitDetails)}}function Ja(e,t){1&e&&a.Qb(0)}function $a(e,t){if(1&e&&(a.Sb(0),a.Lc(1,Ja,1,0,"ng-container",9),a.Rb()),2&e){a.gc(2);const e=a.yc(2);a.Cb(1),a.nc("ngTemplateOutlet",e)}}function er(e,t){if(1&e&&(a.Sb(0),a.Lc(1,$a,2,1,"ng-container",4),a.Rb()),2&e){a.gc();const e=a.yc(6),t=a.gc();a.Cb(1),a.nc("ngIf",t.currentTeamPlanning.error)("ngIfElse",e)}}function tr(e,t){if(1&e&&(a.Sb(0),a.Lc(1,Qa,1,1,"ng-template",null,1,a.Mc),a.Lc(3,Xa,1,0,"ng-template",null,2,a.Mc),a.Lc(5,Za,6,3,"ng-template",null,3,a.Mc),a.Lc(7,er,2,2,"ng-container",4),a.Rb()),2&e){const e=a.yc(4),t=a.gc();a.Cb(7),a.nc("ngIf",!t.currentTeamPlanning.loading)("ngIfElse",e)}}let nr=(()=>{class e extends ba.a{constructor(e,t,n,i,o,a,r,s,l,c,d,p,h,u,g,f){super(f,d),this.resourcePlanningService=e,this.unitService=t,this.teamPlanningsStore=n,this.planningRequirementsStore=i,this.planningCountersStore=o,this.planningConstraintsStore=a,this.planningConstraintCategoriesStore=r,this.epopStoreManager=s,this.teamPlanningsQuery=l,this.planningEditionContextQuery=c,this.translocoService=d,this.dialog=p,this.unitDetailsQuery=h,this.cdRef=u,this.route=g,this.currentTeamPlanning=new Yi.a,this.pageHeaderActions=[{icon:"mdi/content-save",onClick:this.savePlanning.bind(this),position:"left",isDisabled:()=>!1,type:"big"},{icon:"mdi/play-circle",onClick:()=>this.openPlanningGeneratorDialog(),position:"left",isDisabled:()=>"onPreparation"!==this.planningType},{icon:"mdi/link-variant",onClick:()=>this.openConstraintDialog(),position:"left",isDisabled:()=>!1},{icon:"mdi/download",onClick:()=>this.downloadCurrentPlanning(),position:"right",isDisabled:()=>!1}],this.unitId=Number.parseInt(this.route.snapshot.paramMap.get("unitId"),10)}ngAfterViewInit(){this.fetchUnit(this.unitId),this.unitDetailsQuery.selectEntity(this.unitId).pipe(Object(Ca.a)(e=>!e),Object(_a.a)()).subscribe(e=>{this.unitDetails=e,this.updatePageTitle(),this.planningEditionContextQuery.getCurrentPlanningType().subscribe(t=>{let n;this.planningType=t,this.updateActivePlanning(null),"planned"===t?n=e.getPlannedPlanningId():"onPreparation"===t?n=e.getOnPreparationPlanningId():"generated"===t&&(n=e.getGeneratedPlanningId()),this.fetchPlanning(n),this.fetchPlanningRequirements(n),this.fetchPlanningCounters(n),this.fetchPlanningConstraints(n),this.fetchPlanningConstraintCategories(n)}),this.fetchFavoriteEventShift(this.unitId),this.fetchFavoriteShift(this.unitId),this.translocoService.selectTranslate("messages.error",{},"planningGenerator").subscribe(e=>this.serverErrorMessage=e)})}fetchUnit(e){this.unitService.getUnitDetails(e)}fetchPlanning(e){this.currentTeamPlanning.isLoading(!0).useRetry(!0).setValue(void 0),this.cdRef.detectChanges(),this.resourcePlanningService.getPlanning(e).pipe(Object(va.a)(e=>this.epopStoreManager.setNormalizedData(e)),Object(Yi.c)({restData:this.currentTeamPlanning,message:this.serverErrorMessage}),Object(va.a)(e=>{setTimeout(()=>{const t=this.getPlanning(e);this.updateActivePlanning(t)},0)}),Object(va.a)(e=>this.currentTeamPlanning.setValue(e)),Object(ya.a)(()=>this.currentTeamPlanning.isLoading(!1))).subscribe()}updateActivePlanning(e){const t=this.teamPlanningsQuery.getActiveId();e?t!==e.getId()&&this.teamPlanningsStore.setActive(e.getId()):this.teamPlanningsStore.setActive(null)}fetchFavoriteEventShift(e){this.unitService.getUnitFavoriteEventShift(e)}fetchFavoriteShift(e){this.unitService.getUnitFavoriteShift(e)}fetchPlanningRequirements(e){this.planningRequirementsStore.remove(),this.resourcePlanningService.getPlanningRequirement(e).pipe(Object(va.a)(e=>this.planningRequirementsStore.add(e))).subscribe()}fetchPlanningCounters(e){this.planningRequirementsStore.remove(),this.resourcePlanningService.getPlanningCounters(e).pipe(Object(va.a)(e=>this.planningCountersStore.add(e))).subscribe()}fetchPlanningConstraints(e){this.planningRequirementsStore.remove(),this.resourcePlanningService.getPlanningConstraints(e).pipe(Object(va.a)(e=>this.planningConstraintsStore.add(e))).subscribe()}fetchPlanningConstraintCategories(e){this.planningRequirementsStore.remove(),this.resourcePlanningService.getPlanningConstraintCategories(e).pipe(Object(va.a)(e=>this.planningConstraintCategoriesStore.add(e))).subscribe()}getPlanning(e){return e.entities.teamPlannings[e.result]}savePlanning(){console.log("TODO : save planing")}getPageTitle(e){return this.pageTile$||(this.pageTile$=new xa.a("")),this.pageTile$}updatePageTitle(){var e;this.pageTile$.next(this.translocoService.translate("planningGenerator.title",{unitName:null===(e=this.unitDetails)||void 0===e?void 0:e.getUnit().getName()}))}getBackLinkPath(){return Wi.a.baseRoutePath()}ngOnDestroy(){this.updateActivePlanning(null)}openConstraintDialog(){this.dialog.open(Wo)}openPlanningGeneratorDialog(){this.dialog.open(ma)}downloadCurrentPlanning(){window.open("assets/mocks/epop-api/teamPlannings/122.csv","_blank")}}return e.\u0275fac=function(t){return new(t||e)(a.Ob(qa),a.Ob(za.a),a.Ob(sa),a.Ob(Ga),a.Ob(Ha),a.Ob(Ji),a.Ob(eo),a.Ob(Ya),a.Ob(pa),a.Ob(Ka),a.Ob(w.i),a.Ob(Ht),a.Ob(yi.a),a.Ob(a.h),a.Ob(Ki.a),a.Ob(Wa.a))},e.\u0275cmp=a.Ib({type:e,selectors:[["epop-planning-generator"]],features:[a.zb],decls:1,vars:2,consts:[[4,"transloco","translocoScope","translocoRead"],["errorTpl",""],["loadingTpl",""],["contentTpl",""],[4,"ngIf","ngIfElse"],[3,"restData"],[3,"headerActions"],[3,"unitId"],[3,"unit"],[4,"ngTemplateOutlet"]],template:function(e,t){1&e&&a.Lc(0,tr,8,2,"ng-container",0),2&e&&a.nc("translocoScope","planningGenerator")("translocoRead","planningGenerator")},styles:["[_nghost-%COMP%]{display:flex;align-items:center;justify-content:center;flex:1;background-color:#fff;color:#00b2e3}[_nghost-%COMP%]   epop-card.mobile[_ngcontent-%COMP%]{border-radius:0;height:100%}"]}),e})();var ir=n("467S");const or=[{path:"",component:(()=>{class e extends ba.a{constructor(e,t,n){super(t,e),this.translocoService=e,this.router=n}getPageTitle(e){return e.selectTranslate("units.title",{},"planningGenerator")}unitSelected(e){const t=Wi.a.routePath("unit",e.toString());this.router.navigateByUrl(t)}}return e.\u0275fac=function(t){return new(t||e)(a.Ob(w.i),a.Ob(Wa.a),a.Ob(Ki.b))},e.\u0275cmp=a.Ib({type:e,selectors:[["epop-units-page"]],features:[a.zb],decls:1,vars:0,consts:[[3,"unitSelected"]],template:function(e,t){1&e&&(a.Ub(0,"epop-unit-list",0),a.cc("unitSelected",function(e){return t.unitSelected(e)}),a.Tb())},directives:[ir.a],styles:[""]}),e})()},{path:Wi.a.route("unit").routerPath,component:nr}];let ar=(()=>{class e{}return e.\u0275mod=a.Mb({type:e}),e.\u0275inj=a.Lb({factory:function(t){return new(t||e)},imports:[[Ki.e.forChild(or)],Ki.e]}),e})();var rr=n("xBko");let sr=(()=>{class e{}return e.\u0275mod=a.Mb({type:e}),e.\u0275inj=a.Lb({factory:function(t){return new(t||e)},imports:[[k.c,rr.a]]}),e})();var lr=n("992x"),cr=n("EIy3");let dr=(()=>{class e{}return e.\u0275mod=a.Mb({type:e}),e.\u0275inj=a.Lb({factory:function(t){return new(t||e)},providers:[{provide:w.e,useValue:{scope:"models/person",alias:"person"},multi:!0}],imports:[[k.c,Wt.a,T.a,lr.a,w.h,cr.a]]}),e})(),pr=(()=>{class e{}return e.\u0275mod=a.Mb({type:e}),e.\u0275inj=a.Lb({factory:function(t){return new(t||e)},providers:[{provide:w.e,useValue:{scope:"models/person",alias:"person"},multi:!0}],imports:[[k.c,Wt.a,T.a,lr.a,w.h,dr]]}),e})();const hr=["input"],ur=function(){return{enterDuration:150}},gr=["*"],fr=new a.r("mat-radio-default-options",{providedIn:"root",factory:function(){return{color:"accent"}}});let mr=0;const br={provide:i.m,useExisting:Object(a.W)(()=>yr),multi:!0};class Cr{constructor(e,t){this.source=e,this.value=t}}const _r=new a.r("MatRadioGroup");let vr=(()=>{class e{constructor(e){this._changeDetector=e,this._value=null,this._name="mat-radio-group-"+mr++,this._selected=null,this._isInitialized=!1,this._labelPosition="after",this._disabled=!1,this._required=!1,this._controlValueAccessorChangeFn=()=>{},this.onTouched=()=>{},this.change=new a.n}get name(){return this._name}set name(e){this._name=e,this._updateRadioButtonNames()}get labelPosition(){return this._labelPosition}set labelPosition(e){this._labelPosition="before"===e?"before":"after",this._markRadiosForCheck()}get value(){return this._value}set value(e){this._value!==e&&(this._value=e,this._updateSelectedRadioFromValue(),this._checkSelectedRadioButton())}_checkSelectedRadioButton(){this._selected&&!this._selected.checked&&(this._selected.checked=!0)}get selected(){return this._selected}set selected(e){this._selected=e,this.value=e?e.value:null,this._checkSelectedRadioButton()}get disabled(){return this._disabled}set disabled(e){this._disabled=Object(s.b)(e),this._markRadiosForCheck()}get required(){return this._required}set required(e){this._required=Object(s.b)(e),this._markRadiosForCheck()}ngAfterContentInit(){this._isInitialized=!0}_touch(){this.onTouched&&this.onTouched()}_updateRadioButtonNames(){this._radios&&this._radios.forEach(e=>{e.name=this.name,e._markForCheck()})}_updateSelectedRadioFromValue(){this._radios&&(null===this._selected||this._selected.value!==this._value)&&(this._selected=null,this._radios.forEach(e=>{e.checked=this.value===e.value,e.checked&&(this._selected=e)}))}_emitChangeEvent(){this._isInitialized&&this.change.emit(new Cr(this._selected,this._value))}_markRadiosForCheck(){this._radios&&this._radios.forEach(e=>e._markForCheck())}writeValue(e){this.value=e,this._changeDetector.markForCheck()}registerOnChange(e){this._controlValueAccessorChangeFn=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetector.markForCheck()}}return e.\u0275fac=function(t){return new(t||e)(a.Ob(a.h))},e.\u0275dir=a.Jb({type:e,inputs:{name:"name",labelPosition:"labelPosition",value:"value",selected:"selected",disabled:"disabled",required:"required",color:"color"},outputs:{change:"change"}}),e})(),yr=(()=>{class e extends vr{}return e.\u0275fac=function(t){return xr(t||e)},e.\u0275dir=a.Jb({type:e,selectors:[["mat-radio-group"]],contentQueries:function(e,t,n){if(1&e&&a.Hb(n,Ar,!0),2&e){let e;a.xc(e=a.dc())&&(t._radios=e)}},hostAttrs:["role","radiogroup",1,"mat-radio-group"],exportAs:["matRadioGroup"],features:[a.Bb([br,{provide:_r,useExisting:e}]),a.zb]}),e})();const xr=a.Wb(yr);class Or{constructor(e){this._elementRef=e}}const wr=Object(r.u)(Object(r.x)(Or));let kr=(()=>{class e extends wr{constructor(e,t,n,i,o,r,l,c){super(t),this._changeDetector=n,this._focusMonitor=i,this._radioDispatcher=o,this._animationMode=r,this._providerOverride=l,this._uniqueId="mat-radio-"+ ++mr,this.id=this._uniqueId,this.change=new a.n,this._checked=!1,this._value=null,this._removeUniqueSelectionListener=()=>{},this.radioGroup=e,c&&(this.tabIndex=Object(s.e)(c,0)),this._removeUniqueSelectionListener=o.listen((e,t)=>{e!==this.id&&t===this.name&&(this.checked=!1)})}get checked(){return this._checked}set checked(e){const t=Object(s.b)(e);this._checked!==t&&(this._checked=t,t&&this.radioGroup&&this.radioGroup.value!==this.value?this.radioGroup.selected=this:!t&&this.radioGroup&&this.radioGroup.value===this.value&&(this.radioGroup.selected=null),t&&this._radioDispatcher.notify(this.id,this.name),this._changeDetector.markForCheck())}get value(){return this._value}set value(e){this._value!==e&&(this._value=e,null!==this.radioGroup&&(this.checked||(this.checked=this.radioGroup.value===e),this.checked&&(this.radioGroup.selected=this)))}get labelPosition(){return this._labelPosition||this.radioGroup&&this.radioGroup.labelPosition||"after"}set labelPosition(e){this._labelPosition=e}get disabled(){return this._disabled||null!==this.radioGroup&&this.radioGroup.disabled}set disabled(e){this._setDisabled(Object(s.b)(e))}get required(){return this._required||this.radioGroup&&this.radioGroup.required}set required(e){this._required=Object(s.b)(e)}get color(){return this._color||this.radioGroup&&this.radioGroup.color||this._providerOverride&&this._providerOverride.color||"accent"}set color(e){this._color=e}get inputId(){return`${this.id||this._uniqueId}-input`}focus(e){this._focusMonitor.focusVia(this._inputElement,"keyboard",e)}_markForCheck(){this._changeDetector.markForCheck()}ngOnInit(){this.radioGroup&&(this.checked=this.radioGroup.value===this._value,this.checked&&(this.radioGroup.selected=this),this.name=this.radioGroup.name)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{!e&&this.radioGroup&&this.radioGroup._touch()})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._removeUniqueSelectionListener()}_emitChangeEvent(){this.change.emit(new Cr(this,this._value))}_isRippleDisabled(){return this.disableRipple||this.disabled}_onInputClick(e){e.stopPropagation()}_onInputChange(e){e.stopPropagation();const t=this.radioGroup&&this.value!==this.radioGroup.value;this.checked=!0,this._emitChangeEvent(),this.radioGroup&&(this.radioGroup._controlValueAccessorChangeFn(this.value),t&&this.radioGroup._emitChangeEvent())}_setDisabled(e){this._disabled!==e&&(this._disabled=e,this._changeDetector.markForCheck())}}return e.\u0275fac=function(t){return new(t||e)(a.Ob(vr),a.Ob(a.l),a.Ob(a.h),a.Ob(c.h),a.Ob(Gn.c),a.Ob(String),a.Ob(void 0),a.Ob(String))},e.\u0275dir=a.Jb({type:e,viewQuery:function(e,t){if(1&e&&a.Rc(hr,!0),2&e){let e;a.xc(e=a.dc())&&(t._inputElement=e.first)}},inputs:{id:"id",checked:"checked",value:"value",labelPosition:"labelPosition",disabled:"disabled",required:"required",color:"color",name:"name",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"]},outputs:{change:"change"},features:[a.zb]}),e})(),Ar=(()=>{class e extends kr{constructor(e,t,n,i,o,a,r,s){super(e,t,n,i,o,a,r,s)}}return e.\u0275fac=function(t){return new(t||e)(a.Ob(_r,8),a.Ob(a.l),a.Ob(a.h),a.Ob(c.h),a.Ob(Gn.c),a.Ob(l.a,8),a.Ob(fr,8),a.Zb("tabindex"))},e.\u0275cmp=a.Ib({type:e,selectors:[["mat-radio-button"]],hostAttrs:[1,"mat-radio-button"],hostVars:17,hostBindings:function(e,t){1&e&&a.cc("focus",function(){return t._inputElement.nativeElement.focus()}),2&e&&(a.Db("tabindex",-1)("id",t.id)("aria-label",null)("aria-labelledby",null)("aria-describedby",null),a.Gb("mat-radio-checked",t.checked)("mat-radio-disabled",t.disabled)("_mat-animation-noopable","NoopAnimations"===t._animationMode)("mat-primary","primary"===t.color)("mat-accent","accent"===t.color)("mat-warn","warn"===t.color))},inputs:{disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matRadioButton"],features:[a.zb],ngContentSelectors:gr,decls:13,vars:19,consts:[[1,"mat-radio-label"],["label",""],[1,"mat-radio-container"],[1,"mat-radio-outer-circle"],[1,"mat-radio-inner-circle"],["type","radio",1,"mat-radio-input","cdk-visually-hidden",3,"id","checked","disabled","tabIndex","required","change","click"],["input",""],["mat-ripple","",1,"mat-radio-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered","matRippleRadius","matRippleAnimation"],[1,"mat-ripple-element","mat-radio-persistent-ripple"],[1,"mat-radio-label-content"],[2,"display","none"]],template:function(e,t){if(1&e&&(a.mc(),a.Ub(0,"label",0,1),a.Ub(2,"span",2),a.Pb(3,"span",3),a.Pb(4,"span",4),a.Ub(5,"input",5,6),a.cc("change",function(e){return t._onInputChange(e)})("click",function(e){return t._onInputClick(e)}),a.Tb(),a.Ub(7,"span",7),a.Pb(8,"span",8),a.Tb(),a.Tb(),a.Ub(9,"span",9),a.Ub(10,"span",10),a.Nc(11,"\xa0"),a.Tb(),a.lc(12),a.Tb(),a.Tb()),2&e){const e=a.yc(1);a.Db("for",t.inputId),a.Cb(5),a.nc("id",t.inputId)("checked",t.checked)("disabled",t.disabled)("tabIndex",t.tabIndex)("required",t.required),a.Db("name",t.name)("value",t.value)("aria-label",t.ariaLabel)("aria-labelledby",t.ariaLabelledby)("aria-describedby",t.ariaDescribedby),a.Cb(2),a.nc("matRippleTrigger",e)("matRippleDisabled",t._isRippleDisabled())("matRippleCentered",!0)("matRippleRadius",20)("matRippleAnimation",a.oc(18,ur)),a.Cb(2),a.Gb("mat-radio-label-before","before"==t.labelPosition)}},directives:[r.o],styles:[".mat-radio-button{display:inline-block;-webkit-tap-highlight-color:transparent;outline:0}.mat-radio-label{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;display:inline-flex;align-items:center;white-space:nowrap;vertical-align:middle;width:100%}.mat-radio-container{box-sizing:border-box;display:inline-block;position:relative;width:20px;height:20px;flex-shrink:0}.mat-radio-outer-circle{box-sizing:border-box;display:block;height:20px;left:0;position:absolute;top:0;transition:border-color ease 280ms;width:20px;border-width:2px;border-style:solid;border-radius:50%}._mat-animation-noopable .mat-radio-outer-circle{transition:none}.mat-radio-inner-circle{border-radius:50%;box-sizing:border-box;display:block;height:20px;left:0;position:absolute;top:0;transition:transform ease 280ms,background-color ease 280ms;width:20px;transform:scale(0.001)}._mat-animation-noopable .mat-radio-inner-circle{transition:none}.mat-radio-checked .mat-radio-inner-circle{transform:scale(0.5)}.cdk-high-contrast-active .mat-radio-checked .mat-radio-inner-circle{border:solid 10px}.mat-radio-label-content{-webkit-user-select:auto;-moz-user-select:auto;-ms-user-select:auto;user-select:auto;display:inline-block;order:0;line-height:inherit;padding-left:8px;padding-right:0}[dir=rtl] .mat-radio-label-content{padding-right:8px;padding-left:0}.mat-radio-label-content.mat-radio-label-before{order:-1;padding-left:0;padding-right:8px}[dir=rtl] .mat-radio-label-content.mat-radio-label-before{padding-right:0;padding-left:8px}.mat-radio-disabled,.mat-radio-disabled .mat-radio-label{cursor:default}.mat-radio-button .mat-radio-ripple{position:absolute;left:calc(50% - 20px);top:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}.mat-radio-button .mat-radio-ripple .mat-ripple-element:not(.mat-radio-persistent-ripple){opacity:.16}.mat-radio-persistent-ripple{width:100%;height:100%;transform:none}.mat-radio-container:hover .mat-radio-persistent-ripple{opacity:.04}.mat-radio-button:not(.mat-radio-disabled).cdk-keyboard-focused .mat-radio-persistent-ripple,.mat-radio-button:not(.mat-radio-disabled).cdk-program-focused .mat-radio-persistent-ripple{opacity:.12}.mat-radio-persistent-ripple,.mat-radio-disabled .mat-radio-container:hover .mat-radio-persistent-ripple{opacity:0}@media(hover: none){.mat-radio-container:hover .mat-radio-persistent-ripple{display:none}}.mat-radio-input{bottom:0;left:50%}.cdk-high-contrast-active .mat-radio-disabled{opacity:.5}\n"],encapsulation:2,changeDetection:0}),e})(),Pr=(()=>{class e{}return e.\u0275mod=a.Mb({type:e}),e.\u0275inj=a.Lb({factory:function(t){return new(t||e)},imports:[[r.p,r.h],r.h]}),e})(),Tr=(()=>{class e{}return e.\u0275mod=a.Mb({type:e}),e.\u0275inj=a.Lb({factory:function(t){return new(t||e)},imports:[[k.c,i.j,i.s,rr.a,pr,Wt.a,T.a,Me.d,Mo.c,P.b,Pe,mi,w.h,Kt,Qt,Pr,sr]]}),e})();var Sr=n("5itl"),Ir=n("9zsr");let Mr=(()=>{class e{}return e.\u0275mod=a.Mb({type:e}),e.\u0275inj=a.Lb({factory:function(t){return new(t||e)},providers:[{provide:w.e,useValue:{scope:"units"},multi:!0}],imports:[[k.c,w.h,Wt.a,T.a,Ir.a]]}),e})(),Dr=(()=>{class e{}return e.\u0275mod=a.Mb({type:e}),e.\u0275inj=a.Lb({factory:function(t){return new(t||e)},imports:[[k.c,i.j,Pe]]}),e})(),Rr=(()=>{class e{}return e.\u0275mod=a.Mb({type:e}),e.\u0275inj=a.Lb({factory:function(t){return new(t||e)},imports:[[k.c,w.h,i.j,O,Qt,P.b,me,T.a,Pe,Te,Io,Mo.c,wt.e,Dr]]}),e})(),Lr=(()=>{class e{}return e.\u0275mod=a.Mb({type:e}),e.\u0275inj=a.Lb({factory:function(t){return new(t||e)},imports:[[k.c,w.h,i.j,O,Qt,P.b,me,T.a,Pe,Te,Io,Mo.c,ha.b,wt.e,Dr]]}),e})();var Er=n("CppQ"),jr=n("aV8V"),Ur=n("SB49"),Br=n("l8fa"),Vr=n("hsgu");let Fr=(()=>{class e{constructor(e){this.template=e}}return e.\u0275fac=function(t){return new(t||e)(a.Ob(a.N))},e.\u0275dir=a.Jb({type:e,selectors:[["","epop-app-page-container-page",""]]}),e})();function Nr(e,t){1&e&&a.Qb(0)}function qr(e,t){if(1&e&&(a.Ub(0,"mat-tab"),a.Lc(1,Nr,1,0,"ng-container",2),a.Tb()),2&e){const e=t.$implicit;a.Cb(1),a.nc("ngTemplateOutlet",e.template)}}let zr=(()=>{class e{constructor(){this.currentPage=0}getCurrentPage(){return this.currentPage}goToNextPage(){this.currentPage<this.pageChildren.length-1&&this.gotToPage(this.currentPage+1)}goToPreviousPage(){this.currentPage>0&&this.gotToPage(this.currentPage-1)}gotToPage(e){this.currentPage=e}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=a.Ib({type:e,selectors:[["epop-app-page-container"]],contentQueries:function(e,t,n){if(1&e&&a.Hb(n,Fr,!1),2&e){let e;a.xc(e=a.dc())&&(t.pageChildren=e)}},decls:2,vars:2,consts:[[1,"epop-mat-tab__no-header",3,"selectedIndex"],[4,"ngFor","ngForOf"],[4,"ngTemplateOutlet"]],template:function(e,t){1&e&&(a.Ub(0,"mat-tab-group",0),a.Lc(1,qr,2,1,"mat-tab",1),a.Tb()),2&e&&(a.nc("selectedIndex",t.getCurrentPage()),a.Cb(1),a.nc("ngForOf",t.pageChildren))},directives:[Se.b,k.k,Se.a,k.q],styles:["[_nghost-%COMP%], [_nghost-%COMP%]   .epop-mat-tab__no-header[_ngcontent-%COMP%], [_nghost-%COMP%]   .epop-mat-tab__no-header[_ngcontent-%COMP%]     .mat-tab-body-wrapper{height:100%}"]}),e})();class Gr{static generateRandomBoolean(){return this.selectRandomItem([!0,!1])}static selectRandomItem(e){return e[this.generateRandomInteger(e.length)]}static generateRandomInteger(e,t=0){return Math.floor(Math.random()*(e-t))+t}static generateRandomColor(){let e="#";for(let t=0;t<6;t++)e+="0123456789ABCDEF"[Math.floor(16*Math.random())];return e}}var Hr=n("z6cu"),Yr=n("JIr8");let Kr=(()=>{class e extends Ua.a{constructor(e){super(e)}getResourcePath(){return"shifts"}getAllEventShifts(){return this.getEntity(Vr.a,void 0,"eventShifts").pipe(Object(Yr.a)(e=>Object(Hr.a)(e.message)))}}return e.\u0275fac=function(t){return new(t||e)(a.Yb(Na.a))},e.\u0275prov=a.Kb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),Wr=(()=>{class e extends Kr{constructor(e){super(e)}getAllEventShifts(){return Object(Tt.a)(this.generateEventShifts())}generateEventShifts(){return Qr.map((e,t)=>new Vr.a({code:e.code,rgbTextColor:Gr.generateRandomColor(),description:e.description,id:void 0!==e.id?e.id:Number.parseInt(e.code,10),notRemovable:e.notRemovable}))}getPlanningShiftList(){if(!this.generatedPlanningShiftList){this.generatedPlanningShiftList=[];const e=["C1","C2","C3","C4","C5"],t=["#8a2be2","#d2691f","#fb7f50","#6495ed","#8fbc8f"],n=["morning","day","evening","night","onCallDuty"],i=new Bi.a({hours:9,minutes:0}),o=new Bi.a({hours:18,minutes:30}),a=30,r=8.5,s="#fff";e.forEach((e,l)=>{this.generatedPlanningShiftList.push(new Fi.a({id:l,code:e,rgbBackgroundColor:t[l],rgbTextColor:s,startTime:i,endTime:o,nbMinutesBreakDuration:a,nbHoursShiftDuration:r,shiftType:n[l]}))})}return this.generatedPlanningShiftList}}return e.\u0275fac=function(t){return new(t||e)(a.Yb(Na.a))},e.\u0275prov=a.Kb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const Qr=[{id:-1,code:"RE",description:"R\xe9cup\xe9ration",notRemovable:!0},{id:0,code:"CH",description:"Cong\xe9s",notRemovable:!0},{code:"1",description:"Vacances"},{code:"2",description:"Maladie"},{code:"3",description:"Maladie professionnelle"},{code:"4",description:"Accident professionnel"},{code:"5",description:"Accident non professionnel"},{code:"6",description:"Cong\xe9 maternit\xe9"},{code:"9",description:"Cong\xe9 syndical"},{code:"10",description:"Cure suite maladie"},{code:"11",description:"Cure suite accident"},{code:"12",description:"Protection civile"},{code:"13",description:"Service militaire"},{code:"14",description:"Cong\xe9 extraordinaire sans salaire"},{code:"15",description:"Cong\xe9 sans salaire"},{code:"16",description:"Cong\xe9 sans traitement suite maternit\xe9"},{code:"17",description:"Maladie grave d'un proche avec d\xe9duction"},{code:"18",description:"Maladie grave d'un proche sans d\xe9duction"},{code:"19",description:"Mariage employ\xe9 ou partenariat enregist."},{code:"20",description:"Mariage d'un enfant"},{code:"21",description:"Naissance d'un enfant ou adoption"},{code:"22",description:"D\xe9menagement"},{code:"24",description:"Formation de courte dur\xe9e"},{code:"25",description:"D\xe9c\xe9s conjoint ou partenaire enregistre"},{code:"26",description:"D\xe9c\xe9s p\xe8re m\xe8re enfant"},{code:"27",description:"D\xe9c\xe9s grd-p\xe8re, grd-m\xe8re, petits enfants"},{code:"28",description:"D\xe9c\xe9s beau-p\xe8re, belle-m\xe8re"},{code:"29",description:"D\xe9c\xe9s gd-parents ou pt-enf. conjoint"},{code:"30",description:"D\xe9c\xe9s frere, soeur"},{code:"31",description:"D\xe9c\xe9s beau-frere, belle-soeur"},{code:"32",description:"D\xe9c\xe9s oncle, tante, neveu, niece"},{code:"33",description:"D\xe9c\xe9s bru, gendre"},{code:"35",description:"Absence professionnelle"},{code:"36",description:"Jour f\xe9ri\xe9"},{code:"37",description:"Jour exceptionnel"},{code:"39",description:"Absence pour stage \xe0 l'\xe9tranger"},{code:"40",description:"Maladie et acc. sans traitement"},{code:"41",description:"Maternit\xe9 sans traitement"},{code:"42",description:"Cong\xe9 sans salaire formation perso med"},{code:"43",description:"Cong\xe9 formation remun\xe9r\xe9"},{code:"44",description:"Formation specialis\xe9e"},{code:"45",description:"Formation longue dur\xe9e"},{code:"46",description:"Formation \xe0 temps partiel"},{code:"47",description:"Mission humanitaire"},{code:"48",description:"Decharge horaire repr\xe9sentants instances"},{code:"50",description:"Absence pour pompier d'entreprise"},{code:"55",description:"Convocations officielles"},{code:"56",description:"Mandat \xe9lectif (15 jours)"},{code:"57",description:"Formation med ss titre spec valeur 10h00"},{code:"58",description:"Congr\xe8s med ss titre spec valeur 10h00"},{code:"59",description:"Congr\xe8s"},{code:"60",description:"Cong\xe9 parental sans traitement"},{code:"61",description:"Cong\xe9 paternit\xe9 supplem. sans traitement"},{code:"62",description:"Maladie pr\xe9-maternit\xe9"},{code:"63",description:"Suspension salaire suite enquete"},{code:"65",description:"Accueil jeune enfant"},{code:"66",description:"Liberation oblig. travail"},{code:"67",description:"Maladie professionnelle"},{code:"68",description:"Representation syndicale"},{code:"70",description:"Cong\xe9 extraordinaire suppl\xe9mentaire"},{code:"71",description:"Vacances sur absence partielle"},{code:"72",description:"Absence li\xe9 \xe0 \xe9pid\xe9mie"},{code:"78",description:"Cong\xe9 extarordinaire Covid"},{code:"85",description:"Absence personnel pr\xeate"},{code:"86",description:"Formation cours du soir et week-end"},{code:"87",description:"Absence pour non production soins"},{code:"88",description:"T\xe9l\xe9travail / 8h"},{code:"89",description:"T\xe9l\xe9travail sur absence partielle"},{code:"90",description:"T\xe9l\xe9travail / 10h"}];function Xr(e,t){if(1&e){const e=a.Vb();a.Ub(0,"div",4),a.Ub(1,"epop-shift-grid",5),a.cc("shiftBackgroundColorChanged",function(t){return a.Bc(e),a.gc(2).onShiftColorChanged(t,"background")})("shiftTextColorChanged",function(t){return a.Bc(e),a.gc(2).onShiftColorChanged(t,"text")})("shiftDeleted",function(t){return a.Bc(e),a.gc(2).onShiftDeleted(t)}),a.Tb(),a.Tb(),a.Ub(2,"div",6),a.Ub(3,"button",7),a.cc("click",function(){return a.Bc(e),a.gc(2).goToNewEventPage()}),a.Nc(4),a.Tb(),a.Tb(),a.Ub(5,"div",8),a.Ub(6,"button",7),a.cc("click",function(){return a.Bc(e),a.gc(2).dialogRef.close()}),a.Nc(7),a.Tb(),a.Ub(8,"button",9),a.cc("click",function(){return a.Bc(e),a.gc(2).onSaveExit()}),a.Nc(9),a.Tb(),a.Tb()}if(2&e){const e=a.gc().$implicit,t=a.gc();a.Cb(1),a.nc("additionalColumnDefs",t.additionalColumnDefs)("showShiftBackgroundColorColumn",!1)("showActionCell",!0)("shiftList",t.shiftList),a.Cb(3),a.Oc(e("shift.eventShits.import")),a.Cb(3),a.Oc(e("common.cancel")),a.Cb(2),a.Oc(e("common.save"))}}function Zr(e,t){if(1&e){const e=a.Vb();a.Ub(0,"div",4),a.Ub(1,"epop-search-input-field",10),a.cc("ngModelChange",function(t){return a.Bc(e),a.gc(2).eventSearchText=t}),a.Tb(),a.Ub(2,"epop-shift-grid",11),a.cc("shiftDeleted",function(t){return a.Bc(e),a.gc(2).onShiftDeleted(t)})("shiftsSelected",function(t){return a.Bc(e),a.gc(2).onShiftsSelected(t)}),a.Tb(),a.Tb(),a.Ub(3,"div",8),a.Ub(4,"button",9),a.cc("click",function(){return a.Bc(e),a.gc(2).goToListEventPage()}),a.Nc(5),a.Tb(),a.Tb()}if(2&e){const e=a.gc().$implicit,t=a.gc();a.Cb(1),a.nc("ngModel",t.eventSearchText)("placeholder",e("planningGenerator.planning.model.constraint.search")),a.Cb(1),a.nc("additionalColumnDefs",t.additionalColumnDefs)("showShiftBackgroundColorColumn",!1)("showActionCell",!1)("selectionMode",!0)("textSearch",t.eventSearchText)("isGridReadOnly",!0)("shiftList",t.eventDictionnaryList)("selectedShifts",t.shiftList),a.Cb(3),a.Oc(e("common.import"))}}function Jr(e,t){1&e&&(a.Sb(0),a.Ub(1,"epop-app-dialog",1),a.Ub(2,"epop-app-dialog-content",2),a.Ub(3,"epop-app-page-container"),a.Lc(4,Xr,10,7,"ng-template",3),a.Lc(5,Zr,6,11,"ng-template",3),a.Tb(),a.Tb(),a.Tb(),a.Rb()),2&e&&(a.Cb(1),a.nc("dialogTitle","Codes \xe9venement"))}let $r=(()=>{class e{constructor(e,t,n,i,o,a){this.dialogRef=e,this.data=t,this.translocoService=n,this.unitDetailsQuery=i,this.unitDetailsStore=o,this.shiftService=a,this.subscriptions=[],this.shiftToDelete=[],this.initialShifts=[],this.additionalColumnDefs=[{headerName:this.translocoService.translate("shift.description"),field:"description",flex:1,cellClass:"event-list-grid__col__description",sortable:!0}]}ngOnInit(){this.subscriptions.push(this.unitDetailsQuery.getFavoriteEventShiftList(this.data.unitId).subscribe(e=>this.shiftList=this.initialShifts=e)),this.subscriptions.push(this.shiftService.getAllEventShifts().subscribe(e=>this.eventDictionnaryList=e))}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}onShiftDeleted(e){this.shiftToDelete.push(e),this.shiftList=this.shiftList.filter(t=>t.getId()!==e)}onSaveExit(){this.unitDetailsStore.setFavoriteEventShiftList(this.data.unitId,this.shiftList),this.dialogRef.close()}onShiftColorChanged(e,t){const n=this.shiftList.findIndex(t=>t.getId()===e.id),i=new Vr.a(this.shiftList[n]);this.shiftList[n]=i,"text"===t?i.setRgbTextColor(e.color):i.setBackgroundColor(e.color)}goToNewEventPage(){this.pageContainerComponent.goToNextPage()}goToListEventPage(){this.pageContainerComponent.goToPreviousPage()}onShiftsSelected(e){const t=[],n=[];e.forEach(e=>{const i=this.shiftList.find(t=>t.getId()===e.getId());i?n.push(i):t.push(e)}),this.shiftList=[...n,...t]}}return e.\u0275fac=function(t){return new(t||e)(a.Ob(Bt),a.Ob(Ft),a.Ob(w.i),a.Ob(yi.a),a.Ob(vi.a),a.Ob(Wr))},e.\u0275cmp=a.Ib({type:e,selectors:[["epop-event-shift-list-dialog"]],viewQuery:function(e,t){if(1&e&&a.Rc(zr,!0),2&e){let e;a.xc(e=a.dc())&&(t.pageContainerComponent=e.first)}},decls:1,vars:0,consts:[[4,"transloco"],["dialogSize","big",1,"epop-event-shift-list-dialog",3,"dialogTitle"],["fxLayout","column",1,"epop-event-shift-list-dialog__content"],["epop-app-page-container-page",""],[1,"epop-event-shift-list-dialog__content__list"],[1,"ag-theme-alpine","epop-event-shift-list-dialog__content__grid",3,"additionalColumnDefs","showShiftBackgroundColorColumn","showActionCell","shiftList","shiftBackgroundColorChanged","shiftTextColorChanged","shiftDeleted"],[1,"epop-event-shift-list-dialog__content__select-event"],["mat-stroked-button","",3,"click"],[1,"epop-event-shift-list-dialog__content__actions"],["mat-flat-button","","color","primary",3,"click"],["suffixSvgIcon","mdi/magnify",3,"ngModel","placeholder","ngModelChange"],[1,"ag-theme-alpine","epop-event-shift-list-dialog__content__grid","epop-event-shift-list-dialog__content__grid--selection",3,"additionalColumnDefs","showShiftBackgroundColorColumn","showActionCell","selectionMode","textSearch","isGridReadOnly","shiftList","selectedShifts","shiftDeleted","shiftsSelected"]],template:function(e,t){1&e&&a.Lc(0,Jr,6,1,"ng-container",0)},directives:[w.g,Pi,Ti,wt.c,zr,Fr,Ui,P.a,oo,i.o,i.r],styles:[".epop-event-shift-list-dialog__content[_ngcontent-%COMP%]{width:100%;overflow:hidden;flex:1}.epop-event-shift-list-dialog__content[_ngcontent-%COMP%]   epop-app-page-container[_ngcontent-%COMP%]{height:50vh}.epop-event-shift-list-dialog__content__actions[_ngcontent-%COMP%], .epop-event-shift-list-dialog__content__select-event[_ngcontent-%COMP%]{margin-top:16px}.epop-event-shift-list-dialog__content__actions[_ngcontent-%COMP%]{display:flex;flex-direction:row-reverse}.epop-event-shift-list-dialog__content__actions[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{margin-left:16px}.epop-event-shift-list-dialog__content__list[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column}.epop-event-shift-list-dialog__content__grid[_ngcontent-%COMP%]{flex:1}.epop-event-shift-list-dialog__content[_ngcontent-%COMP%]     .mat-tab-body-content{display:flex;flex-direction:column}.epop-event-shift-list-dialog__content[_ngcontent-%COMP%]   .epop-event-shift-list-dialog__content__grid[_ngcontent-%COMP%]     .epop-shift-grid{height:100%}.epop-event-shift-list-dialog__content[_ngcontent-%COMP%]     .event-list-grid__col__description.ag-cell{text-align:left}"]}),e})();function es(e,t){if(1&e&&(a.Ub(0,"div",7),a.Ub(1,"span",8),a.Nc(2),a.Tb(),a.Ub(3,"span",9),a.Nc(4),a.Tb(),a.Tb()),2&e){const e=t.$implicit;a.Cb(1),a.Ic("background-color",e.getRgbBackgroundColor())("color",e.getRgbTextColor()),a.Cb(1),a.Pc("",e.getCode()," "),a.Cb(2),a.Pc(" ",e.formatHours()," ")}}function ts(e,t){if(1&e&&(a.Ub(0,"div",7),a.Ub(1,"span",10),a.Nc(2),a.Tb(),a.Ub(3,"span",11),a.Nc(4),a.Tb(),a.Tb()),2&e){const e=t.$implicit;a.Cb(1),a.Ic("border-color",e.getRgbTextColor())("color",e.getRgbTextColor()),a.Cb(1),a.Pc("",e.getCode()," "),a.Cb(1),a.nc("title",e.getDescription()),a.Cb(1),a.Pc(" ",e.getDescription()," ")}}function ns(e,t){if(1&e){const e=a.Vb();a.Sb(0),a.Ub(1,"div",1),a.hc(2,"async"),a.Ub(3,"span",2),a.Nc(4),a.Tb(),a.Ub(5,"div",3),a.Lc(6,es,5,6,"div",4),a.hc(7,"async"),a.Tb(),a.Ub(8,"div",5),a.Ub(9,"a",6),a.cc("click",function(){return a.Bc(e),a.gc().openShiftListDialog()}),a.Nc(10),a.Tb(),a.Tb(),a.Tb(),a.Ub(11,"div",1),a.Ub(12,"span",2),a.Nc(13),a.Tb(),a.Ub(14,"div",3),a.Lc(15,ts,5,7,"div",4),a.hc(16,"async"),a.Tb(),a.Ub(17,"div",5),a.Ub(18,"a",6),a.cc("click",function(){return a.Bc(e),a.gc().openEventListDialog()}),a.Nc(19),a.Tb(),a.Tb(),a.Tb(),a.Rb()}if(2&e){const e=t.$implicit,n=a.gc();a.Cb(1),a.Gb("epop-shift-list--disabled",a.ic(2,8,n.isShiftDisable)),a.Cb(3),a.Oc(e("planningGenerator.planning.affectations.model.workHours")),a.Cb(2),a.nc("ngForOf",a.ic(7,10,n.shiftList)),a.Cb(4),a.Oc(e("common.settings")),a.Cb(3),a.Oc(e("planningGenerator.planning.affectations.model.eventHours")),a.Cb(2),a.nc("ngForOf",a.ic(16,12,n.eventList)),a.Cb(4),a.Oc(e("common.settings"))}}let is=(()=>{class e{constructor(e,t,n){this.unitDetailsStore=e,this.dialog=t,this.planningEditionContextQuery=n}ngOnInit(){this.shiftList=this.unitDetailsStore.getFavoriteShiftList(this.unitId),this.eventList=this.unitDetailsStore.getFavoriteEventShiftList(this.unitId),this.isShiftDisable=this.planningEditionContextQuery.getCurrentCellContentType().pipe(Object(Yn.a)(e=>"onlyEvents"===e))}openEventListDialog(){this.dialog.open($r,{data:{unitId:this.unitId}})}openShiftListDialog(){this.dialog.open(Oi,{data:{unitId:this.unitId}})}}return e.\u0275fac=function(t){return new(t||e)(a.Ob(yi.a),a.Ob(Ht),a.Ob(Ka))},e.\u0275cmp=a.Ib({type:e,selectors:[["epop-shift-list"]],inputs:{unitId:"unitId"},decls:1,vars:0,consts:[[4,"transloco"],[1,"epop-shift-list"],[1,"epop-shift-list__title"],[1,"epop-shift-list__list"],["class","epop-shift-list__item",4,"ngFor","ngForOf"],[1,"epop-shift-list__link"],[3,"click"],[1,"epop-shift-list__item"],[1,"epop-shift-list__item__code"],[1,"epop-shift-list__item__hours"],[1,"epop-shift-list__item__code","epop-shift-list__item__code--event"],[1,"epop-shift-list__item__hours",3,"title"]],template:function(e,t){1&e&&a.Lc(0,ns,20,14,"ng-container",0)},directives:[w.g,k.k],pipes:[k.b],styles:["[_nghost-%COMP%]{display:flex}[_nghost-%COMP%]   .epop-shift-list[_ngcontent-%COMP%]{color:#000;padding:30px;display:flex;flex-direction:column;flex:1;border:solid #ebebeb;border-width:0 0 1px;opacity:1;transition:opacity .5s ease-in-out}[_nghost-%COMP%]   .epop-shift-list[_ngcontent-%COMP%]:not(:last-child){border-right-width:1px}[_nghost-%COMP%]   .epop-shift-list--disabled[_ngcontent-%COMP%]{opacity:.3;pointer-events:none}[_nghost-%COMP%]   .epop-shift-list__title[_ngcontent-%COMP%]{display:inline-block;text-transform:uppercase;font-size:1.1rem;font-weight:500;letter-spacing:.1rem;line-height:1.5rem;margin-bottom:20px}[_nghost-%COMP%]   .epop-shift-list__list[_ngcontent-%COMP%]{display:flex;flex:1;flex-wrap:wrap;margin-bottom:16px}[_nghost-%COMP%]   .epop-shift-list__item[_ngcontent-%COMP%]{margin:5px 30px 5px 5px;display:flex;align-items:center}[_nghost-%COMP%]   .epop-shift-list__item__code[_ngcontent-%COMP%]{color:#fff;display:inline-block;height:20px;width:35px;text-align:center;line-height:2rem;border-radius:5px;margin-right:10px}[_nghost-%COMP%]   .epop-shift-list__item__code--event[_ngcontent-%COMP%]{background:#fff;border:1px solid}[_nghost-%COMP%]   .epop-shift-list__item__hours[_ngcontent-%COMP%]{font-size:1rem;font-weight:300;letter-spacing:.1rem;line-height:1.5rem;text-overflow:ellipsis;width:10rem;white-space:nowrap;overflow:hidden;display:inline-block}[_nghost-%COMP%]   .epop-shift-list__link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#00b2e3;font-size:1rem;line-height:1.4rem;text-decoration:underline;text-align:left;padding:0;cursor:pointer}"]}),e})();function os(e,t){if(1&e&&(a.Sb(0),a.Nc(1),a.Rb()),2&e){const e=a.gc().$implicit;a.Cb(1),a.Oc(e("planning.model.planningType.showOnPreparation"))}}function as(e,t){if(1&e&&a.Nc(0),2&e){const e=a.gc().$implicit;a.Pc(" ",e("planning.model.planningType.showPlanned")," ")}}function rs(e,t){if(1&e){const e=a.Vb();a.Sb(0),a.Ub(1,"div",1),a.Ub(2,"div",2),a.Ub(3,"div",3),a.Ub(4,"span"),a.Nc(5),a.hc(6,"async"),a.Tb(),a.Tb(),a.Ub(7,"div",4),a.Ub(8,"button",5),a.cc("click",function(){return a.Bc(e),a.gc().onChangePlanningType()}),a.Lc(9,os,2,1,"ng-container",6),a.Lc(10,as,1,1,"ng-template",null,7,a.Mc),a.Tb(),a.Tb(),a.Tb(),a.Ub(12,"div",8),a.Ub(13,"div",9),a.Ub(14,"mat-label",10),a.Nc(15),a.Tb(),a.Ub(16,"mat-slide-toggle",11),a.cc("ngModelChange",function(t){return a.Bc(e),a.gc().isPeriodicPlanning=t})("ngModelChange",function(){return a.Bc(e),a.gc().onChangePlanningCellType()}),a.Nc(17),a.Tb(),a.Tb(),a.Tb(),a.Pb(18,"div",12),a.Tb(),a.Rb()}if(2&e){const e=t.$implicit,n=a.yc(11),i=a.gc();a.Cb(5),a.Oc(a.ic(6,6,i.getPeriodLabel())),a.Cb(4),a.nc("ngIf",i.isPlannifiedPlanning)("ngIfElse",n),a.Cb(6),a.Oc(e("planning.model.planningType.macroPlanning")),a.Cb(1),a.nc("ngModel",i.isPeriodicPlanning),a.Cb(1),a.Oc(e("planning.model.planningType.periodicPlanning"))}}let ss=(()=>{class e{constructor(e,t,n,i){this.planningEditionContextStore=e,this.planningEditionContextQuery=t,this.teamPlanningsQuery=n,this.translocoService=i,this.subscriptions=[]}ngOnInit(){this.subscriptions.push(this.planningEditionContextQuery.isPlannedPlanning().subscribe(e=>this.isPlannifiedPlanning=e),this.planningEditionContextQuery.isPeriodicPlanning().subscribe(e=>this.isPeriodicPlanning=e),this.teamPlanningsQuery.selectActivePlanningPeriodDates().subscribe(e=>this.currentPlanningDates=e))}onChangePlanningCellType(){this.planningEditionContextStore.setCellContentType(this.isPeriodicPlanning?"shifts":"onlyEvents")}onChangePlanningType(){this.planningEditionContextStore.setPlanningType(this.isPlannifiedPlanning?"onPreparation":"planned")}getPeriodLabel(){if(void 0!==this.currentPlanningDates){const e=this.currentPlanningDates.map(e=>Ci.a.toShortDate(e));return this.translocoService.selectTranslate("common.date.period",{startDate:e[0],endDate:e[1]})}}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe()),this.subscriptions=[]}}return e.\u0275fac=function(t){return new(t||e)(a.Ob(Xo),a.Ob(Ka),a.Ob(pa),a.Ob(w.i))},e.\u0275cmp=a.Ib({type:e,selectors:[["epop-planning-header"]],decls:1,vars:2,consts:[[4,"transloco","translocoScope","translocoRead"],[1,"epop-planning-header"],[1,"epop-planning-header__dates"],[1,"epop-planning-header__dates__period"],[1,"epop-planning-header__dates__actions"],["mat-stroked-button","",3,"click"],[4,"ngIf","ngIfElse"],["planningPreparationTemp",""],[1,"epop-planning-header__context-switch"],[1,"epop-planning-header__context-switch__slide-toggle"],["ngClass","labelBeforeSlide"],[3,"ngModel","ngModelChange"],[1,"epop-planning-header__content-toggler"]],template:function(e,t){1&e&&a.Lc(0,rs,19,8,"ng-container",0),2&e&&a.nc("translocoScope","planningGenerator")("translocoRead","planningGenerator")},directives:[w.g,k.l,k.j,y,i.o,i.r],pipes:[k.b],styles:[".epop-planning-header[_ngcontent-%COMP%]{display:flex;height:100%;padding:30px}.epop-planning-header__dates[_ngcontent-%COMP%]{flex:1}.epop-planning-header__dates__period[_ngcontent-%COMP%]{color:#000;font-size:2rem;line-height:3rem;margin-bottom:5px}.epop-planning-header__dates__actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:#555;font-size:1rem;line-height:2rem;cursor:pointer}.epop-planning-header__context-switch[_ngcontent-%COMP%]{display:flex;align-items:center}.epop-planning-header__context-switch__slide-toggle[_ngcontent-%COMP%]{color:#000;font-size:1.1rem;text-transform:uppercase}.epop-planning-header__context-switch__slide-toggle[_ngcontent-%COMP%]   .labelBeforeSlide[_ngcontent-%COMP%]{vertical-align:top;line-height:2.4rem;margin-right:.5rem;margin-bottom:.5rem}.epop-planning-header__content-toggler[_ngcontent-%COMP%]{flex:1;display:flex;justify-content:flex-end}"]}),e})();const ls=["cellMenuTrigger"];function cs(e,t){if(1&e&&(a.Ub(0,"button",11),a.Ub(1,"span"),a.Nc(2),a.Tb(),a.Tb()),2&e){const e=a.gc().$implicit,t=a.yc(4);a.nc("matMenuTriggerFor",t),a.Cb(2),a.Oc(e.getLabel())}}function ds(e,t){if(1&e){const e=a.Vb();a.Ub(0,"button",12),a.cc("click",function(){return a.Bc(e),a.gc().$implicit.onClick()}),a.Ub(1,"span"),a.Nc(2),a.Tb(),a.Tb()}if(2&e){const e=a.gc().$implicit;a.Cb(2),a.Oc(e.getLabel())}}function ps(e,t){if(1&e&&(a.Sb(0),a.Ub(1,"button",12),a.cc("click",function(){return t.$implicit.onClick()}),a.Ub(2,"span"),a.Nc(3),a.Tb(),a.Tb(),a.Rb()),2&e){const e=t.$implicit;a.Cb(3),a.Oc(e.getLabel())}}function hs(e,t){1&e&&a.Pb(0,"mat-divider")}function us(e,t){if(1&e&&(a.Sb(0),a.Lc(1,cs,3,2,"button",7),a.Lc(2,ds,3,1,"button",8),a.Ub(3,"mat-menu",null,9),a.Lc(5,ps,4,1,"ng-container",6),a.Tb(),a.Lc(6,hs,1,0,"mat-divider",10),a.Rb()),2&e){const e=t.$implicit,n=t.last;a.Cb(1),a.nc("ngIf",(null==e.childItems?null:e.childItems.length)>0),a.Cb(1),a.nc("ngIf",(null==e.childItems?null:e.childItems.length)<1),a.Cb(3),a.nc("ngForOf",e.childItems),a.Cb(1),a.nc("ngIf",!n)}}function gs(e,t){if(1&e&&(a.Ub(0,"div",5),a.Lc(1,us,7,4,"ng-container",6),a.Tb()),2&e){const e=a.gc();a.Cb(1),a.nc("ngForOf",e.parentMenuItems)}}let fs=(()=>{class e{constructor(e,t,n){this.translocoService=e,this.resourceAffectationsStore=t,this.resourceAffectationsQuery=n,this.editAffectation=new a.n,this.deleteAffectation=new a.n}openMenu(){this.contextMenuTrigger.openMenu()}ngOnChanges(){this.parentMenuItems=this.getMenuItem(),this.subcribeResourceAffectationChanges()}subcribeResourceAffectationChanges(){var e;const t=null===(e=this.cellResourceDayAffection)||void 0===e?void 0:e.getResourceAffectationId();void 0!==t&&void 0===this.updateSubscription&&(this.updateSubscription=this.resourceAffectationsQuery.selectEntity(t).subscribe(e=>this.parentMenuItems=this.getMenuItem()))}getMenuItem(){var e;const t=[],n=null===(e=this.cellResourceDayAffection)||void 0===e?void 0:e.getResourceAffectationId();if(void 0!==n){const e=this.resourceAffectationsQuery.getEntity(n);t.push({getLabel:()=>this.translocoService.translate("common.crud.modify")+"...",onClick:()=>this.editResourceAffectation()},{getLabel:()=>this.translocoService.translate("common.crud.delete")+"...",onClick:()=>this.deleteCellAffectation()},{getLabel:()=>this.getFreezeActionLabel(e),onClick:()=>this.changeCellFrozenStatus(e)},{getLabel:()=>this.getDesireActionLabel(e),onClick:()=>this.setCellAsDesire(e),addDivider:!0},{getLabel:()=>this.getPriorityActionLabel(e),onClick:()=>this.setCellAsPriority(e),addDivider:!0})}else t.push({getLabel:()=>this.translocoService.translate("common.crud.add"),onClick:()=>this.addResourceAffectation()});return t}getDesireActionLabel(e){return(null==e?void 0:e.getIsDesired())?this.translocoService.translate("planningGenerator.planning.cellActions.undesire"):this.translocoService.translate("planningGenerator.planning.cellActions.desire")}getPriorityActionLabel(e){return(null==e?void 0:e.getIsPriority())?this.translocoService.translate("planningGenerator.planning.cellActions.unprioritize"):this.translocoService.translate("planningGenerator.planning.cellActions.prioritize")}getFreezeActionLabel(e){return(null==e?void 0:e.getIsFrozen())?this.translocoService.translate("planningGenerator.planning.cellActions.unfreeze"):this.translocoService.translate("planningGenerator.planning.cellActions.freeze")}changeCellFrozenStatus(e){setTimeout(()=>{this.resourceAffectationsStore.setResourceAffectationFreeze(e.getId(),!e.getIsFrozen())},300)}setCellAsDesire(e){setTimeout(()=>{this.resourceAffectationsStore.setResourceAffectationDesire(e.getId(),!e.getIsDesired())},300)}setCellAsPriority(e){setTimeout(()=>{this.resourceAffectationsStore.setResourceAffectationPriority(e.getId(),!e.getIsPriority())},300)}editResourceAffectation(){this.editAffectation.emit(this.cellResourceDayAffection)}deleteCellAffectation(){this.deleteAffectation.emit()}addResourceAffectation(){this.editAffectation.emit(void 0)}ngOnDestroy(){var e;null===(e=this.updateSubscription)||void 0===e||e.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(a.Ob(w.i),a.Ob($o),a.Ob(oa))},e.\u0275cmp=a.Ib({type:e,selectors:[["epop-planning-cell-menu"]],viewQuery:function(e,t){if(1&e&&a.Rc(ls,!0,Me.e),2&e){let e;a.xc(e=a.dc())&&(t.contextMenuTrigger=e.first)}},inputs:{cellResourceDayAffection:"cellResourceDayAffection"},outputs:{editAffectation:"editAffectation",deleteAffectation:"deleteAffectation"},features:[a.Ab],decls:5,vars:1,consts:[[3,"matMenuTriggerFor"],["cellMenuTrigger","matMenuTrigger"],["yPosition","below","xPosition","after",1,"epop-planning-cell__allocation__cell__menu"],["menu","matMenu"],["matMenuContent",""],[1,"epop-planning-cell-menu"],[4,"ngFor","ngForOf"],["mat-menu-item","","class","dialog-content__item",3,"matMenuTriggerFor",4,"ngIf"],["mat-menu-item","","class","dialog-content__item",3,"click",4,"ngIf"],["childMenu","matMenu"],[4,"ngIf"],["mat-menu-item","",1,"dialog-content__item",3,"matMenuTriggerFor"],["mat-menu-item","",1,"dialog-content__item",3,"click"]],template:function(e,t){if(1&e&&(a.Pb(0,"div",0,1),a.Ub(2,"mat-menu",2,3),a.Lc(4,gs,2,1,"ng-template",4),a.Tb()),2&e){const e=a.yc(3);a.nc("matMenuTriggerFor",e)}},directives:[Me.e,Me.a,Me.b,k.k,k.l,Me.c,jo.a],styles:[".epop-planning-cell-menu[_ngcontent-%COMP%]{padding:0}"]}),e})();var ms=n("MqBz"),bs=n("tdoM");function Cs(e,t){if(1&e&&(a.Ub(0,"mat-radio-button",10),a.Nc(1),a.Tb()),2&e){const e=t.$implicit;a.nc("value",e.id),a.Cb(1),a.Pc(" ",e.typeLabel," ")}}function _s(e,t){if(1&e&&(a.Ub(0,"mat-option",11),a.Nc(1),a.Tb()),2&e){const e=t.$implicit;a.nc("value",e),a.Cb(1),a.Oc(e.getCode())}}function vs(e,t){if(1&e){const e=a.Vb();a.Sb(0),a.Ub(1,"epop-app-dialog",1),a.Ub(2,"epop-app-dialog-content"),a.Ub(3,"h2"),a.Nc(4),a.Tb(),a.Ub(5,"div",2),a.Ub(6,"mat-radio-group",3),a.cc("ngModelChange",function(t){return a.Bc(e),a.gc().currentShiftType=t}),a.Lc(7,Cs,2,2,"mat-radio-button",4),a.Tb(),a.Ub(8,"mat-form-field"),a.Ub(9,"mat-label"),a.Nc(10),a.Tb(),a.Ub(11,"mat-select",5),a.cc("ngModelChange",function(t){a.Bc(e);const n=a.gc();return n.selectedData[n.currentShiftType]=t}),a.Ub(12,"mat-option",6),a.Nc(13),a.Tb(),a.Lc(14,_s,2,2,"mat-option",7),a.Tb(),a.Tb(),a.Tb(),a.Tb(),a.Ub(15,"epop-app-dialog-actions"),a.Ub(16,"button",8),a.cc("click",function(){return a.Bc(e),a.gc().dialogRef.close()}),a.Nc(17),a.Tb(),a.Ub(18,"button",9),a.Nc(19),a.Tb(),a.Tb(),a.Tb(),a.Rb()}if(2&e){const e=t.$implicit,n=a.gc();a.Cb(1),a.nc("dialogTitle",n.getTitle()),a.Cb(3),a.Oc(e("planningGenerator.planning.affectations.model.hours")),a.Cb(2),a.nc("ngModel",n.currentShiftType),a.Cb(1),a.nc("ngForOf",n.shiftTypes),a.Cb(3),a.Oc(n.getShiftTypeLabel(n.currentShiftType).typeLabel),a.Cb(1),a.nc("ngModel",n.selectedData[n.currentShiftType]),a.Cb(2),a.Oc(e("planningGenerator.planning.affectations.noAffectation")),a.Cb(1),a.nc("ngForOf",n.shiftList[n.currentShiftType]),a.Cb(3),a.Oc(e("common.cancel")),a.Cb(1),a.nc("mat-dialog-close",n.getCurrentData()),a.Cb(1),a.Oc(e("common.ok"))}}let ys=(()=>{class e{constructor(e,t,n,i,o,a){this.dialogRef=e,this.data=t,this.translocoService=n,this.unitDetailsQuery=i,this.eventShiftsQuery=o,this.shiftsQuery=a,this.selectedData={workAffectation:void 0,event:void 0},this.shiftList={workAffectation:[],event:[]},this.subscriptions=[],this.shiftTypes=[{typeLabel:this.translocoService.translate("planningGenerator.planning.affectations.model.workHours"),id:"workAffectation"},{typeLabel:this.translocoService.translate("planningGenerator.planning.affectations.model.eventHours"),id:"event"}]}ngOnInit(){var e,t;this.subscriptions.push(this.unitDetailsQuery.getFavoriteEventShiftList(this.data.unitId).subscribe(e=>this.shiftList.event=e)),this.subscriptions.push(this.unitDetailsQuery.getFavoriteShiftList(this.data.unitId).subscribe(e=>this.shiftList.workAffectation=e)),this.currentShiftType=null!==(t=null===(e=this.data.resourceDayAffection)||void 0===e?void 0:e.getDayType())&&void 0!==t?t:"workAffectation";const n=this.getSelectedShift();this.selectedData={event:"event"===this.currentShiftType?n:void 0,workAffectation:"workAffectation"===this.currentShiftType?n:void 0}}getSelectedShift(){var e,t;return"workAffectation"===this.currentShiftType?this.shiftsQuery.getEntity(null===(e=this.data.resourceAffection)||void 0===e?void 0:e.getShiftId()):this.eventShiftsQuery.getEntity(null===(t=this.data.resourceAffection)||void 0===t?void 0:t.getShiftId())}getShiftTypeLabel(e){return this.shiftTypes.find(t=>t.id===e)}getTitle(){return this.isEdition()?this.translocoService.translate("planningGenerator.planning.affectations.modify.title"):this.translocoService.translate("planningGenerator.planning.affectations.new.title")}isEdition(){return void 0!==this.data.resourceAffection}getCurrentData(){return{selectedData:this.selectedData?this.selectedData[this.currentShiftType]:void 0,currentShiftType:this.currentShiftType}}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}}return e.\u0275fac=function(t){return new(t||e)(a.Ob(Bt),a.Ob(Ft),a.Ob(w.i),a.Ob(yi.a),a.Ob(ms.a),a.Ob(bs.a))},e.\u0275cmp=a.Ib({type:e,selectors:[["epop-new-affectation-dialog"]],decls:1,vars:0,consts:[[4,"transloco"],["dialogSize","small",3,"dialogTitle"],[1,"epop-new-affectation-dialog"],["aria-labelledby","example-radio-group-label",3,"ngModel","ngModelChange"],["color","primary",3,"value",4,"ngFor","ngForOf"],[3,"ngModel","ngModelChange"],["value","none"],[3,"value",4,"ngFor","ngForOf"],["mat-stroked-button","",3,"click"],["mat-flat-button","","color","primary",3,"mat-dialog-close"],["color","primary",3,"value"],[3,"value"]],template:function(e,t){1&e&&a.Lc(0,vs,20,11,"ng-container",0)},directives:[w.g,Pi,Ti,yr,i.o,i.r,k.k,fe,ae,gi,r.k,Si,P.a,Yt,Ar],styles:[""]}),e})();function xs(e,t){1&e&&a.Pb(0,"mat-icon",6)}function Os(e,t){1&e&&a.Pb(0,"mat-icon",7)}function ws(e,t){1&e&&a.Pb(0,"mat-icon",8)}let ks=(()=>{class e{constructor(e,t,n,i){this.shiftsQuery=e,this.eventShiftsQuery=t,this.resourceAffectationsQuery=n,this.planningEditionContextQuery=i}ngOnChanges(){var e;this.resourceAffectation=this.resourceAffectationsQuery.selectEntity(null===(e=this.resourceDayAffectation)||void 0===e?void 0:e.getResourceAffectationId()),this.shift=this.resourceAffectation.pipe(Object(Hn.a)(e=>this.getShiftFromContentType(e))),this.showPointMode=this.planningEditionContextQuery.getCurrentCellContentType().pipe(Object(Yn.a)(e=>{var t;return"onlyEvents"===e&&"event"!==(null===(t=this.resourceDayAffectation)||void 0===t?void 0:t.getDayType())}))}getShiftFromContentType(e){var t;switch(null===(t=this.resourceDayAffectation)||void 0===t?void 0:t.getDayType()){case"event":return this.eventShiftsQuery.selectEntity(null==e?void 0:e.getShiftId());case"workAffectation":return this.shiftsQuery.selectEntity(null==e?void 0:e.getShiftId());default:return Object(Tt.a)(void 0)}}getBackgroundColor(e){return e instanceof Fi.a?null==e?void 0:e.getRgbBackgroundColor():"transparent"}getBorderColor(e){return e instanceof Vr.a?null==e?void 0:e.getRgbTextColor():"transparent"}getTextColor(e){return null==e?void 0:e.getRgbTextColor()}}return e.\u0275fac=function(t){return new(t||e)(a.Ob(bs.a),a.Ob(ms.a),a.Ob(oa),a.Ob(Ka))},e.\u0275cmp=a.Ib({type:e,selectors:[["epop-resource-affectation-cell"]],inputs:{resourceDayAffectation:"resourceDayAffectation"},features:[a.Ab],decls:16,vars:28,consts:[["fxLayout","row","fxLayoutAlign","start center",1,"epop-planning-cell__allocation__cell"],["fxFlex","",1,"epop-planning-cell__allocation__cell__name"],[1,"epop-planning-cell__allocation__cell__status"],["svgIcon","mdi/star",4,"ngIf"],["svgIcon","mdi/arrow-up-thin-circle-outline",4,"ngIf"],["svgIcon","mdi/lock-outline",4,"ngIf"],["svgIcon","mdi/star"],["svgIcon","mdi/arrow-up-thin-circle-outline"],["svgIcon","mdi/lock-outline"]],template:function(e,t){if(1&e&&(a.Ub(0,"div",0),a.hc(1,"async"),a.hc(2,"async"),a.hc(3,"async"),a.hc(4,"async"),a.Ub(5,"div",1),a.Ub(6,"span"),a.Nc(7),a.hc(8,"async"),a.Tb(),a.Tb(),a.Ub(9,"div",2),a.Lc(10,xs,1,0,"mat-icon",3),a.hc(11,"async"),a.Lc(12,Os,1,0,"mat-icon",4),a.hc(13,"async"),a.Lc(14,ws,1,0,"mat-icon",5),a.hc(15,"async"),a.Tb(),a.Tb()),2&e){let e=null,n=null,i=null,o=null;a.Ic("background-color",t.getBackgroundColor(a.ic(1,12,t.shift)))("border-color",t.getBorderColor(a.ic(2,14,t.shift)))("color",t.getTextColor(a.ic(3,16,t.shift))),a.Gb("epop-planning-cell__allocation__cell--point-mode",a.ic(4,18,t.showPointMode)),a.Cb(7),a.Oc(null==(e=a.ic(8,20,t.shift))?null:e.getCode()),a.Cb(3),a.nc("ngIf",null==(n=a.ic(11,22,t.resourceAffectation))?null:n.getIsDesired()),a.Cb(2),a.nc("ngIf",null==(i=a.ic(13,24,t.resourceAffectation))?null:i.getIsPriority()),a.Cb(2),a.nc("ngIf",null==(o=a.ic(15,26,t.resourceAffectation))?null:o.getIsFrozen())}},directives:[wt.c,wt.b,wt.a,k.l,en.a],pipes:[k.b],styles:["[_nghost-%COMP%]{display:flex;flex-direction:row-reverse;height:100%}[_nghost-%COMP%]   .epop-planning-cell__allocation__cell[_ngcontent-%COMP%]{height:100%;border-radius:5px;padding:0 6px;border:1px solid;transition:all .6s ease-out;width:100%}[_nghost-%COMP%]   .epop-planning-cell__allocation__cell--point-mode[_ngcontent-%COMP%]{width:8px;border-radius:8px;height:8px;padding:0}[_nghost-%COMP%]   .epop-planning-cell__allocation__cell--point-mode.epop-planning-cell__allocation__cell[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{opacity:0}[_nghost-%COMP%]   .epop-planning-cell__allocation__cell[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{opacity:1;transition:opacity .6s ease-out}[_nghost-%COMP%]   .epop-planning-cell__allocation__cell__name[_ngcontent-%COMP%]{font-size:1.1rem;line-height:1.4rem}[_nghost-%COMP%]   .epop-planning-cell__allocation__cell__status[_ngcontent-%COMP%] > mat-icon[_ngcontent-%COMP%]{width:1.1rem;height:1.1rem}"]}),e})();function As(e,t){if(1&e&&(a.Ub(0,"div",3),a.Pb(1,"epop-resource-affectation-cell",4),a.Tb()),2&e){const e=a.gc();a.Cb(1),a.nc("resourceDayAffectation",e.resourceDayAffection)}}let Ps=(()=>{class e{constructor(e,t,n,i,o,a){this.resourceDayAffectationsQuery=e,this.resourceAffectationsQuery=t,this.resourceAffectationsStore=n,this.planningEditionContextQuery=i,this.dialog=o,this.teamPlanningsStore=a,this.subscriptions=[]}agInit(e){this.params=e,this.subscriptions.push(this.resourceDayAffectationsQuery.selectEntity(this.params.value).subscribe(e=>this.resourceDayAffection=e)),this.subscriptions.push(this.resourceDayAffectationsQuery.selectEntity(this.params.value).pipe(Object(St.a)(e=>!!e),Object(Hn.a)(e=>this.resourceAffectationsQuery.selectEntity(null==e?void 0:e.getResourceAffectationId()))).subscribe(e=>this.resourceAffectation=e))}refresh(){return!1}hasFrozenAffectation(){return this.planningEditionContextQuery.getCurrentCellContentType().pipe(Object(Yn.a)(e=>{var t,n;return("onlyEvents"!==e||"event"===(null===(t=this.resourceDayAffection)||void 0===t?void 0:t.getDayType()))&&(null===(n=this.resourceAffectation)||void 0===n?void 0:n.getIsFrozen())}))}onOpenMenu(e){return e.stopPropagation(),this.planningCellMenu.openMenu(),!1}onDoubleClick(){this.planningCellMenu.editResourceAffectation()}getCurrentResourcePlanningId(){var e;return null===(e=this.params.data)||void 0===e?void 0:e.getId()}getCurrentPlanningDay(){return this.params.colDef.headerComponentParams.planningDay}showNewResourceAffectationDialog(e){const t=this.getCurrentResourcePlanningId(),n=this.getCurrentPlanningDay(),i=this.dialog.open(ys,{autoFocus:!1,data:{resourcePlanningId:t,date:n,resourceAffection:e?this.resourceAffectationsQuery.getEntity(e.getResourceAffectationId()):void 0,resourceDayAffection:e,unitId:this.params.unitId}});this.subscriptions.push(i.afterClosed().subscribe(i=>{void 0!==(null==i?void 0:i.selectedData)&&this.addNewResourceAffectation(e,t,n,i)}))}addNewResourceAffectation(e,t,n,i){const o=i.selectedData;if(e&&e.getDayType()===i.currentShiftType)this.resourceAffectationsStore.updateResourceShift(e.getResourceAffectationId(),o.getId());else{const e=new Jo({id:Vi.a.generateUniqueId(),date:n,shift:o.getId()});this.teamPlanningsStore.addResourceAffectation(t,n,e,i.currentShiftType)}}onDeleteResourcePlanning(){const e=this.getCurrentResourcePlanningId(),t=this.getCurrentPlanningDay();this.teamPlanningsStore.removeResourceAffectation(e,t)}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}}return e.\u0275fac=function(t){return new(t||e)(a.Ob(aa),a.Ob(oa),a.Ob($o),a.Ob(Ka),a.Ob(Ht),a.Ob(sa))},e.\u0275cmp=a.Ib({type:e,selectors:[["epop-planning-cell"]],viewQuery:function(e,t){if(1&e&&a.Rc(fs,!0),2&e){let e;a.xc(e=a.dc())&&(t.planningCellMenu=e.first)}},decls:4,vars:6,consts:[["fxLayout","column",1,"epop-planning-cell",3,"contextmenu","dblclick"],["class","epop-planning-cell__allocation",4,"ngIf"],[3,"cellResourceDayAffection","editAffectation","deleteAffectation"],[1,"epop-planning-cell__allocation"],[3,"resourceDayAffectation"]],template:function(e,t){1&e&&(a.Ub(0,"div",0),a.cc("contextmenu",function(e){return t.onOpenMenu(e)})("dblclick",function(){return t.onDoubleClick()}),a.hc(1,"async"),a.Lc(2,As,2,1,"div",1),a.Ub(3,"epop-planning-cell-menu",2),a.cc("editAffectation",function(e){return t.showNewResourceAffectationDialog(e)})("deleteAffectation",function(){return t.onDeleteResourcePlanning()}),a.Tb(),a.Tb()),2&e&&(a.Gb("epop-planning-cell__frozen",a.ic(1,4,t.hasFrozenAffectation())),a.Cb(2),a.nc("ngIf",void 0!==t.resourceDayAffection),a.Cb(1),a.nc("cellResourceDayAffection",t.resourceDayAffection))},directives:[wt.c,k.l,fs,ks],pipes:[k.b],styles:[".epop-planning-cell[_ngcontent-%COMP%]{height:100%;padding:0 3px;justify-content:center;align-items:flex-end}.epop-planning-cell__frozen[_ngcontent-%COMP%]{border:1px solid #00b2e3}.epop-planning-cell__allocation[_ngcontent-%COMP%]{color:#fff;margin-bottom:2px;flex:1;width:100%;max-height:20px}.epop-planning-cell__allocation[_ngcontent-%COMP%]:hover{opacity:.8;cursor:pointer}.epop-planning-cell__allocation--menu-triggered[_ngcontent-%COMP%]{opacity:.5}.epop-planning-cell__allocation[_ngcontent-%COMP%]   .mat-menu-trigger[_ngcontent-%COMP%]{position:absolute;top:0;right:0}.epop-planning-cell__allocation__cell[_ngcontent-%COMP%]{height:100%;border-radius:5px;padding:0 6px}.epop-planning-cell__allocation__cell__name[_ngcontent-%COMP%]{font-size:1.1rem;line-height:1.4rem}.epop-planning-cell__allocation__cell__status[_ngcontent-%COMP%] > mat-icon[_ngcontent-%COMP%]{width:1.1rem;height:1.1rem}"]}),e})(),Ts=(()=>{class e{agInit(e){this.params=e}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=a.Ib({type:e,selectors:[["epop-resource-header"]],decls:3,vars:1,consts:[[1,"planning-gen-resource-header"],[1,"planning-gen-resource-header__title"]],template:function(e,t){1&e&&(a.Ub(0,"div",0),a.Ub(1,"span",1),a.Nc(2),a.Tb(),a.Tb()),2&e&&(a.Cb(2),a.Oc(t.params.resourceGroupName))},styles:[".planning-gen-resource-header__title[_ngcontent-%COMP%]{font-size:1.4rem}"]}),e})();var Ss=n("73Fk"),Is=n("Qu3c");function Ms(e,t){if(1&e&&(a.Ub(0,"div",1),a.lc(1),a.Tb()),2&e){const e=a.gc();a.nc("matTooltip",e.message)("matTooltipPosition",e.position)}}const Ds=["*"];let Rs=(()=>{class e{constructor(){this.position="below"}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=a.Ib({type:e,selectors:[["epop-tooltip"]],inputs:{position:"position",message:"message"},ngContentSelectors:Ds,decls:1,vars:1,consts:[[3,"matTooltip","matTooltipPosition",4,"ngIf"],[3,"matTooltip","matTooltipPosition"]],template:function(e,t){1&e&&(a.mc(),a.Lc(0,Ms,2,2,"div",0)),2&e&&a.nc("ngIf",t.message)},directives:[k.l,Is.a],styles:[""]}),e})();function Ls(e,t){1&e&&a.Pb(0,"mat-icon",2)}function Es(e,t){if(1&e&&(a.Ub(0,"div",11),a.Ub(1,"epop-tooltip",12),a.Pb(2,"mat-icon",13),a.Tb(),a.Tb()),2&e){const e=a.gc(2).$implicit,t=a.gc();a.Cb(1),a.nc("message",e("serviceTitle."+t.person.getService()))}}function js(e,t){if(1&e&&(a.Sb(0),a.Pb(1,"epop-person-avatar",5),a.Ub(2,"div",6),a.Ub(3,"div",7),a.Ub(4,"span",8),a.Nc(5),a.Tb(),a.Ub(6,"span"),a.Nc(7),a.Tb(),a.Tb(),a.Ub(8,"div",9),a.Nc(9),a.Tb(),a.Tb(),a.Lc(10,Es,3,1,"div",10),a.Rb()),2&e){const e=a.gc().$implicit,t=a.gc();a.Cb(1),a.nc("person",t.person),a.Cb(4),a.Pc(" ",t.person.getLastname()," "),a.Cb(2),a.Oc(t.person.getFirstname()),a.Cb(2),a.Pc(" ",e("jobTitle."+t.person.getJobTitle())||""," "),a.Cb(1),a.nc("ngIf",t.person.getService())}}function Us(e,t){if(1&e&&(a.Sb(0),a.Ub(1,"div",3),a.Lc(2,js,11,5,"ng-container",4),a.Tb(),a.Rb()),2&e){const e=a.gc();a.Cb(2),a.nc("ngIf",e.person)}}let Bs=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=a.Ib({type:e,selectors:[["epop-person-cell"]],inputs:{person:"person"},decls:3,vars:1,consts:[["defaultAccountIcon",""],[4,"transloco","translocoRead"],["svgIcon","mdi/account-circle-outline"],["fxLayout","row","fxLayoutAlign","flex-start center",1,"epop-person-cell"],[4,"ngIf"],[1,"epop-person-cell-badge",3,"person"],["fxLayout","column","fxLayoutAlign","space-around flex-start",1,"epop-person-cell-person"],[1,"epop-person-cell-person-name"],[1,"epop-person-cell-person-name__lastName"],[1,"epop-person-cell-person-job"],["class","epop-person-cell-info","fxLayoutAlign","flex-end center",4,"ngIf"],["fxLayoutAlign","flex-end center",1,"epop-person-cell-info"],[3,"message"],["svgIcon","mdi/information-outline","fxLayoutAlign","center center"]],template:function(e,t){1&e&&(a.Lc(0,Ls,1,0,"ng-template",null,0,a.Mc),a.Lc(2,Us,3,1,"ng-container",1)),2&e&&(a.Cb(2),a.nc("translocoRead","person"))},directives:[w.g,en.a,wt.c,wt.b,k.l,Ss.a,Rs],styles:[".epop-person-cell[_ngcontent-%COMP%]{height:100%;margin-left:1.5rem}.epop-person-cell-person[_ngcontent-%COMP%]{font-size:1.1rem;line-height:1.4rem}.epop-person-cell-person-name__lastName[_ngcontent-%COMP%]{text-transform:uppercase;font-weight:700}.epop-person-cell-person-job[_ngcontent-%COMP%]{font-size:1rem;color:#7c7c7c}.epop-person-cell-info[_ngcontent-%COMP%]{width:100%;margin-right:1.5rem;color:#b3b3b3}.epop-person-cell-info[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{width:1.6rem;height:1.6rem}"]}),e})(),Vs=(()=>{class e{constructor(e){this.resourcePlanningsQuery=e}agInit(e){this.params=e,this.getPersonFromRessourceId(this.params.value)}getPersonFromRessourceId(e){this.person=this.resourcePlanningsQuery.getResource(e)}refresh(){return!1}}return e.\u0275fac=function(t){return new(t||e)(a.Ob(da))},e.\u0275cmp=a.Ib({type:e,selectors:[["epop-resource-cell"]],decls:1,vars:1,consts:[[3,"person"]],template:function(e,t){1&e&&a.Pb(0,"epop-person-cell",0),2&e&&a.nc("person",t.person)},directives:[Bs],styles:[""]}),e})();function Fs(e,t){if(1&e&&(a.Ub(0,"div",5),a.Ub(1,"span"),a.Nc(2),a.Tb(),a.Tb()),2&e){const e=a.gc();a.Cb(2),a.Oc(e.getNextMonthString())}}let Ns=(()=>{class e{constructor(e){this.dateHelperService=e}agInit(e){this.params=e}getFormattedDateDay(){return this.dateHelperService.toShortAbbrevatedDay(this.params.planningDay)}getFormattedDateNumber(){return Ci.a.toShortAbbrevatedNumber(this.params.planningDay)}showCurrentMonth(){return Ci.a.isLastDayOfMonth(this.params.planningDay)}getNextMonthString(){return this.dateHelperService.toMonthAbbrevatedNumber(Object(Ea.a)(this.params.planningDay,{days:1}))}}return e.\u0275fac=function(t){return new(t||e)(a.Ob(Ci.a))},e.\u0275cmp=a.Ib({type:e,selectors:[["epop-planning-header"]],decls:7,vars:3,consts:[[1,"epop-planning-header"],["fxLayout","column",1,"epop-planning-header__date"],[1,"epop-planning-header__date__day"],[1,"epop-planning-header__date__number"],["class","epop-planning-header__month-end",4,"ngIf"],[1,"epop-planning-header__month-end"]],template:function(e,t){1&e&&(a.Ub(0,"div",0),a.Ub(1,"div",1),a.Ub(2,"span",2),a.Nc(3),a.Tb(),a.Ub(4,"span",3),a.Nc(5),a.Tb(),a.Tb(),a.Lc(6,Fs,3,1,"div",4),a.Tb()),2&e&&(a.Cb(3),a.Oc(t.getFormattedDateDay()),a.Cb(2),a.Oc(t.getFormattedDateNumber()),a.Cb(1),a.nc("ngIf",t.showCurrentMonth()))},directives:[wt.c,k.l],styles:['[_nghost-%COMP%]{width:100%;display:flex;align-items:center;justify-content:center}[_nghost-%COMP%]   .epop-planning-header__date[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{display:inline-block;text-transform:capitalize;font-size:1.1rem;letter-spacing:.1rem;line-height:1.5rem;text-align:center;font-weight:300}[_nghost-%COMP%]   .epop-planning-header__date[_ngcontent-%COMP%] > span.epop-planning-header__date__number[_ngcontent-%COMP%]{font-weight:500}[_nghost-%COMP%]   .epop-planning-header__month-end[_ngcontent-%COMP%]{position:absolute;right:0;top:0;bottom:0;font-size:1rem;font-weight:500;letter-spacing:.1rem;line-height:1.5rem;color:#b3b3b3}[_nghost-%COMP%]   .epop-planning-header__month-end[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{display:block;background-color:#fff;transform:rotate(270deg) translate(-50%,-100%);position:absolute;left:-11px;padding:0 .4rem;text-transform:capitalize}[_nghost-%COMP%]   .epop-planning-header__month-end[_ngcontent-%COMP%]:before{content:"";background:#ebebeb;position:absolute;height:100%;width:1px;left:-1px}']}),e})();class qs{static getVerticalScrollWitdh(e){return e.gridPanel.isVerticalScrollShowing()?e.gridOptionsWrapper.getScrollbarWidth():0}}let zs=(()=>{class e{agInit(e){this.params=e}refresh(){return!1}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=a.Ib({type:e,selectors:[["epop-requirement-row-header"]],decls:3,vars:1,consts:[["fxLayout","column",1,"epop-requirement-row-header"],[1,"epop-requirement-row-header__label"]],template:function(e,t){1&e&&(a.Ub(0,"div",0),a.Ub(1,"span",1),a.Nc(2),a.Tb(),a.Tb()),2&e&&(a.Cb(2),a.Oc(t.params.value))},styles:[".epop-requirement-row-header[_ngcontent-%COMP%]{height:100%;display:flex;align-items:center;margin:0 15px}.epop-requirement-row-header__label[_ngcontent-%COMP%]{margin-left:15px;color:#000;font-size:1.1rem;font-weight:500;letter-spacing:.1rem;line-height:1.5rem}"]}),e})();class Gs{constructor(e){this.firstRenderedDone=!1,this.params=e}onUpdate(){this.firstRenderedDone?this.params.api.flashCells({rowNodes:[this.params.node],columns:[this.params.column]}):this.firstRenderedDone=!0}}var Hs=n("itXk");let Ys=(()=>{class e extends Xi.c{constructor(e,t,n){super(e),this.store=e,this.resourcePlanningsQuery=t,this.resourceDayAffectationsQuery=n}computeShiftRequirementValue(e,t,n){return this.resourcePlanningsQuery.selectPlanningResources(t).pipe(Object(Hn.a)(e=>Object(Hs.a)(e.map(e=>{const t=e.getResourceDayAffectations(n);return this.resourceDayAffectationsQuery.selectResourceAffectation(t,"workAffectation")}))),Object(Yn.a)(t=>{let n=0;return t.forEach(t=>{t&&t.getShiftId()===e.getRequiredShiftId()&&n++}),n}))}}return e.\u0275fac=function(t){return new(t||e)(a.Yb(Ga),a.Yb(da),a.Yb(aa))},e.\u0275prov=a.Kb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),Ks=(()=>{class e{constructor(e,t){this.planningRequirementsQuery=e,this.teamPlanningsQuery=t,this.subscriptions=[],this.firstRenderedDone=!1}agInit(e){this.params=e;const t=this.params.data.getId();this.cellUpdateHelper=new Gs(e),this.subscriptions.push(this.teamPlanningsQuery.selectActive().pipe(Object(St.a)(e=>!!e),Object(Hn.a)(e=>this.planningRequirementsQuery.selectEntity(t).pipe(Object(Hn.a)(t=>{const n=new Date(this.params.requirementDate);return this.planningRequirementsQuery.computeShiftRequirementValue(t,e,n)}))),Object(Kn.a)()).subscribe(e=>{this.requirementValue=e,this.cellUpdateHelper.onUpdate()}))}refresh(){return!1}getRequirementStatusClass(){var e;const t=null===(e=this.params.value)||void 0===e?void 0:e.getMinValue();return this.requirementValue===t?"ok":this.requirementValue<t?"error":"warning"}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}}return e.\u0275fac=function(t){return new(t||e)(a.Ob(Ys),a.Ob(pa))},e.\u0275cmp=a.Ib({type:e,selectors:[["epop-requirement-cell"]],decls:3,vars:5,template:function(e,t){1&e&&(a.Ub(0,"div"),a.Ub(1,"span"),a.Nc(2),a.Tb(),a.Tb()),2&e&&(a.Fb("epop-requirement-cell epop-requirement-cell--",t.getRequirementStatusClass(),""),a.Cb(2),a.Qc("",t.requirementValue," / ",t.params.value.getMinValue(),""))},styles:["[_nghost-%COMP%]{display:flex;flex:1}[_nghost-%COMP%]   .epop-requirement-cell[_ngcontent-%COMP%]{width:100%;font-size:1rem;font-weight:500;letter-spacing:.1rem;line-height:1.5rem;text-align:center;display:flex;align-items:center;justify-content:center}[_nghost-%COMP%]   .epop-requirement-cell--ok[_ngcontent-%COMP%]{color:#02c296}[_nghost-%COMP%]   .epop-requirement-cell--warning[_ngcontent-%COMP%]{color:#e88300;border:1px solid #e88300}[_nghost-%COMP%]   .epop-requirement-cell--error[_ngcontent-%COMP%]{color:#eb303f;border:1px solid #eb303f}"]}),e})(),Ws=(()=>{class e{agInit(e){this.params=e,this.isCollapsed=!1,e.defaultIsCollapsed&&this.onCollapse()}onCollapse(){var e;this.isCollapsed=!this.isCollapsed,null===(e=this.params.columnToCollapse)||void 0===e||e.forEach(e=>{const t=this.params.columnApi.getColumn(e);void 0!==t?this.params.columnApi.setColumnVisible(t,!this.isCollapsed):console.warn("[ColumnHeaderCollapserComponent] Can't found column with name : "+e)}),this.params.onCollapse(this.isCollapsed)}getCollapserTitle(){return this.params.collapserTitle}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=a.Ib({type:e,selectors:[["epop-counter-header-collapser"]],decls:6,vars:3,consts:[[1,"column-header-collapser",3,"click"],[1,"column-header-collapser__menu"],["svgIcon","mdi/chevron-down",1,"column-header-collapser__icon"],[1,"column-header-collapser__title"]],template:function(e,t){1&e&&(a.Ub(0,"div",0),a.cc("click",function(){return t.onCollapse()}),a.Pb(1,"div",1),a.Pb(2,"mat-icon",2),a.Ub(3,"div",3),a.Ub(4,"span"),a.Nc(5),a.Tb(),a.Tb(),a.Tb()),2&e&&(a.Gb("column-header-collapser--opened",!t.isCollapsed),a.Cb(5),a.Oc(t.getCollapserTitle()))},directives:[en.a],styles:["[_nghost-%COMP%]{width:100%}[_nghost-%COMP%]   .column-header-collapser[_ngcontent-%COMP%]{position:absolute;width:100%;height:300px;top:0;z-index:1;display:flex;flex-direction:column;align-items:center;background-color:#f8f8f8;border-right:1px solid #ebebeb;box-sizing:border-box}[_nghost-%COMP%]   .column-header-collapser--opened[_ngcontent-%COMP%]   .column-header-collapser__icon[_ngcontent-%COMP%]{transform:rotate(270deg)}[_nghost-%COMP%]   .column-header-collapser__menu[_ngcontent-%COMP%]{flex:1}[_nghost-%COMP%]   .column-header-collapser__icon[_ngcontent-%COMP%]{transform:rotate(90deg)}[_nghost-%COMP%]   .column-header-collapser__title[_ngcontent-%COMP%]{flex:1;margin-bottom:25px;writing-mode:vertical-rl;transform:rotate(-180deg);font-size:1.1rem;font-weight:500;letter-spacing:.1rem;text-transform:uppercase;justify-content:flex-start;align-items:center;display:flex}"]}),e})(),Qs=(()=>{class e{agInit(e){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=a.Ib({type:e,selectors:[["epop-blank-column"]],decls:1,vars:0,consts:[[1,"blank-column-header"]],template:function(e,t){1&e&&a.Pb(0,"div",0)},styles:["[_nghost-%COMP%]{width:100%}[_nghost-%COMP%]   .blank-column-header[_ngcontent-%COMP%]{position:absolute;width:100%;height:200px;top:0;left:0;z-index:1;background-color:#ebebeb}"]}),e})();const Xs=function(e){return[e]};let Zs=(()=>{class e{constructor(e,t,n){this.teamPlanningsQuery=e,this.planningRequirementsQuery=t,this.translocoService=n,this.subscriptions=[],this.frameworkComponents={RequirementCellComponent:Ks,RequirementRowHeaderComponent:zs,ColumnHeaderCollapserComponent:Ws,BlankColumnComponent:Qs},this.columnDefs=[],this.gridOptions={alignedGrids:[],groupHeaderHeight:0,onGridReady:this.onGridReady.bind(this)},this.blankAlignementColumnDef={groupId:"blankAlignement",marryChildren:!0,children:[{pinned:"right",width:0,headerComponent:"BlankColumnComponent"}]},this.planning=this.teamPlanningsQuery.selectActive()}ngOnInit(){this.subscriptions.push(this.planning.pipe(Object(St.a)(e=>void 0!==e),Object(va.a)(e=>this.generateColDefinition(e))).subscribe()),this.subscriptions.push(this.planningRequirementsQuery.selectAll().pipe(Object(va.a)(e=>this.updateRequirements(e))).subscribe())}onGridReady(e){this.gridApi=e.api,this.gridApi.setRowData(this.requirements)}updateRequirements(e){var t;this.requirements=e,null===(t=this.gridApi)||void 0===t||t.setRowData(this.requirements)}ngOnChanges(e){var t;(null===(t=e.planningAlignementSpace)||void 0===t?void 0:t.previousValue)!==this.planningAlignementSpace&&this.updateBlankColumnSize()}generateColDefinition(e){this.columnDefs[0]={marryChildren:!0,children:[{width:250,pinned:"left",headerName:this.translocoService.translate("planningGenerator.planning.affectations.model.quotaConstrainst"),field:"name",cellRenderer:"RequirementRowHeaderComponent"}]},this.columnDefs[1]={marryChildren:!0,children:this.getRequirementDates(e).map(e=>({width:90,headerName:"",field:"planning."+Ci.a.toHashString(e),cellRenderer:"RequirementCellComponent",cellRendererParams:{requirementDate:e}}))},this.columnDefs[2]=this.blankAlignementColumnDef}updateBlankColumnSize(){var e;this.blankAlignementColumnDef.children[0].width=this.getPlanningAlignementSpace(),null===(e=this.gridApi)||void 0===e||e.setColumnDefs(this.columnDefs)}getGridOptions(){return this.gridOptions}getPlanningAlignementSpace(){let e=this.planningAlignementSpace;return this.gridApi&&(e-=qs.getVerticalScrollWitdh(this.gridApi)),e}getRequirementDates(e){return Ci.a.getAllDays(e.getStartDate(),e.getEndDate())}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}}return e.\u0275fac=function(t){return new(t||e)(a.Ob(pa),a.Ob(Ys),a.Ob(w.i))},e.\u0275cmp=a.Ib({type:e,selectors:[["epop-requirement-grid"]],inputs:{planningGridOptions:"planningGridOptions",planningAlignementSpace:"planningAlignementSpace"},features:[a.Ab],decls:2,vars:6,consts:[["fxLayout","row",1,"epop-requirement-grid"],[1,"ag-theme-alpine","epop-requirement-grid__grid",3,"columnDefs","gridOptions","frameworkComponents","alignedGrids"]],template:function(e,t){1&e&&(a.Ub(0,"div",0),a.Pb(1,"ag-grid-angular",1),a.Tb()),2&e&&(a.Cb(1),a.nc("columnDefs",t.columnDefs)("gridOptions",t.gridOptions)("frameworkComponents",t.frameworkComponents)("alignedGrids",a.pc(4,Xs,t.planningGridOptions)))},directives:[xt.a],styles:[".epop-requirement-grid[_ngcontent-%COMP%]{width:100%;height:100%;display:block}.epop-requirement-grid__grid[_ngcontent-%COMP%]{width:100%;height:200px}.epop-requirement-grid__grid[_ngcontent-%COMP%]     .ag-header{background-color:#f8f8f8}.epop-requirement-grid__grid[_ngcontent-%COMP%]     .ag-header .ag-pinned-left-header{border-right:0}.epop-requirement-grid__grid[_ngcontent-%COMP%]     .ag-header .ag-header-cell{color:#000;font-size:1.1rem;font-weight:500;letter-spacing:.1rem;text-transform:uppercase}.epop-requirement-grid__grid[_ngcontent-%COMP%]     .ag-cell{padding:0;border-right:1px solid #ebebeb;background:#fff;display:flex}"]}),e})(),Js=(()=>{class e extends Xi.c{constructor(e,t,n,i,o,a,r){super(e),this.store=e,this.resourcePlanningsQuery=t,this.personsQuery=n,this.teamPlanningsQuery=i,this.resourceDayAffectationsQuery=o,this.planningConstraintsQuery=a,this.shiftsQuery=r}getCounterOfPerson(e){return this.selectAll().pipe(Object(Yn.a)(t=>t.find(t=>t.getPersonId()===e)))}computeResourceShiftCounterValue(e,t){return this.resourcePlanningsQuery.selectEntity(t).pipe(Object(Hn.a)(t=>Object(Hs.a)(t.getAllDayAffectationIds().map(e=>this.resourceDayAffectationsQuery.selectResourceAffectation(e,"workAffectation"))).pipe(Object(Yn.a)(e=>e.filter(e=>!!e)),Object(Hn.a)(e=>e.length>0?Object(Hs.a)(e.map(e=>this.shiftsQuery.selectEntity(null==e?void 0:e.getShiftId()))):Object(Tt.a)([])),Object(Hn.a)(t=>{const n=this.personsQuery.getEntity(e.getPersonId()),i=this.teamPlanningsQuery.getActive().getPeriod();return this.planningConstraintsQuery.selectEntity(11).pipe(Object(Yn.a)(o=>{const a=o.getParams();return e.computeShiftHoursCount(t,n.getWorkingPercentage(),a.nbOfDays,a.weekHours,i[0],i[1])}))}))))}}return e.\u0275fac=function(t){return new(t||e)(a.Yb(Ha),a.Yb(da),a.Yb(ca),a.Yb(pa),a.Yb(aa),a.Yb($i),a.Yb(bs.a))},e.\u0275prov=a.Kb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),$s=(()=>{class e{constructor(e){this.planningCountersQuery=e,this.subscriptions=[]}agInit(e){this.params=e,this.cellUpdateHelper=new Gs(e);const t=e.data.getResourceId();this.counter=this.planningCountersQuery.getCounterOfPerson(t),this.subscriptions.push(this.counter.pipe(Object(va.a)(e=>this.counterValue=e.getInitialCount()),Object(Hn.a)(e=>this.planningCountersQuery.computeResourceShiftCounterValue(e,this.params.data.getId())),Object(St.a)(e=>void 0!==e),Object(Kn.a)(),Object(va.a)(e=>this.cellUpdateHelper.onUpdate())).subscribe(e=>this.counterValue=e))}refresh(){return!1}renderCounterValue(e){return Ci.a.durationToString(e,0)}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}}return e.\u0275fac=function(t){return new(t||e)(a.Ob(Js))},e.\u0275cmp=a.Ib({type:e,selectors:[["epop-planning-counters-cell"]],decls:4,vars:5,consts:[[1,"epop-planning-counters-cell"],[1,"epop-planning-counters-cell__value"]],template:function(e,t){1&e&&(a.Ub(0,"div",0),a.Ub(1,"span",1),a.Nc(2),a.hc(3,"async"),a.Tb(),a.Tb()),2&e&&(a.Cb(1),a.Gb("epop-planning-counters-cell__value--error",t.counterValue<0),a.Cb(1),a.Pc(" ",a.ic(3,3,t.counter).toString(t.counterValue)," "))},pipes:[k.b],styles:[".epop-planning-counters-cell[_ngcontent-%COMP%]{text-align:center}.epop-planning-counters-cell__value[_ngcontent-%COMP%]{color:#02c296;font-size:1rem;font-weight:500;letter-spacing:.1rem;line-height:1.5rem}.epop-planning-counters-cell__value--error[_ngcontent-%COMP%]{color:#eb303f}"]}),e})(),el=(()=>{class e{agInit(e){this.params=e}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=a.Ib({type:e,selectors:[["epop-planning-counters-header"]],decls:3,vars:1,consts:[[1,"epop-planning-counter-header"],[1,"epop-planning-counter-header__title"]],template:function(e,t){1&e&&(a.Ub(0,"div",0),a.Ub(1,"span",1),a.Nc(2),a.Tb(),a.Tb()),2&e&&(a.Cb(2),a.Oc(t.params.counterName))},styles:["[_nghost-%COMP%]{width:100%;height:100%;display:flex;align-items:center;justify-content:center;background-color:#f8f8f8}[_nghost-%COMP%]   .epop-planning-counter-header__title[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:500;letter-spacing:.1rem;line-height:1.5rem}"]}),e})();const tl=function(e){return[e]};function nl(e,t){if(1&e&&(a.Sb(0),a.Ub(1,"div",1),a.Ub(2,"div"),a.hc(3,"async"),a.Ub(4,"span",2),a.Nc(5),a.hc(6,"async"),a.Tb(),a.Tb(),a.Pb(7,"ag-grid-angular",3),a.Pb(8,"epop-requirement-grid",4),a.Tb(),a.Rb()),2&e){const e=t.$implicit,n=a.gc();a.Cb(2),a.Eb("epop-planning-grid__header-ripple epop-planning-grid__header-ripple--"+a.ic(3,12,n.getCurrentPlanningType())),a.Ic("margin-left",n.getLeftPlanningOffset()+"px"),a.Cb(3),a.Oc(e("planning.model.planningType."+a.ic(6,14,n.getCurrentPlanningType()))),a.Cb(2),a.nc("columnDefs",n.columnDefs)("gridOptions",n.gridOptions)("alignedGrids",a.pc(16,tl,n.requirementGridOptions))("frameworkComponents",n.frameworkComponents)("suppressContextMenu",!0),a.Cb(1),a.nc("planningAlignementSpace",n.planningAlignementSpace)("planningGridOptions",n.gridOptions)}}let il=(()=>{class e{constructor(e,t,n,i){this.cdRef=e,this.teamPlanningsQuery=t,this.planningEditionContextQuery=n,this.translocoService=i,this.activePlanning=this.teamPlanningsQuery.selectActive(),this.planningGridData=[],this.columnDefs=[],this.defaultIsCounterStateCollapsed=!0,this.gridOptions={alignedGrids:[],groupHeaderHeight:0,rowHeight:50,onGridReady:this.onGridReady.bind(this),suppressChangeDetection:!0,headerHeight:66,getRowNodeId:e=>e.id},this.frameworkComponents={ResourceHeaderComponent:Ts,ResourceCellComponent:Vs,PlanningCellComponent:Ps,PlanningColumnHeaderComponent:Ns,ColumnHeaderCollapserComponent:Ws,PlanningCountersCellComponent:$s,PlanningCountersHeaderComponent:el}}ngAfterViewInit(){this.requirementGridOptions=this.requirementGridComponent.getGridOptions(),this.subscribeToData(),this.cdRef.detectChanges()}subscribeToData(){this.activePlanningSubscription=this.activePlanning.pipe(Object(St.a)(e=>void 0!==e),Object(va.a)(e=>this.generateColumnDef(e)),Object(Hn.a)(e=>this.teamPlanningsQuery.selectResourcePlannings(e.getId())),Object(va.a)(e=>this.refreshGridData(e))).subscribe()}getCurrentPlanningType(){return this.planningEditionContextQuery.getCurrentPlanningType()}ngOnDestroy(){this.activePlanningSubscription.unsubscribe(),this.activePlanningSubscription=void 0}onGridReady(e){this.gridApi=e.api,this.gridApi.setRowData(this.planningGridData),this.updatePlanningAlignementSpace(this.defaultIsCounterStateCollapsed)}refreshGridData(e){var t;const n=[],i=[],o=[];e.forEach(e=>{this.planningGridData.findIndex(t=>t.getId()===e.getId())>-1?i.push(e):n.push(e)}),this.planningGridData.forEach(t=>{-1===e.findIndex(e=>e.getId()===t.getId())&&o.push(t)}),null===(t=this.gridApi)||void 0===t||t.applyTransaction({add:n,update:i,remove:o}),this.planningGridData=e}generateColumnDef(e){this.columnDefs=[],this.columnDefs[0]=this.getResourceGridDefinition(),this.columnDefs[1]=this.getPlanningGridDefinition(e),this.columnDefs[2]=this.getCountersGridDefinition()}getResourceGridDefinition(){var e;return{marryChildren:!0,children:[{headerComponent:"ResourceHeaderComponent",field:"resource",pinned:"left",width:250,cellRenderer:"ResourceCellComponent",headerComponentParams:{resourceGroupName:this.translocoService.translate("planningGenerator.teamList",{unitName:null===(e=this.unit)||void 0===e?void 0:e.getUnit().getName()})}}]}}getPlanningGridDefinition(e){return{marryChildren:!0,children:e.getPlanningDays().map(e=>{var t;return{width:90,enableCellChangeFlash:!0,cellRenderer:"PlanningCellComponent",field:"planning."+Ci.a.toHashString(e),headerComponent:"PlanningColumnHeaderComponent",cellRendererParams:{unitId:null===(t=this.unit)||void 0===t?void 0:t.getId()},headerComponentParams:{planningDay:e}}})}}getCountersGridDefinition(){const e="counters";return{marryChildren:!0,children:[{headerClass:"epop-planning-grid-header__no-padding",pinned:"right",width:50,headerComponent:"ColumnHeaderCollapserComponent",headerComponentParams:{columnToCollapse:[e],defaultIsCollapsed:this.defaultIsCounterStateCollapsed,onCollapse:e=>this.updatePlanningAlignementSpace(e),collapserTitle:this.translocoService.translate("planningGenerator.planning.affectations.model.counters.label")}},{headerClass:"epop-planning-grid-header__no-padding",field:e,pinned:"right",width:110,cellRenderer:"PlanningCountersCellComponent",headerComponent:"PlanningCountersHeaderComponent",headerComponentParams:{counterName:this.translocoService.translate("planningGenerator.planning.affectations.model.counters.hours")}}]}}updatePlanningAlignementSpace(e){if(this.gridApi){let t=50+(e?0:110);t+=qs.getVerticalScrollWitdh(this.gridApi),this.planningAlignementSpace=t}else this.planningAlignementSpace=0}getLeftPlanningOffset(){return 250}}return e.\u0275fac=function(t){return new(t||e)(a.Ob(a.h),a.Ob(pa),a.Ob(Ka),a.Ob(w.i))},e.\u0275cmp=a.Ib({type:e,selectors:[["epop-planning-grid"]],viewQuery:function(e,t){if(1&e&&a.Rc(Zs,!0),2&e){let e;a.xc(e=a.dc())&&(t.requirementGridComponent=e.first)}},inputs:{unit:"unit"},decls:1,vars:2,consts:[[4,"transloco","translocoScope","translocoRead"],["fxLayout","column",1,"epop-planning-grid"],[1,"epop-planning-grid__header-ripple__label"],[1,"ag-theme-alpine","epop-planning-grid__grid",3,"columnDefs","gridOptions","alignedGrids","frameworkComponents","suppressContextMenu"],[3,"planningAlignementSpace","planningGridOptions"]],template:function(e,t){1&e&&a.Lc(0,nl,9,18,"ng-container",0),2&e&&a.nc("translocoScope","planningGenerator")("translocoRead","planningGenerator")},directives:[w.g,wt.c,xt.a,Zs],pipes:[k.b],styles:[".epop-planning-grid[_ngcontent-%COMP%]{width:100%;height:100%}.epop-planning-grid__header-ripple[_ngcontent-%COMP%]{border-bottom:2px solid;margin-bottom:-2px;z-index:1}.epop-planning-grid__header-ripple--planned[_ngcontent-%COMP%]{border-color:#00b2e3}.epop-planning-grid__header-ripple--planned[_ngcontent-%COMP%]   .epop-planning-grid__header-ripple__label[_ngcontent-%COMP%]{background-color:#00b2e3}.epop-planning-grid__header-ripple--onPreparation[_ngcontent-%COMP%]{border-color:#c055ff}.epop-planning-grid__header-ripple--onPreparation[_ngcontent-%COMP%]   .epop-planning-grid__header-ripple__label[_ngcontent-%COMP%]{background-color:#c055ff}.epop-planning-grid__header-ripple--generated[_ngcontent-%COMP%]{border-color:#c055ff}.epop-planning-grid__header-ripple--generated[_ngcontent-%COMP%]   .epop-planning-grid__header-ripple__label[_ngcontent-%COMP%]{background-color:#c055ff}.epop-planning-grid__header-ripple__label[_ngcontent-%COMP%]{display:inline-block;width:20rem;border-radius:5px 5px 0 0;line-height:2rem;font-size:1.1rem;color:#fff;text-align:center}.epop-planning-grid__grid[_ngcontent-%COMP%]{width:100%;height:300px}.epop-planning-grid__grid[_ngcontent-%COMP%]     .ag-header{background-color:#fff}.epop-planning-grid__grid[_ngcontent-%COMP%]     .ag-header .ag-header-row:after{height:calc(100% + 1px);top:0;background-color:#ebebeb}.epop-planning-grid__grid[_ngcontent-%COMP%]     .ag-header .epop-planning-grid-header__no-padding{padding:0}.epop-planning-grid__grid[_ngcontent-%COMP%]     .ag-cell{padding:0;border-right:1px solid #ebebeb;background:#fff}.epop-planning-grid[_ngcontent-%COMP%]     .ag-header{border-bottom:0;overflow:visible}.epop-planning-grid[_ngcontent-%COMP%]     .ag-header .ag-header-cell, .epop-planning-grid[_ngcontent-%COMP%]     .ag-header .ag-header-row, .epop-planning-grid[_ngcontent-%COMP%]     .ag-header .ag-pinned-right-header{overflow:visible}"]}),e})(),ol=(()=>{class e{}return e.\u0275mod=a.Mb({type:e}),e.\u0275inj=a.Lb({factory:function(t){return new(t||e)},imports:[[k.c,ar,w.h,Wt.a,Yi.b,en.b,Tr,Sr.b,Hi,A,Mr,Rr,Lr]]}),e})();a.Ec(nr,[w.g,Er.a,jr.a,Ur.a,Br.a,is,ss,il,k.l,k.q],[])}}]);